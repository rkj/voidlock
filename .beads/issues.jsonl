{"id":"voidlock-00v","title":"Docs: Finalize Debug Spec Updates","description":"Ensure spec/ui.md and spec/commands.md accurately reflect the new debug requirements. (Already partially applied).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:02:54.71067202-08:00","updated_at":"2026-01-03T19:08:39.923582111-08:00","closed_at":"2026-01-02T18:07:00.736445468-08:00","close_reason":"Spec updated to reflect implemented debug features (Overlay, LOS Toggle, State Export). Version bumped to 0.43.8."}
{"id":"voidlock-01b","title":"Implement Soldier Core AI (Threat, Engagement, Self-preservation)","description":"Implement the core soldier AI behaviors for threat evaluation, engagement, and self-preservation as described in spec.md's '4.1 Soldier logic profile' section. This includes logic for targeting, attacking, and basic defensive actions.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T15:33:04.070938161-08:00","updated_at":"2026-01-03T19:08:39.663555369-08:00","closed_at":"2025-12-17T21:01:38.192201816-08:00"}
{"id":"voidlock-02o","title":"Update AGENTS.md with no-push rule","description":"Add an explicit instruction to AGENTS.md that the agent must not push changes to the remote repository without explicit user instruction.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:42:10.249693801-08:00","updated_at":"2026-01-03T19:08:39.672675028-08:00","closed_at":"2025-12-13T13:42:19.782904853-08:00"}
{"id":"voidlock-050","title":"Document spec update workflow","description":"Update project documentation to require spec.md updates before creating beads tasks for requested changes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:19:41.313117098-08:00","updated_at":"2026-01-03T19:08:39.677115833-08:00","closed_at":"2025-12-13T13:22:10.594758817-08:00"}
{"id":"voidlock-078","title":"Allow changing game speed during mission","description":"Add a game speed slider to the top bar of the mission screen, after the seed display. It should allow real-time adjustment of the time scale.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-23T20:58:26.229494835-08:00","updated_at":"2026-01-03T19:08:39.933629539-08:00","closed_at":"2025-12-23T21:04:18.957291578-08:00","dependencies":[{"issue_id":"voidlock-078","depends_on_id":"voidlock-6vy","type":"discovered-from","created_at":"2025-12-23T20:58:26.230980247-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-08h","title":"Ensure Renderer correctly visualizes Doors and map features","description":"Implement door rendering (open/closed/locked/destroyed states) in src/renderer/Renderer.ts. Address the 'flat' map appearance, ensuring correct wall rendering and visual distinction for doors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:43:09.859977066-08:00","updated_at":"2026-01-03T19:08:39.672115355-08:00","closed_at":"2025-12-13T13:46:10.340541611-08:00"}
{"id":"voidlock-08y","title":"Add 9x9 TreeShipGenerator test case","description":"Add a new test case to src/engine/tests/generators/TreeShipGenerator.cycle.test.ts for a 9x9 map, including hardcoded ASCII output for visual review and an assertion for acyclicity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T17:10:03.009060386-08:00","updated_at":"2026-01-03T19:08:39.801605521-08:00","closed_at":"2025-12-15T18:50:27.008027733-08:00","labels":["complexity:medium"]}
{"id":"voidlock-09i","title":"Implement Soldier List Panel","description":"Add right-side UI panel listing soldiers and their status","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T12:43:59.799767097-08:00","updated_at":"2026-01-03T19:08:39.630223168-08:00","closed_at":"2025-12-13T12:47:04.584272868-08:00","dependencies":[{"issue_id":"voidlock-09i","depends_on_id":"voidlock-97y","type":"parent-child","created_at":"2025-12-13T12:43:59.800442772-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-0d8","title":"Implement MapGenerator.fromAscii method (expanded grid format)","description":"Implement a method in MapGenerator to parse an ASCII string representation (using the expanded grid format) back into a MapDefinition object as per spec.md section 7.3. This method should infer wall states, handle cell content, and use sensible defaults for non-ASCII attributes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:51:41.084778517-08:00","updated_at":"2026-01-03T19:08:39.632991974-08:00","closed_at":"2025-12-14T18:47:18.722719283-08:00"}
{"id":"voidlock-0fe","title":"Propagate door updates to Graph Boundaries","description":"Ensure dynamic door updates in CoreEngine correctly update the shared Boundary objects in the Graph.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:13.282930812-08:00","updated_at":"2026-01-03T19:08:39.703872804-08:00","closed_at":"2025-12-24T15:29:09.443199216-08:00"}
{"id":"voidlock-0g8","title":"Improve Door Rendering Visibility","description":"Modify src/renderer/Renderer.ts to make doors more visible and distinct, using contrasting colors, thicker lines, or different rendering techniques based on their state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:03:47.567428324-08:00","updated_at":"2026-01-03T19:08:39.875333215-08:00","closed_at":"2025-12-13T14:04:20.769216812-08:00"}
{"id":"voidlock-0gq","title":"Map Gen: Strict Entity Placement","description":"Epic for implementing strict entity placement rules to prevent invalid map generation (e.g. Squad Spawns sharing rooms with Enemies).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T17:57:57.733641951-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.511533453-08:00","closed_at":"2026-01-02T18:29:48.082965264-08:00","close_reason":"Duplicate of xenopurge-gemini-tfny (Engine: Fix Map Placement Logic) and xenopurge-gemini-x81g (Test: Map Placement Fuzzing)."}
{"id":"voidlock-0i0","title":"Perform final documentation review and cleanup","description":"Review all generated docs and ensure accuracy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:32.344052992-08:00","updated_at":"2026-01-03T19:08:39.585362383-08:00","closed_at":"2025-12-21T10:20:45.775839499-08:00","dependencies":[{"issue_id":"voidlock-0i0","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:32.34487703-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-0j6","title":"Fix Build: Item System Integration","description":"The codebase is in a broken state following an incomplete implementation of the Item System (voidlock-bel). Fix compilation errors in src/shared/types.ts, src/engine/CoreEngine.ts, and ensure the build passes.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-28T18:38:00.092853906-08:00","updated_at":"2026-01-03T19:08:39.722178267-08:00","closed_at":"2025-12-28T19:21:54.250442271-08:00"}
{"id":"voidlock-0jk6","title":"Fix: Campaign mission launch blank screen","description":"Fix `GameApp.ts` to explicitly hide `campaignShell` in `onCampaignNodeSelected`. Verified by `tests/e2e/CampaignLaunch.test.ts`.","status":"closed","priority":1,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T11:34:47.949054008-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T12:51:27.365107023-08:00","closed_at":"2026-01-19T12:51:27.365107023-08:00","close_reason":"Implemented via sub-agent and verified. Updated GameApp.ts to explicitly hide the campaignShell in onCampaignNodeSelected. Verified with JSDOM integration test 'regression_voidlock_tbuh_shell_visibility.test.ts' which now passes.","dependencies":[{"issue_id":"voidlock-0jk6","depends_on_id":"voidlock-tbuh","type":"blocks","created_at":"2026-01-19T11:35:31.330606232-08:00","created_by":"Roman Kamyk"}],"comments":[{"id":17,"issue_id":"voidlock-0jk6","author":"Roman Kamyk","text":"## Verification Note\\nThe E2E test tests/e2e/CampaignLaunch.test.ts is currently disabled due to environment limitations. Please use the JSDOM integration test tests/renderer/integration/regression_voidlock_tbuh_shell_visibility.test.ts to verify your fix. It is currently failing as expected.","created_at":"2026-01-19T20:49:01Z"}]}
{"id":"voidlock-0k4","title":"Campaign: Isolate and Hide Mission Config","description":"Ensure Campaign missions use fixed settings and do not pollute Custom Mission state.\\n\\n1. State Management: Store 'customConfig' and 'activeCampaignConfig' separately in the ConfigManager.\\n2. UI Hiding: When entering mission setup from Campaign, **COMPLETELY HIDE** the Map Configuration section. The screen should focus solely on Squad Selection/Briefing.\\n3. Persistence: Ensure that playing a campaign mission does not change the default settings for the next Custom Mission.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T15:03:56.69562885-08:00","updated_at":"2026-01-03T19:08:39.509190284-08:00","closed_at":"2026-01-01T17:22:23.844939034-08:00"}
{"id":"voidlock-0kh","title":"Make TreeShipGenerator default and improve door navigation","description":"1. Set TreeShipGenerator as default map generator with 14x14 size.\n2. Update Pathfinder to allow paths through Closed doors.\n3. Update CoreEngine to pause unit movement if the next step is blocked by a Closed door (waiting for it to open).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T16:12:09.984031541-08:00","updated_at":"2026-01-03T19:08:39.628934474-08:00","closed_at":"2025-12-14T16:15:17.34516526-08:00","labels":["complexity:medium"]}
{"id":"voidlock-0ma","title":"UI: Fix Custom Mission Screen Scroll","description":"The custom mission screen's settings box is not scrollable. This prevents users from clicking 'Start Mission' as it is pushed below the fold, and the title can be pushed off the top. The container needs to be scrollable to accommodate all settings on smaller screens.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-27T09:18:13.959408964-08:00","updated_at":"2026-01-03T19:08:39.79999149-08:00","closed_at":"2025-12-27T10:00:22.693297936-08:00"}
{"id":"voidlock-0mg","title":"Render soldier numbers","description":"Display the soldier's index/number inside their rendered circle for easier identification.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T09:27:02.107643708-08:00","updated_at":"2026-01-03T19:08:39.68228178-08:00","closed_at":"2025-12-26T10:21:12.232976543-08:00"}
{"id":"voidlock-0nc","title":"Add 100 loop-based acyclic TreeShipGenerator tests","description":"Add a loop-based test suite to src/engine/tests/generators/TreeShipGenerator.cycle.test.ts that runs 100 iterations with different seeds (e.g., seed = 123; seed \u003c 12345; seed++) to verify that the TreeShipGenerator consistently produces acyclic maps. These tests should *not* include ASCII output.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T17:10:12.581280197-08:00","updated_at":"2026-01-03T19:08:39.627215306-08:00","closed_at":"2025-12-14T18:54:00.607242843-08:00","labels":["complexity:hard"]}
{"id":"voidlock-0nub","title":"Add Debug Win/Lose Buttons","description":"Add Force Win and Force Lose buttons to the debug overlay in the Renderer. These should trigger game-over states via the GameClient/Director. Required for testing end-of-mission flows.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T07:06:08.742959141-08:00","created_by":"rkj","updated_at":"2026-01-07T07:31:06.369822945-08:00","closed_at":"2026-01-07T07:31:06.369822945-08:00","close_reason":"Added Force Win and Force Lose buttons to the debug overlay. Implemented corresponding commands in the engine and GameClient. Verified with new regression tests and fixed all existing test compilation errors. Build and lint pass."}
{"id":"voidlock-0oi","title":"Refactor Soldier Bar UI","description":"1. Remove scrolling mechanism entirely; items should fit or use a better layout (flex-wrap or scaling). 2. Widen soldier cards to prevent text wrapping. 3. Fix layout jitter caused by status text updates (use fixed widths/min-widths).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T18:46:08.381213623-08:00","updated_at":"2026-01-03T19:08:39.561312616-08:00","closed_at":"2025-12-23T18:57:21.744851467-08:00"}
{"id":"voidlock-0p6","title":"Regression: Restore Mission Setup Screen Content","description":"The Map Generation and Squad Configuration controls were accidentally deleted from index.html during the previous update. Restoration is required immediately.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-31T19:59:30.774704304-08:00","updated_at":"2026-01-03T19:08:39.806819058-08:00","closed_at":"2025-12-31T20:02:17.139541912-08:00"}
{"id":"voidlock-0sg","title":"Maintain Documentation Consistency and Completeness","description":"Regularly review spec.md to ensure all requirements are tracked by Beads tasks, create new tasks for missing items, and move agent-specific instructions to AGENTS.md. This is a recurring maintenance task.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-13T15:32:06.576046991-08:00","updated_at":"2026-01-03T19:08:39.493783687-08:00","closed_at":"2025-12-17T21:01:49.459052707-08:00"}
{"id":"voidlock-0uu","title":"Bug: Soldiers shooting through walls","description":"Soldiers are able to engage and shoot enemies even when a wall should block the Line of Sight or the projectile path. Need to investigate LineOfSight.ts and combat resolution logic in CoreEngine.ts.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T10:10:30.272005077-08:00","updated_at":"2026-01-03T19:08:39.927746433-08:00","closed_at":"2025-12-21T10:34:54.610906823-08:00","dependencies":[{"issue_id":"voidlock-0uu","depends_on_id":"voidlock-8e2","type":"discovered-from","created_at":"2025-12-21T10:10:30.273216997-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-0we","title":"Remove soldier overlap jitter","description":"Soldiers wiggle weirdly when in the same square. Disable the separation/jitter behavior; overlapping circles are acceptable.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-26T09:27:02.088789458-08:00","updated_at":"2026-01-03T19:08:39.717599975-08:00","closed_at":"2025-12-26T10:21:12.186927585-08:00"}
{"id":"voidlock-0xe","title":"Implement MapGenerator.toAscii method (expanded grid format)","description":"Implement a method in MapGenerator to convert a MapDefinition object into its ASCII string representation using the expanded grid format as per spec.md section 7.3. This includes representing cells, walls, doors, and special points (S, E, O).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:54:14.478215529-08:00","updated_at":"2026-01-03T19:08:39.768736471-08:00","closed_at":"2025-12-14T11:14:40.422562046-08:00"}
{"id":"voidlock-1","title":"Squad Selection Constraints","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T18:10:38.987147795-08:00","created_by":"rkj","updated_at":"2026-01-04T15:24:38.474058629-08:00","closed_at":"2026-01-04T15:24:38.474058629-08:00","close_reason":"All dependent tasks (voidlock-2, voidlock-3) completed and verified.","dependencies":[{"issue_id":"voidlock-1","depends_on_id":"voidlock-2","type":"blocks","created_at":"2026-01-03T19:06:21.822171296-08:00","created_by":"import"},{"issue_id":"voidlock-1","depends_on_id":"voidlock-3","type":"blocks","created_at":"2026-01-03T19:06:21.823554675-08:00","created_by":"import"}]}
{"id":"voidlock-1100","title":"Regression Test: Dead Soldiers XP","description":"Implements `spec/campaign.md#3.3`\n\nAdd a new test case to `tests/engine/managers/CampaignManager.test.ts`.\n\n**Test Logic:**\n1. Start a campaign in 'Hard' (Ironman) mode to ensure death is permanent/tracked.\n2. Manually set a soldier's XP to 80 (Level 1).\n3. Construct a `MissionReport` where this soldier has `status: 'Dead'` but has accumulated kills.\n4. Call `processMissionResult`.\n5. Assert that:\n   - The soldier's XP remains 80.\n   - The soldier's Level remains 1.\n   - The soldier's status is 'Dead'.\n   - The `xpGained` in the result object is 0.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:01:35.743368639-08:00","created_by":"rkj","updated_at":"2026-01-11T19:12:38.229102917-08:00","closed_at":"2026-01-11T19:12:38.229102917-08:00","close_reason":"Implemented via sub-agent and verified.","dependencies":[{"issue_id":"voidlock-1100","depends_on_id":"voidlock-enem","type":"blocks","created_at":"2026-01-07T20:01:44.466642054-08:00","created_by":"rkj"}]}
{"id":"voidlock-14a","title":"Define static map data structure and create JSON for screenshot map","description":"Design a JSON structure for static map definitions, including cells, walls, extraction, objectives, and spawns. Then, create a JSON file representing the map from the provided screenshot.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:24:21.453608732-08:00","updated_at":"2026-01-03T19:08:39.736814009-08:00","closed_at":"2025-12-13T13:35:48.394323041-08:00","dependencies":[{"issue_id":"voidlock-14a","depends_on_id":"voidlock-o5k","type":"related","created_at":"2025-12-13T13:24:35.099816996-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-17l","title":"Implement Static Map File Upload","description":"Add a dedicated file input in the UI for uploading static map JSON files, allowing users to load maps without copy-pasting.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T14:27:52.139256012-08:00","updated_at":"2026-01-03T19:08:39.663082292-08:00","closed_at":"2025-12-14T13:06:18.684012189-08:00"}
{"id":"voidlock-1bwt","title":"UI: Improve Squad Roster Sorting \u0026 Visuals","description":"Implements spec/ui.md#squad-configuration. Modify src/renderer/app/GameApp.ts (renderSquadBuilder): 1) Sort the rendered roster: Healthy \u003e Wounded \u003e Dead. 2) Visuals: Add a .deployed class to roster cards that are currently assigned to a slot. Style it (e.g., dimmed, blue border) to be distinct from .dead (red/gray) and normal cards.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-17T16:53:09.047409798-08:00","created_by":"rkj","updated_at":"2026-01-17T17:12:47.837884453-08:00","deleted_at":"2026-01-17T17:12:47.837884453-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"voidlock-1ec","title":"Add debug coordinate rendering to Web Map","description":"Implement rendering of cell coordinates (x,y) in the top-left corner of each tile when debugOverlayEnabled is true. This is critical for diagnosing invisible door issues.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T21:11:33.352395517-08:00","updated_at":"2026-01-03T19:08:39.510324043-08:00","closed_at":"2025-12-19T21:16:27.519601238-08:00"}
{"id":"voidlock-1i9o","title":"Include Map Generator Name in World State Export","description":"Implements `spec/ui.md#8.2`\n\nThe current 'Copy World State' JSON buries the generator name inside the map definition.\n\n**Task:**\nModify `src/renderer/DebugUtility.ts`:\n1. Extract `generatorName` from `state.map` (or `replayData.map`).\n2. Add a new top-level field `mapGenerator` to the exported JSON object.\n3. Ensure it falls back to 'Unknown' if undefined.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T20:35:38.567085954-08:00","created_by":"rkj","updated_at":"2026-01-07T21:27:26.102554091-08:00","closed_at":"2026-01-07T21:27:26.102554091-08:00","close_reason":"Implemented via sub-agent and verified with a new regression test and a full suite pass."}
{"id":"voidlock-1ix1","title":"Repro: Custom Mission scrollbar clipping","description":"Create a Puppeteer test `tests/e2e/ScrollbarClipping.test.ts` that sets a small viewport (e.g., 800x600) and asserts that the \"Confirm\" button is either off-screen or the container is scrollable.","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T11:34:58.069648524-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T16:17:32.044108586-08:00","closed_at":"2026-01-19T16:17:32.044108586-08:00","close_reason":"Verified fix with E2E test. Layout is scrollable and button is accessible.","dependencies":[{"issue_id":"voidlock-1ix1","depends_on_id":"voidlock-vb9c","type":"blocks","created_at":"2026-01-19T11:35:36.381417448-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1m8l","title":"Implement Quick Recruit in Mission Setup","description":"Implements spec/ui.md#8.1. Adds a 'Recruit' button to the roster panel when available soldiers \u003c 4.","status":"closed","priority":2,"issue_type":"feature","owner":"rkj@google.com","created_at":"2026-01-17T20:53:31.161208762-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:35:59.999394707-08:00","closed_at":"2026-01-18T19:35:59.999394707-08:00","close_reason":"Already implemented as part of voidlock-dp5x. Quick Recruit button is now available in the Mission Setup roster when available soldiers \u003c 4."}
{"id":"voidlock-1ncu","title":"UI: Add Global Stats to Campaign Screen","description":"Implements spec/ui.md#meta-stats. Update src/renderer/screens/CampaignScreen.ts to display a summary of global stats (e.g., 'Total Kills: X') somewhere on the Command Bridge interface (e.g., bottom bar or top header). Ensure it uses MetaManager.getStats().","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2026-01-17T16:53:31.056962961-08:00","created_by":"rkj","updated_at":"2026-01-17T17:12:57.911407929-08:00","deleted_at":"2026-01-17T17:12:57.911407929-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"voidlock-1owo","title":"Implement Pay-to-Equip Economic Logic","description":"The implementation logic is correct, but 'npm run build' failed with TypeScript errors in 'src/renderer/screens/EquipmentScreen.ts'.\n\nErrors:\n1. Cannot find name 'EquipmentState'. (Likely missing import or incorrect name).\n2. Element implicitly has an 'any' type because expression of type 'string | number | symbol' can't be used to index type 'SquadSoldierConfig'.\n\nPlease fix the type definitions and ensure 'EquipmentState' (or the correct equivalent) is imported and used correctly for indexing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:19:40.263920955-08:00","created_by":"rkj","updated_at":"2026-01-08T21:36:40.069189311-08:00","closed_at":"2026-01-08T21:36:40.069189311-08:00","close_reason":"Implemented pay-to-equip economic logic. Verified with build, automated tests, and manual UI testing."}
{"id":"voidlock-1pn","title":"Fix Menu Re-render Loop","description":"Fix the issue where the command menu re-renders on every tick due to HTML entity mismatches, preventing clicks. Implement a 'lastMenuHtml' cache in main.ts to only update the DOM when the menu content actually changes. Switch to event delegation for robust click handling.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T11:07:26.669827613-08:00","updated_at":"2026-01-03T19:08:39.454844651-08:00","closed_at":"2025-12-25T11:24:28.489133112-08:00","dependencies":[{"issue_id":"voidlock-1pn","depends_on_id":"voidlock-96a","type":"discovered-from","created_at":"2025-12-25T11:07:26.67781101-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-1umz","title":"Unified Screen Layout \u0026 DOM Redesign","description":"Comprehensive architectural overhaul to implement a Global Game Shell with consistent Header/Footer and active DOM management (mounting/unmounting screens) to fix layout clipping and zombie DOM nodes. Replaces ad-hoc CSS fixes.","status":"closed","priority":0,"issue_type":"epic","owner":"rkj@google.com","created_at":"2026-01-19T13:29:31.52024519-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T14:12:57.497423637-08:00","closed_at":"2026-01-19T14:12:57.497423637-08:00","close_reason":"All child tasks completed and verified."}
{"id":"voidlock-1umz.1","title":"ADR 0028: Unified Screen Layout","description":"Write the Architecture Decision Record for the Global Shell, DOM mounting strategy, and screen lifecycle. Define the 'render()' and 'getLayoutConfig()' contracts for screens.","status":"closed","priority":0,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T13:29:45.374809847-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:31:17.300324051-08:00","closed_at":"2026-01-19T13:31:17.300324051-08:00","close_reason":"Created final ADR 0028 defining the Global Shell architecture, Screen interface, and mounting strategy to permanently fix layout clipping issues.","dependencies":[{"issue_id":"voidlock-1umz.1","depends_on_id":"voidlock-1umz","type":"parent-child","created_at":"2026-01-19T13:29:45.37636951-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1umz.2","title":"Fix Puppeteer Environment","description":"Investigate and fix the local environment to allow 'npm install puppeteer' or otherwise enable the execution of Puppeteer E2E tests. This is a BLOCKER for all visual verification.","status":"closed","priority":0,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T13:29:58.984063225-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:32:39.831442335-08:00","closed_at":"2026-01-19T13:32:39.831442335-08:00","close_reason":"Puppeteer environment was already fixed and verified in the previous session (npm install succeeded, and PuppeteerCheck.test.ts passed).","dependencies":[{"issue_id":"voidlock-1umz.2","depends_on_id":"voidlock-1umz","type":"parent-child","created_at":"2026-01-19T13:29:58.984987611-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1umz.3","title":"Repro: Equipment Screen Layout","description":"Write a Puppeteer E2E test to reproduce the layout clipping on the Equipment Screen at small viewports. Must fail until the redesign is implemented.","status":"closed","priority":1,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T13:30:13.511774355-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:37:18.653141417-08:00","closed_at":"2026-01-19T13:37:18.653141417-08:00","close_reason":"Implemented via sub-agent and verified. Created 'tests/e2e/EquipmentScreenRepro.test.ts' which successfully reproduces the vertical clipping/overflow issue on the Equipment Screen at 600x400 viewports. The test fails as expected, confirming the bug for future verification of the layout redesign.","dependencies":[{"issue_id":"voidlock-1umz.3","depends_on_id":"voidlock-1umz","type":"parent-child","created_at":"2026-01-19T13:30:13.513349289-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1umz.4","title":"Implement Global Shell \u0026 Redesign","description":"Refactor index.html, ScreenManager, and all Screen classes to implement the Global Shell architecture defined in ADR 0028.","status":"closed","priority":1,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T13:30:26.599159903-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:38:55.125500635-08:00","closed_at":"2026-01-19T13:38:55.125500635-08:00","close_reason":"Implemented via sub-agent and verified. Created GameShell.ts class and Screen.ts interface/types to support the new global shell architecture defined in ADR 0028.","dependencies":[{"issue_id":"voidlock-1umz.4","depends_on_id":"voidlock-1umz","type":"parent-child","created_at":"2026-01-19T13:30:26.600183514-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1umz.5","title":"Fix Equipment Screen Clipping \u0026 Test Timeouts","description":"Fix regression in tests/e2e/EquipmentScreenRepro.test.ts where footer is clipped on small viewports. Also investigate and fix timeouts in tests/e2e/GlobalErrorAlert.test.ts and tests/scripts/verify_assets.test.ts.","status":"closed","priority":0,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T14:03:21.650301136-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T14:12:52.439711455-08:00","closed_at":"2026-01-19T14:12:52.439711455-08:00","close_reason":"Implemented and verified via sub-agent.","dependencies":[{"issue_id":"voidlock-1umz.5","depends_on_id":"voidlock-1umz","type":"parent-child","created_at":"2026-01-19T14:03:21.651134156-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-1zn","title":"Prepare Nano Banana asset queries","description":"Create a document with highly specific prompts for Nano Banana to generate sci-fi/claustrophobic spaceship assets (tiles, doors, units, effects) matching the game's neon-on-dark aesthetic.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-23T19:11:44.534015829-08:00","updated_at":"2026-01-03T19:08:39.50691703-08:00","closed_at":"2025-12-26T07:17:12.054213987-08:00"}
{"id":"voidlock-2","title":"Filter VIP from Squad Builder","description":"See spec/ui.md#squad-configuration. In src/renderer/main.ts, modify renderSquadBuilder to explicitly exclude the vip archetype from the list.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:10:51.139904964-08:00","created_by":"rkj","updated_at":"2026-01-04T15:21:15.817192459-08:00","closed_at":"2026-01-04T15:21:15.817192459-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-23l","title":"Implement comprehensive unit tests for core game mechanics","description":"Create robust unit tests for GameGrid.canMove, Pathfinder.findPath, and LineOfSight.hasLineOfSight. Tests should use small, fixed JSON map definitions covering scenarios with walls and doors in various states. Remove debug logs from LineOfSight.ts and GameGrid.ts after successful implementation.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T15:07:33.925972232-08:00","updated_at":"2026-01-03T19:08:39.474038356-08:00","closed_at":"2025-12-13T15:16:57.925383394-08:00"}
{"id":"voidlock-24t","title":"Fix ASCII Generator Rendering","description":"Investigate and fix ASCII map rendering to correctly represent internal walls and doors in 2x2 blocks. Verify if 'door in the middle' is a rendering artifact or map generation issue.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T19:43:10.551473376-08:00","updated_at":"2026-01-03T19:08:39.620750005-08:00","closed_at":"2025-12-20T11:27:55.050315604-08:00"}
{"id":"voidlock-25o1","title":"chore","description":"Implements spec/ui.md. Ref: docs/adr/0024-refactor-game-app.md. Extract SquadBuilder logic into src/renderer/components/SquadBuilder.ts.","status":"closed","priority":3,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:05:36.757237639-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T21:43:00.010320942-08:00","closed_at":"2026-01-18T21:43:00.010320942-08:00","close_reason":"Implemented via sub-agent and verified. SquadBuilder extracted to standalone component, tests fixed and passing, build successful."}
{"id":"voidlock-28k","title":"Add randomization to soldier movements","description":"Introduce slight jitter or randomized pathing offsets to soldier movements to prevent perfect stacking and make squad movement look more natural.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:25:31.571314445-08:00","updated_at":"2026-01-03T19:08:39.945449001-08:00","closed_at":"2025-12-19T19:07:09.617239094-08:00"}
{"id":"voidlock-2aa","title":"Implement save/load configuration and last-run setup via LocalStorage","description":"Implement functionality to save and load game configuration and the last-run setup using LocalStorage, as per spec.md's '0) Scope and non-goals' section.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T15:32:26.822518021-08:00","updated_at":"2026-01-03T19:08:39.661702988-08:00","closed_at":"2025-12-17T19:51:53.781797476-08:00"}
{"id":"voidlock-2ed","title":"Implement Map Generator","description":"Procedural map generation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:26:43.51151808-08:00","updated_at":"2026-01-03T19:08:39.624210399-08:00","closed_at":"2025-12-13T11:27:13.443681088-08:00","dependencies":[{"issue_id":"voidlock-2ed","depends_on_id":"voidlock-488","type":"parent-child","created_at":"2025-12-13T11:26:43.524238011-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-2ef","title":"Implement Hierarchical Command Menu UI","description":"Develop a multi-level, keyboard-navigable menu system for issuing commands (Move, Collect, Extract, Use Items). This includes submenus for targets (e.g., 'move where').","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T20:01:16.413476458-08:00","updated_at":"2026-01-03T19:08:39.567190042-08:00","closed_at":"2025-12-22T20:57:03.216253482-08:00"}
{"id":"voidlock-2er","title":"Implement MapGenerator to load static map data","description":"Add a method to MapGenerator (e.g., loadStaticMap) that accepts a MapDefinition object and returns it, allowing the game to use predefined map layouts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:24:23.014582735-08:00","updated_at":"2026-01-03T19:08:39.937424343-08:00","closed_at":"2025-12-13T13:36:04.145273178-08:00","dependencies":[{"issue_id":"voidlock-2er","depends_on_id":"voidlock-14a","type":"blocks","created_at":"2025-12-13T13:24:23.015366449-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-2er","depends_on_id":"voidlock-yxg","type":"related","created_at":"2025-12-13T13:35:54.898224771-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-2io","title":"Fix Stop Button","description":"The 'Stop' button on the soldier card does nothing. Connect it to the engine's STOP command logic to immediately halt the unit's movement and queue.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T18:46:08.363366505-08:00","updated_at":"2026-01-03T19:08:39.917885133-08:00","closed_at":"2025-12-23T18:56:21.920095136-08:00"}
{"id":"voidlock-2j5","title":"Campaign: Implement CampaignManager","description":"Create 'src/renderer/campaign/CampaignManager.ts'. Implement logic for:\\n1. 'startNewCampaign(seed, difficulty)': Procedural generation of the Sector DAG.\\n2. 'save/load': Persistence to localStorage.\\n3. 'getAvailableNodes()': Traversal logic.\\n4. 'processMissionResult()': Updating state after a mission.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-31T21:21:54.412456123-08:00","updated_at":"2026-01-03T19:08:39.463670933-08:00","closed_at":"2025-12-31T21:26:36.957707407-08:00","dependencies":[{"issue_id":"voidlock-2j5","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T21:21:54.414540529-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-2lg6","title":"Update CampaignScreen setup UI default style","description":"Implements spec/ui.md#8.6. Updates the campaign setup wizard in CampaignScreen.ts to select Tactical Icons by default in the dropdown.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:44:52.818391408-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T17:46:08.02487746-08:00","closed_at":"2026-01-18T17:46:08.02487746-08:00","close_reason":"Updated the unit style dropdown in CampaignScreen.ts to select Tactical Icons by default. Added regression test and updated documentation. Verified with full test pass and build.","comments":[{"id":14,"issue_id":"voidlock-2lg6","author":"Roman Kamyk","text":"The sub-agent previously looped. Note that the unit style dropdown in CampaignScreen.ts uses the ID 'campaign-unit-style', not 'select-unit-style'. Please update the default selection in CampaignScreen.ts as requested.","created_at":"2026-01-19T01:41:47Z"}]}
{"id":"voidlock-2nhq","title":"Implement Drag-and-Drop Squad Selection UI","description":"Implements `spec/ui.md#8.1`\n\nRefactor the 'Squad Configuration' section in `src/renderer/main.ts` (specifically `renderSquadBuilder`) to use a Drag-and-Drop interface.\n\n**Requirements:**\n1. **Layout**:\n   - Create a Flex row with two columns:\n     - **Left (Roster)**: A container with `overflow-y: auto` listing draggable soldier cards.\n     - **Right (Deployment)**: A fixed container with 4 drop-zone slots.\n2. **Drag \u0026 Drop Logic**:\n   - Use HTML5 Drag \u0026 Drop API.\n   - Soldiers in Roster are `draggable=true`.\n   - Slots handle `dragover` and `drop`.\n   - On drop, update `currentSquad` and re-render.\n3. **Double-Click Shortcut**:\n   - Double-clicking a Roster item auto-fills the first empty slot.\n   - Double-clicking a Deployment slot clears it.\n4. **Visuals**:\n   - Slots should clearly indicate 'Empty', 'Occupied', or 'Locked' (for VIPs).\n   - Draggable cards should look interactive.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:46:18.293709703-08:00","created_by":"rkj","updated_at":"2026-01-09T19:20:17.240636281-08:00","closed_at":"2026-01-09T19:20:17.240636281-08:00","close_reason":"Implemented drag-and-drop squad selection UI with Roster and Deployment panels. Added double-click shortcuts and visual indicators. Updated integration tests."}
{"id":"voidlock-2no","title":"Bug: Unit command state not displaying in UI","description":"The unit card does not update to show the current command being executed (e.g., 'Extracting', 'Collecting'). Status remains static even when orders are issued.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-24T15:45:08.909302842-08:00","updated_at":"2026-01-03T19:08:39.940146151-08:00","closed_at":"2025-12-25T09:19:42.282357133-08:00"}
{"id":"voidlock-2nq","title":"UI: Implement Debug Controls","description":"Update InputManager for '~' keybind. Update HUDManager to render 'Copy World State' button when debug is on. Implement clipboard logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:03:15.19459453-08:00","updated_at":"2026-01-03T19:08:39.403307944-08:00","closed_at":"2026-01-02T18:24:50.183039323-08:00","close_reason":"Already implemented via Debug Tools task (trt4). InputManager handles ~, HUDManager renders button, main.ts handles clipboard.","dependencies":[{"issue_id":"voidlock-2nq","depends_on_id":"voidlock-gac","type":"blocks","created_at":"2026-01-02T09:03:34.847960915-08:00","created_by":"rkj","metadata":"{}"}]}
{"id":"voidlock-2ok","title":"Enhance door animation (sliding) and fix visual gaps","description":"Implement sliding animation for doors (middle to sides) based on openTimer. Fix issue where walls seem to disappear when doors open. Improve open door visuals.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T20:59:04.560746611-08:00","updated_at":"2026-01-03T19:08:39.699065797-08:00","closed_at":"2025-12-23T17:01:32.151846013-08:00"}
{"id":"voidlock-2pd","title":"Enforce Hive and Spawn Point Placement in Rooms","description":"Update DenseShipGenerator to strictly place Spawn Points, Objectives, and the Hive in Rooms, never in Corridors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T17:23:33.396221481-08:00","updated_at":"2026-01-03T19:08:39.562526865-08:00","closed_at":"2025-12-23T17:43:51.213313788-08:00"}
{"id":"voidlock-2pv","title":"M4: Agent harness","description":"Implement BotHarness and a sample bot agent","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:23:00.686967764-08:00","updated_at":"2026-01-03T19:08:39.930655399-08:00","closed_at":"2025-12-13T11:26:25.972320472-08:00"}
{"id":"voidlock-2t2","title":"Refactor: Move tests to tests/ directory","description":"Move all test files, snapshots, and GEMINI.md docs to tests/ directory. Update content of moved markdown files to reflect new paths.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:21:02.373390372-08:00","updated_at":"2026-01-03T19:08:39.410556707-08:00","closed_at":"2026-01-03T10:58:37.868418265-08:00","close_reason":"Successfully moved all tests to top-level 'tests/' directory and updated all imports to use '@src' path alias. Verified with tests and build.","dependencies":[{"issue_id":"voidlock-2t2","depends_on_id":"voidlock-eop","type":"blocks","created_at":"2026-01-01T18:37:04.053919576-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-2ui","title":"Implement TreeShipGenerator and UI updates","description":"Create a new generator 'TreeShipGenerator' where rooms form a tree structure branching from a main corridor (no loops). Add UI for map size selection and generator choice.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T16:06:35.947318474-08:00","updated_at":"2026-01-03T19:08:39.938365029-08:00","closed_at":"2025-12-14T16:08:41.491776725-08:00","labels":["complexity:hard"]}
{"id":"voidlock-2z0","title":"Bug: Missing walls on map edges or random cells","description":"Reported issue where certain cells are missing walls, leading to open voids. Example: 12x12 map, Seed 1766029929040. Cell (5,3) missing East wall (void?), (5,11) missing South wall, (8,3) missing West wall, (10,5) missing South wall. Need to verify if this is MapGenerator connectivity logic or a Renderer artifact.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-21T10:24:36.394431237-08:00","updated_at":"2026-01-03T19:08:39.764082614-08:00","closed_at":"2025-12-21T10:27:03.023560412-08:00"}
{"id":"voidlock-2zc","title":"Verify Phase 1: Audit \u0026 Documentation","description":"Manual verification step for Phase 1 completion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:16.979393712-08:00","updated_at":"2026-01-03T19:08:39.615536671-08:00","closed_at":"2025-12-21T10:10:33.025844533-08:00","dependencies":[{"issue_id":"voidlock-2zc","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:16.980269372-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-2ze","title":"Update LOS and Pathfinder for Graph","description":"Update LineOfSight and Pathfinder to traverse the graph boundaries instead of the old GameGrid walls.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:13.262626882-08:00","updated_at":"2026-01-03T19:08:39.701408152-08:00","closed_at":"2025-12-24T15:07:48.161424628-08:00"}
{"id":"voidlock-3","title":"Update Squad Builder Tests","description":"See spec/ui.md#squad-configuration. Update tests/renderer/SquadBuilder.test.ts to remove assertions that check for VIP selection and ensure VIP is not present in DOM.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:10:56.180782621-08:00","created_by":"rkj","updated_at":"2026-01-04T15:24:15.966119426-08:00","closed_at":"2026-01-04T15:24:15.966119426-08:00","close_reason":"Verified updated tests and ensured consistency.","dependencies":[{"issue_id":"voidlock-3","depends_on_id":"voidlock-2","type":"blocks","created_at":"2026-01-04T21:10:22.112736196-08:00","created_by":"rkj"}]}
{"id":"voidlock-33o","title":"Implement Bottom Panel (Timeline/Events Log)","description":"Develop the UI for the bottom panel of the Mission screen, displaying a timeline and log of significant in-game events for debugging and player feedback.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:15.338321479-08:00","updated_at":"2026-01-03T19:08:39.65661297-08:00","closed_at":"2025-12-15T19:57:24.219165676-08:00","labels":["complexity:medium"]}
{"id":"voidlock-36e","title":"Add 7x7 TreeShipGenerator test case","description":"Add a new test case to src/engine/tests/generators/TreeShipGenerator.cycle.test.ts for a 7x7 map, including hardcoded ASCII output for visual review and an assertion for acyclicity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T17:09:58.374853261-08:00","updated_at":"2026-01-03T19:08:39.737803977-08:00","closed_at":"2025-12-15T18:50:26.985124481-08:00","labels":["complexity:medium"]}
{"id":"voidlock-39i","title":"Develop Balance Simulator \u0026 Tune Parameters","description":"Create a headless simulator to run many matches (4 soldiers vs default AI on 8x8). Tune stats (HP, speed, spawn rate, damage) to achieve ~50% win rate, with \u003e50% of wins involving casualties.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-21T19:00:20.967924522-08:00","updated_at":"2026-01-03T19:08:39.467973523-08:00","closed_at":"2025-12-23T17:47:36.913279198-08:00","dependencies":[{"issue_id":"voidlock-39i","depends_on_id":"voidlock-400","type":"blocks","created_at":"2026-01-19T11:34:53.021430947-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-3a7","title":"UI for Replay/Export","description":"Add UI controls for saving and loading replays","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:18:23.639248703-08:00","updated_at":"2026-01-03T19:08:39.739714146-08:00","closed_at":"2025-12-13T11:22:31.860612357-08:00","dependencies":[{"issue_id":"voidlock-3a7","depends_on_id":"voidlock-s0e","type":"parent-child","created_at":"2025-12-13T11:18:23.639804592-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-3af","title":"Bug: Corridors too short in DenseShipGenerator","description":"Corridors in DenseShipGenerator are too short. Requirement updated: Corridors (Spine and Branches) must be at least 75% of the map width/height (rounded up). Current branch logic uses fixed small length (3-6).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T18:44:45.451762225-08:00","updated_at":"2026-01-03T19:08:39.574553862-08:00","closed_at":"2025-12-21T18:52:11.821831401-08:00"}
{"id":"voidlock-3b76","title":"Fix Invincible Combat","description":"Fix logic preventing damage application in combat. Implements spec/combat_units.md#3.3.5","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T16:16:47.612430264-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T16:48:10.623954971-08:00","closed_at":"2026-01-19T16:48:10.623954971-08:00","close_reason":"Fixed in previous task voidlock-zkhz (repro and fix were combined).","dependencies":[{"issue_id":"voidlock-3b76","depends_on_id":"voidlock-zkhz","type":"blocks","created_at":"2026-01-19T16:17:19.135547048-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-3bt","title":"Fix GameClient.test.ts Failures","description":"Fix 'should initialize and record seed/map' and 'should replay commands'. The spy expectation is missing the new 'missionType' property in the INIT payload. Update the test expectations.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T20:00:05.72167842-08:00","updated_at":"2026-01-03T19:08:39.469199309-08:00","closed_at":"2025-12-19T18:22:46.392668801-08:00"}
{"id":"voidlock-3dp","title":"Test: Map Placement Fuzzing","description":"Create a fuzz test (100-1000 seeds) across varying map sizes (3x3 to 10x10). Assert that [Squad Spawn, Enemy Spawn, Extraction] never share a room. Allow Objectives to share only on small maps.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T17:58:07.23253021-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.470253845-08:00","closed_at":"2026-01-02T18:29:37.94371541-08:00","close_reason":"Implemented fuzz test and stricter validation. Tests are currently failing (Red state) as expected, pending fix in next task. Version bumped to 0.43.11."}
{"id":"voidlock-3dz9","title":"Implement Session State \u0026 Auto-Save","description":"Implement Session State \u0026 Auto-Save (Crash Recovery).\n\n1.  **SessionManager**: Create `src/renderer/SessionManager.ts`.\n    - Methods: `saveState(screenId: ScreenId)`, `loadState(): ScreenId | null`, `clearState()`.\n    - Key: `voidlock_session_state`.\n\n2.  **ScreenManager Integration**:\n    - Update `ScreenManager` to call `sessionManager.saveState(id)` in `show()`.\n    - On init, check `sessionManager.loadState()` and restore screen (default main-menu).\n\n3.  **Mission Auto-Save (GameClient)**:\n    - In `GameClient.ts`:\n      - `saveMissionConfig(config)`: Save Seed, Map, Squad to `voidlock_mission_config`.\n      - `appendCommand(cmd)`: Append to `voidlock_mission_log` (array).\n    - Call `saveMissionConfig` in `init()`.\n    - Call `appendCommand` in `sendCommand()`.\n    - `clearMissionData()`: Clears keys. Call on `stop()` or explicit abort.\n\n4.  **Resume Logic (Main)**:\n    - In `main.ts` (init):\n      - If `sessionState === \"mission\"` AND `missionConfig` exists:\n        - Call `gameClient.init()` with saved config.\n        - **Critical**: Pass `commandLog` from storage to `init`.\n        - Ensure Engine fast-forwards through the log (Engine already handles `commandLog` replay in `Replay` mode, but here we want `Simulation` mode with *pre-roll*).\n        - *Correction*: Engine might need a \"FastForward\" flag or handled via `commandLog` in `Simulation` mode.\n        - **Engine Update**: Ensure `CoreEngine` processes `commandLog` immediately if provided in `Simulation` mode (catch-up phase).\n\n5.  **Verify**:\n    - Refresh page during mission -\u003e Resume at same state.\n    - Refresh page at menu -\u003e Stay at menu.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:18:26.520438978-08:00","created_by":"rkj","updated_at":"2026-01-06T18:33:08.678108555-08:00","closed_at":"2026-01-06T18:33:08.678108555-08:00","close_reason":"Implemented Session State \u0026 Auto-Save. Fixed lint script issue and GameClient.startTime sync bug. Verified via browser (black screen not reproduced) and new regression tests."}
{"id":"voidlock-3ew","title":"Engine: VIP FOW Reveal","description":"At mission start, reveal the Fog of War for the specific cells containing VIPs so the player knows their location immediately.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:11:46.975827026-08:00","updated_at":"2026-01-03T19:08:39.457744889-08:00","closed_at":"2025-12-27T08:08:36.487188927-08:00"}
{"id":"voidlock-3h8","title":"Fix Failing Tests and Sync with Spec","description":"Investigate and fix all failing tests identified by \n RUN  v3.2.4 /home/rkj/xenopurge-gemini\n\n  src/engine/tests/generators/TreeShipGenerator.test.ts (1 test | 1 failed) 38ms\n    TreeShipGenerator \u003e should generate a valid map with a tree structure 37ms\n      expected 0 to be greater than 0\n  src/engine/GameClient.test.ts (3 tests | 2 failed) 14ms\n    GameClient \u003e should initialize and record seed/map 9ms\n      expected \"spy\" to be called with arguments: [ { type: 'INIT', payload: { (6) } } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[33m@@ -7,10 +7,11 @@\u001b[90m\n\u001b[2m        \"map\": {\u001b[22m\n\u001b[2m          \"cells\": [],\u001b[22m\n\u001b[2m          \"height\": 10,\u001b[22m\n\u001b[2m          \"width\": 10,\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[31m+       \"missionType\": \"Default\",\u001b[90m\n\u001b[2m        \"seed\": 12345,\u001b[22m\n\u001b[2m        \"squadConfig\": [\u001b[22m\n\u001b[2m          {\u001b[22m\n\u001b[2m            \"archetypeId\": \"assault\",\u001b[22m\n\u001b[2m            \"count\": 1,\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    GameClient \u003e should record commands 1ms\n    GameClient \u003e should replay commands 1ms\n      expected \"spy\" to be called with arguments: [ { type: 'INIT', payload: { (6) } } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[33m@@ -7,10 +7,11 @@\u001b[90m\n\u001b[2m        \"map\": {\u001b[22m\n\u001b[2m          \"cells\": [],\u001b[22m\n\u001b[2m          \"height\": 10,\u001b[22m\n\u001b[2m          \"width\": 10,\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[31m+       \"missionType\": \"Default\",\u001b[90m\n\u001b[2m        \"seed\": 555,\u001b[22m\n\u001b[2m        \"squadConfig\": [\u001b[22m\n\u001b[2m          {\u001b[22m\n\u001b[2m            \"archetypeId\": \"assault\",\u001b[22m\n\u001b[2m            \"count\": 1,\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n  src/engine/tests/generators/TreeShip/RefinedTree.test.ts (1 test | 1 failed) 49ms\n    TreeShipGenerator (Refined) \u003e should generate distinct corridors and rooms (visual structure) 48ms\n      expected 0 to be greater than 0\n  src/engine/Director.test.ts (4 tests | 1 failed) 10ms\n    Director \u003e should spawn enemies periodically 8ms\n      expected { x: 0.4740520094521344, (1) } to deeply equal { x: +0, y: +0 }\n    Director \u003e should not spawn if no spawn points 0ms\n    Director \u003e should ramp up difficulty (spawn faster) 0ms\n    Director \u003e should increase threat level as difficulty ramps up 0ms\n  src/engine/tests/generators/TreeShipGenerator.door.test.ts (1 test) 234ms\n  src/engine/tests/generators/TreeShipGenerator.multi.test.ts (16 tests) 266ms\n  src/engine/tests/generators/TreeShipGenerator.cycle.test.ts (100 tests) 162ms\n  src/engine/tests/generators/TreeShipGenerator.dump.test.ts (1 test) 66ms\n  src/engine/tests/generators/TreeShipGenerator.12x12.test.ts (1 test) 16ms\n  src/engine/tests/generators/TreeShipGenerator.9x9.test.ts (1 test) 12ms\n  src/engine/MapGenerator.test.ts (19 tests) 13ms\n  src/engine/tests/generators/SpaceshipGenerator.test.ts (1 test) 11ms\n  src/engine/tests/ai/SoldierCoreAI.test.ts (3 tests) 10ms\n  src/engine/CoreEngine.test.ts (4 tests) 9ms\n  src/engine/tests/generators/TreeShipGenerator.7x7.test.ts (1 test) 14ms\n  src/engine/tests/ai/SoldierExplorationAI.test.ts (2 tests) 9ms\n  src/engine/tests/commands/AttackTarget.test.ts (2 tests) 9ms\n  src/engine/tests/commands/SetEngagement.test.ts (2 tests) 7ms\n  src/engine/LineOfSight.test.ts (9 tests) 6ms\n  src/engine/Pathfinder.test.ts (11 tests) 6ms\n  src/engine/tests/movement/DoorTraversal.test.ts (1 test) 4ms\n  src/renderer/Renderer.test.ts (3 tests) 6ms\n  src/shared/types.test.ts (7 tests) 4ms\n  src/engine/tests/mapgen/MapAssembly.test.ts (6 tests) 5ms\n  src/engine/tests/mapgen/MapValidation.test.ts (4 tests) 7ms\n  src/engine/GameGrid.test.ts (8 tests) 5ms\n  src/engine/MapGenerator.ascii.test.ts (3 tests) 3ms\n  src/harness/SimpleBot.test.ts (3 tests) 2ms\n  src/harness/BotHarness.test.ts (1 test) 2ms\n  src/engine/tests/CycleDetection.test.ts (5 tests) 3ms\n\n Test Files  4 failed | 26 passed (30)\n      Tests  5 failed | 219 passed (224)\n   Start at  19:57:32\n   Duration  2.39s (transform 313ms, setup 0ms, collect 707ms, tests 1.00s, environment 4ms, prepare 1.66s). Ensure tests align with  requirements. If tests are testing obsolete assumptions, update the tests. If code is broken, fix the code. This is a high-priority quality assurance task.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T19:57:34.995561452-08:00","updated_at":"2026-01-03T19:08:39.810144979-08:00","closed_at":"2025-12-19T18:22:46.430440853-08:00"}
{"id":"voidlock-3mm","title":"Log Soldier Waiting for Door","description":"Add console logging when a soldier's movement is blocked by a closed door and they are waiting for it to open. This helps debug 'invisible door' issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T09:01:31.675428176-08:00","updated_at":"2026-01-03T19:08:39.776567997-08:00","closed_at":"2025-12-20T09:35:16.903555619-08:00"}
{"id":"voidlock-3nx","title":"Implement Basic Combat Logic","description":"Soldiers can engage and damage enemies","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.437700314-08:00","updated_at":"2026-01-03T19:08:39.564046297-08:00","closed_at":"2025-12-13T10:58:47.463316484-08:00","dependencies":[{"issue_id":"voidlock-3nx","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.438416624-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-3oc","title":"Implement MOVE_TO","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.122800766-08:00","updated_at":"2026-01-03T19:08:39.540573143-08:00","closed_at":"2025-12-13T10:41:00.526162952-08:00","dependencies":[{"issue_id":"voidlock-3oc","depends_on_id":"voidlock-wrb","type":"parent-child","created_at":"2025-12-13T09:48:05.123660668-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-3rud","title":"Implement Campaign Bankruptcy Logic","description":"Implements `spec/campaign.md#5.2`\n\nModify `src/engine/managers/CampaignManager.ts`.\n\n**Task:**\n1. Create a private method `checkBankruptcy()`.\n   - Returns true if:\n     - All soldiers in `roster` are 'Dead'. (Note: Wounded soldiers recover, so they count as alive *eventually*. If everyone is Wounded, time skips? Spec says 'Active Roster is empty'. Let's clarify: If you have Wounded soldiers, you just have to wait. Bankruptcy is ONLY if you have **0 Live/Wounded soldiers** AND **Scrap \u003c 100**).\n2. Call this method at the end of `processMissionResult` (after applying casualties).\n3. If `true`, set `this.state.status = 'Defeat'`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:02:56.896923365-08:00","created_by":"rkj","updated_at":"2026-01-11T19:51:03.834689204-08:00","closed_at":"2026-01-11T19:51:03.834689204-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-3s1","title":"UI: Speed Slider Logic","description":"Implement the conversion functions:\\n- sliderToScale(val): Maps abstract slider value to logarithmic time scale (0.1 - 10.0).\\n- scaleToSlider(scale): Inverse mapping.\\n- 1.0x must be exactly in the middle.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:33:08.770303449-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.491580493-08:00","closed_at":"2026-01-03T17:39:50.915495308-08:00","close_reason":"Implemented logarithmic speed slider logic in TimeUtility.ts. Verified with unit tests and successful build. Version bumped to 0.52.0."}
{"id":"voidlock-3s3","title":"Code: Refactor Xenopurge references","description":"Rename variables, classes, or keys that explicitly use 'Xenopurge'. Link to voidlock-jiz.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T19:33:47.436783698-08:00","updated_at":"2026-01-03T19:08:39.503792255-08:00","closed_at":"2026-01-02T20:31:24.36009136-08:00","close_reason":"Updated ConfigManager to use 'voidlock_legacy' keys for migration. Verified with tests. Audit shows no 'xenopurge' strings in src/ except in beads IDs. Version bumped to 0.43.20."}
{"id":"voidlock-3sd","title":"Mechanics: Implement Artifact Burden (Debuff) and UI Indicator","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:43:46.184993152-08:00","updated_at":"2026-01-03T19:08:39.816595161-08:00","closed_at":"2026-01-01T18:18:07.465771519-08:00"}
{"id":"voidlock-3th","title":"Data: Define Equipment \u0026 Items List","description":"Define the following in 'src/shared/types.ts':\n1. Weapons (Melee): Combat Knife, Power Sword, Thunder Hammer.\n2. Weapons (Ranged): Pistol, Pulse Rifle, Shotgun, Flamer.\n3. Armor: Light Recon (Speed+), Heavy Plate (HP+, Speed-).\n4. Shoes: Combat Boots (Default), Mag-Lev Boots (Speed+).\n5. Squad Items: Medkit (Heal), Frag Grenade (AOE Dmg), Scanner (Reveal FOW).\nAssign stats/costs to each.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T08:37:19.487370547-08:00","updated_at":"2026-01-03T19:08:39.774550709-08:00","closed_at":"2025-12-31T16:26:36.697253426-08:00"}
{"id":"voidlock-3tu","title":"Verify Phase 3: Final Baseline","description":"Manual verification step for Phase 3 completion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:32.360270442-08:00","updated_at":"2026-01-03T19:08:39.583767748-08:00","closed_at":"2025-12-21T10:22:21.353546991-08:00","dependencies":[{"issue_id":"voidlock-3tu","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:32.361078731-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-3wc","title":"Types: Add RecoverIntel to MissionType enum in shared/types.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:40:12.261592406-08:00","updated_at":"2026-01-03T19:08:39.424206762-08:00","closed_at":"2026-01-01T17:53:28.059360687-08:00"}
{"id":"voidlock-3wp","title":"Remove scrollbars from unit bar","description":"Visually hide the horizontal scrollbar from the #soldier-panel while maintaining scroll functionality for large squads. Use CSS scrollbar-width: none and ::-webkit-scrollbar { display: none; }.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-23T17:48:26.854079442-08:00","updated_at":"2026-01-03T19:08:39.767639332-08:00","closed_at":"2025-12-23T17:49:13.623283611-08:00"}
{"id":"voidlock-3xj","title":"Implement Door Rendering Improvements","description":"Modify src/renderer/Renderer.ts to make doors render with a noticeable thickness (e.g., 1/10th of cellSize) and a distinct color palette to improve visibility.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:27:52.112194535-08:00","updated_at":"2026-01-03T19:08:39.857542606-08:00","closed_at":"2025-12-13T14:28:28.142916702-08:00"}
{"id":"voidlock-3zc","title":"Game speed configuration","description":"Slow down default game speed by 3x. Add debug configuration to control tick rate in real-time.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T19:00:20.937970511-08:00","updated_at":"2026-01-03T19:08:39.678679423-08:00","closed_at":"2025-12-22T18:29:14.312511794-08:00"}
{"id":"voidlock-3zr","title":"Bug: DenseShipGenerator produces invalid maze-like structures and double doors","description":"The DenseShipGenerator fails to adhere to the starship layout. Issues:\\n1. Non-tree connectivity (maze-like).\\n2. Rooms with multiple entrances.\\n3. Corridors/Rooms violating the Frame+Attachment rule.\\n\\nMust implement rigorous constraints and verification.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-21T11:27:46.261200428-08:00","updated_at":"2026-01-03T19:08:39.513229217-08:00","closed_at":"2025-12-21T18:48:29.054069774-08:00"}
{"id":"voidlock-400","title":"Fix Hive visibility at start","description":"The Hive room is highlighted in red at the start of the game before being discovered. Ensure Hive and its objective visibility are strictly tied to LOS.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T19:10:05.061325755-08:00","updated_at":"2026-01-03T19:08:39.558814203-08:00","closed_at":"2025-12-23T21:08:40.19157422-08:00"}
{"id":"voidlock-41b","title":"UI: Implement Campaign Bridge (Sector Map View)","description":"Implement the visual interface for navigating the sector map.\\n\\n**Spec:** spec/campaign.md#11-the-command-bridge-loop\\n\\n**Requirements:**\\n- Render the DAG.\\n- Show node status (Locked, Accessible, Cleared).\\n- Handle node selection.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:15:19.319826446-08:00","updated_at":"2026-01-03T19:08:39.681615334-08:00","closed_at":"2026-01-01T18:53:37.578422212-08:00","dependencies":[{"issue_id":"voidlock-41b","depends_on_id":"voidlock-wzr","type":"blocks","created_at":"2026-01-01T18:37:04.11591238-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-42w","title":"Chore: Refactor main.ts and CoreEngine.ts","description":"Split up main.ts and CoreEngine.ts according to SOLID principles. Both files exceed 1000 lines and need to be modularized.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T12:49:24.001859711-08:00","updated_at":"2026-01-03T19:08:39.510891203-08:00","closed_at":"2025-12-26T13:00:49.201097988-08:00","labels":["refactor"]}
{"id":"voidlock-44k","title":"System: Weapon Loadouts","description":"Implement a weapon system where units carry one melee and one ranged weapon. Add Knife, Sword, Hammer, Pistol, Pulse Rifle, Flamethrower, and Shotgun with unique damage and accuracy modifiers.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-26T13:11:16.646981834-08:00","updated_at":"2026-01-03T19:08:39.40479553-08:00","closed_at":"2025-12-28T16:39:05.303529629-08:00","labels":["feature"]}
{"id":"voidlock-44l","title":"Ensure Renderer correctly visualizes Doors and map features","description":"Implement door rendering (open/closed/locked/destroyed states) in src/renderer/Renderer.ts. Address the 'flat' map appearance, ensuring correct wall rendering and visual distinction for doors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:43:13.479275383-08:00","updated_at":"2026-01-03T19:08:39.669259554-08:00","closed_at":"2025-12-13T13:46:01.555426428-08:00"}
{"id":"voidlock-470v","title":"Fix Threat Meter Reset Animation","description":"Fixes the issue where the threat meter animates down to 0% at the start of a mission.\n\n**File Changes:**\n1. Modify `src/styles/main.css`:\n   - Remove the `transition` property from the `.threat-fill` class to disable global transitions on the width.\n   - Alternatively, use a utility class `.no-transition` and apply it when resetting.\n   - Or, specifically in `HUDManager.ts`, we can force a DOM reflow (flush layout) without transition before applying the new value.\n\n**Preferred Approach (Cleanest CSS):**\n1. In `src/styles/main.css`, keep the transition on `.threat-fill`.\n2. In `src/renderer/ui/HUDManager.ts`:\n   - When `updateTopBar` detects that `state.t \u003c 1000` (Mission Start), explicitly:\n     1. Add a `.no-transition` class to `topThreatFill`.\n     2. Set width to 0 (or starting threat).\n     3. Force a reflow (e.g., `void topThreatFill.offsetWidth`).\n     4. Remove the `.no-transition` class.\n   - This ensures the bar 'snaps' to the starting value instead of animating down from the previous mission's 100%.\n\n**Task:** Implement the 'Preferred Approach' logic in `HUDManager.ts` and add the helper class to CSS if needed.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:10:35.968952961-08:00","created_by":"rkj","updated_at":"2026-01-11T19:15:28.030882951-08:00","closed_at":"2026-01-11T19:15:28.030882951-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-488","title":"M5: Content-pack pluggability","description":"Implement map generator and content pack interface","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:26:38.083068597-08:00","updated_at":"2026-01-03T19:08:39.623541113-08:00","closed_at":"2025-12-13T11:27:59.620607921-08:00"}
{"id":"voidlock-4e5","title":"Update TreeShipGenerator Spec Compliance","description":"Update TreeShipGenerator: Remove periodic doors inside corridors (keep them open). Relax fill rate tests (\u003c90% ok). Ensure connectivity logic respects depth hierarchy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T20:54:05.484693421-08:00","updated_at":"2026-01-03T19:08:39.790161177-08:00","closed_at":"2025-12-19T18:22:36.754675864-08:00"}
{"id":"voidlock-4hev","title":"feature","description":"Implements spec/campaign.md#6. Create MetaManager to track global stats (Total Kills, Campaigns Won/Lost). Update CampaignManager to sync stats to MetaManager on mission end.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:56.347913948-08:00","created_by":"rkj","updated_at":"2026-01-17T16:00:27.476333199-08:00","closed_at":"2026-01-17T16:00:27.476333199-08:00","close_reason":"Implemented via sub-agent and verified. MetaManager tracks global stats across campaigns. Syncs with CampaignManager.","dependencies":[{"issue_id":"voidlock-4hev","depends_on_id":"voidlock-9s6u","type":"blocks","created_at":"2026-01-13T19:22:09.230347643-08:00","created_by":"rkj"}]}
{"id":"voidlock-4hz","title":"Implement Left Panel (Squad List, Status, Quick Commands)","description":"Develop the UI for the left panel of the Mission screen, displaying the squad list, their current status, and quick command buttons.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:13.178843376-08:00","updated_at":"2026-01-03T19:08:39.466259062-08:00","closed_at":"2025-12-14T19:03:04.568049988-08:00","labels":["complexity:medium"]}
{"id":"voidlock-4kk","title":"M8: Polished Spaceship Level \u0026 Zoom","description":"Fixed 16x16 spaceship layout and increased visual scale","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:11:28.597945507-08:00","updated_at":"2026-01-03T19:08:39.837638786-08:00","closed_at":"2025-12-13T13:13:36.133451351-08:00"}
{"id":"voidlock-4lbx","title":"Fix: Render Loot in Debug View \u0026 Distinct Icons","description":"Update `src/renderer/visuals/MapEntityLayer.ts` to: 1) Respect `debugOverlayEnabled` for Loot rendering. 2) Use `Icons.Crate` for Loot and `Icons.Objective` for Objectives (ensure these are distinct in `Icons.ts`).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T21:25:47.822104542-08:00","created_by":"rkj","updated_at":"2026-01-17T16:08:59.020944992-08:00","closed_at":"2026-01-17T16:08:59.020944992-08:00","close_reason":"Implemented via sub-agent and verified. Updated MapEntityLayer to show loot and objectives in debug view and removed fallback icon for loot.","dependencies":[{"issue_id":"voidlock-4lbx","depends_on_id":"voidlock-at04","type":"blocks","created_at":"2026-01-14T21:26:00.698241482-08:00","created_by":"rkj"}]}
{"id":"voidlock-4n5","title":"Support Command Queuing \u0026 Tracers in Engine","description":"Update CoreEngine and Types to support command queues and attack visualization data","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T12:43:59.776280718-08:00","updated_at":"2026-01-03T19:08:39.629582915-08:00","closed_at":"2025-12-13T12:44:58.079460018-08:00","dependencies":[{"issue_id":"voidlock-4n5","depends_on_id":"voidlock-97y","type":"parent-child","created_at":"2025-12-13T12:43:59.777699071-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-4rxw","title":"Fix Frag Grenade Targeting \u0026 Behavior","description":"Fix Frag Grenade Targeting \u0026 Behavior (Magic/Instant/Single-Cell).\n\n1.  **Frontend (MenuController)**:\n    - Update `ITEM_SELECT` logic: If item is \"Grenade\", use a new overlay mode `HOSTILE_UNIT`.\n    - Implement `generateTargetOverlay(\"HOSTILE_UNIT\")`:\n      - Iterate `state.enemies`.\n      - If enemy is visible (`state.visibleCells` check), show overlay/number.\n      - On selection, set `pendingTargetId` to Enemy ID.\n    - Ensure `executePendingCommand` passes `targetUnitId` for Grenades.\n\n2.  **Backend (Director)**:\n    - Update `handleUseItem` for \"Grenade\":\n      - Check `cmd.targetUnitId` first.\n      - Find the enemy.\n      - Identify the *Cell* the enemy occupies (`Math.floor(x), Math.floor(y)`).\n      - **Damage Logic**:\n        - Iterate `state.enemies` AND `state.units`.\n        - If entity is in that exact cell (integer coords), apply damage (100).\n        - **Remove** the old distance-based (`dist \u003c= 2.5`) logic.\n      - Ensure no LOS/Range checks are added (Magic delivery).\n\n3.  **Tests**:\n    - Create/Update `tests/engine/commands/Grenade.test.ts`.\n    - Verify:\n      - Can target specific enemy.\n      - Damage applies to that enemy.\n      - Damage applies to *other* units (friendly/enemy) in the EXACT same cell.\n      - Damage does *not* apply to adjacent cells.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:11:29.350786904-08:00","created_by":"rkj","updated_at":"2026-01-05T07:00:29.758568826-08:00","closed_at":"2026-01-05T07:00:29.758568826-08:00","close_reason":"Implemented via sub-agent and verified. Frag Grenades now use exact cell matching for damage and include friendly fire. New regression test added. Pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-4wl","title":"Setup Folder Structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.050410087-08:00","updated_at":"2026-01-03T19:08:39.94801442-08:00","closed_at":"2025-12-13T10:07:57.245742828-08:00","dependencies":[{"issue_id":"voidlock-4wl","depends_on_id":"voidlock-7yp","type":"parent-child","created_at":"2025-12-13T09:48:05.051654701-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-4z7","title":"Fix in-game speed limit to match setup (3x)","description":"The in-game speed control currently caps at 2x, but the setup screen allows for 3x. It should allow up to 3x.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-23T21:12:56.634787841-08:00","updated_at":"2026-01-03T19:08:39.727899987-08:00","closed_at":"2025-12-24T09:12:41.096113566-08:00"}
{"id":"voidlock-583e","title":"Refactor Barracks to use Unified Equipment UI","description":"Implements `spec/ui.md#8.7`\n\nThe current `BarracksScreen` uses simple dropdowns for equipment, while `EquipmentScreen` uses a visual 'Paper Doll' and item list. This inconsistency confuses players.\n\n**Task:**\n1. Extract the 'Paper Doll' and 'Soldier Stats' rendering logic from `src/renderer/screens/EquipmentScreen.ts` into a reusable helper or component (e.g., `SoldierInspector`).\n2. Update `src/renderer/screens/BarracksScreen.ts` to use this new component for the 'Soldier Details' panel.\n3. Replace the 'Dropdown' equipment selectors in Barracks with the 'Armory List' (pay-to-equip) style from `EquipmentScreen`.\n   - **Constraint:** In Barracks, the right panel might need tabs for 'Recruit' vs 'Armory' since space is shared.\n4. Ensure both screens adhere to the Pay-to-Equip economy rules.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:49:11.713548055-08:00","created_by":"rkj","updated_at":"2026-01-09T19:33:42.595485192-08:00","closed_at":"2026-01-09T19:33:42.595485192-08:00","close_reason":"Extracted reusable SoldierInspector component. Unified Barracks and Equipment screens with visual Paper Doll and Armory list. Implemented tabbed sidebar in Barracks. Ensured consistent Pay-to-Equip rules."}
{"id":"voidlock-599","title":"Bug: IGNORE policy ineffective - Units still stop and shoot","description":"User reports that units set to IGNORE policy still stop moving to engage enemies, violating the 'Run' behavior. Suspected logic issue in CoreEngine where idle/blocked units force engagement or isMoving check is flaky.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-24T21:19:08.691380441-08:00","updated_at":"2026-01-03T19:08:39.942938422-08:00","closed_at":"2025-12-24T21:20:19.105400835-08:00"}
{"id":"voidlock-5c6","title":"Bug: Final soldier death not reflected in UI","description":"When the entire squad is wiped out, the last soldier to die is not correctly updated to 'Dead' state in the UI unit card, even though the game state reflects 'Lost'.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-24T15:45:08.942795381-08:00","updated_at":"2026-01-03T19:08:39.805921425-08:00","closed_at":"2025-12-25T09:19:42.305155293-08:00"}
{"id":"voidlock-5da","title":"Implement Fog-of-War","description":"Add mechanism to hide map areas and units not in soldier's line of sight","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.495308344-08:00","updated_at":"2026-01-03T19:08:39.578881511-08:00","closed_at":"2025-12-13T11:14:48.638091603-08:00","dependencies":[{"issue_id":"voidlock-5da","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.495901172-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-5go","title":"Implement Campaign Data Types","description":"Create the TypeScript interfaces for CampaignState, GameRules, and CampaignNode based on the ADR.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T08:09:27.20422626-08:00","updated_at":"2026-01-03T19:08:39.516672359-08:00","closed_at":"2025-12-31T14:23:18.934592947-08:00","dependencies":[{"issue_id":"voidlock-5go","depends_on_id":"voidlock-znc","type":"parent-child","created_at":"2025-12-31T08:09:27.205668707-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-5go","depends_on_id":"voidlock-d7f","type":"blocks","created_at":"2025-12-31T11:31:41.976689682-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-5go","depends_on_id":"voidlock-bnj","type":"blocks","created_at":"2025-12-31T11:31:41.995705139-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-5jp8","title":"Implement Dynamic Map Scaling in Campaign","description":"Implements `spec/campaign.md#2.1`\n\n**Logic:**\n1. Modify `src/engine/managers/CampaignManager.ts`.\n2. When launching a mission (generating `MissionConfig` from a `CampaignNode`):\n   - Calculate Map Size:\n     - `Base = 6`\n     - `Growth = NodeDepth` (How far along the DAG we are).\n     - `Size = Math.min(12, Base + Growth)`\n   - Inject this `width`/`height` into the `MapGenerationConfig`.\n3. Ensure `SectorMapGenerator` produces a DAG with a maximum depth of ~6-8 to match this progression.\n\n**Advanced Options:**\n- Ensure the 'Advanced Options' UI (from `voidlock-ysdo`) allows overriding the 'Start Size' and 'Growth Rate' if possible, or just respects the manual overrides if provided.","notes":"Duplicate of voidlock-g77z","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:52:15.067692337-08:00","created_by":"rkj","updated_at":"2026-01-08T21:02:36.156130061-08:00","closed_at":"2026-01-08T21:02:36.156135514-08:00"}
{"id":"voidlock-5lxb","title":"Refactor: Modular Shared Types (ADR 0015)","description":"Implements docs/adr/0015-modular-shared-types.md. Split src/shared/types.ts into a directory-based module structure. Ensure the barrel file maintains compatibility.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-11T20:02:10.319588776-08:00","created_by":"rkj","updated_at":"2026-01-11T20:06:25.89126695-08:00","closed_at":"2026-01-11T20:06:25.89126695-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-5ozr","title":"Implement Economy Modes","description":"Implements `spec/campaign.md#3.2`\n\n**Logic:**\n1. Modify `GameRules` to include `economyMode: 'Open' | 'Limited'`.\n2. **Open Mode (Default):**\n   - `EquipmentScreen` allows purchases.\n   - `ShopScreen` (if visited) applies a 0.5x multiplier to costs (Discount).\n3. **Limited Mode:**\n   - `EquipmentScreen` hides unowned items (or disables purchase button).\n   - `ShopScreen` is the ONLY place to buy.\n4. **Integration:** Add selector to Advanced Options UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:17:31.3537093-08:00","created_by":"rkj","updated_at":"2026-01-11T21:11:24.652793001-08:00","closed_at":"2026-01-11T21:11:24.652793001-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-5qb","title":"Verify CoreEngine correctly handles Door states and interactions","description":"Investigate and modify src/engine/CoreEngine.ts to ensure doors are correctly integrated into pathfinding and interaction logic, respecting their state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:43:17.060455896-08:00","updated_at":"2026-01-03T19:08:39.946076749-08:00","closed_at":"2025-12-13T13:56:39.975532845-08:00","dependencies":[{"issue_id":"voidlock-5qb","depends_on_id":"voidlock-44l","type":"blocks","created_at":"2025-12-13T13:43:17.061154979-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-5qb","depends_on_id":"voidlock-abg","type":"related","created_at":"2025-12-13T13:46:16.434414026-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-5qq","title":"Implement 'Destroy Hive' Mission","description":"Create a new mission type where the objective is to locate and destroy a stationary Enemy Hive target (randomly placed).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T13:41:06.212171296-08:00","updated_at":"2026-01-03T19:08:39.869594182-08:00","closed_at":"2025-12-18T14:04:07.716389489-08:00"}
{"id":"voidlock-5th","title":"Utility: Map Viewer Polish","description":"Enhance the standalone Map Viewer:\n1. Implement 'Export as PNG/SVG'.\n2. Add Interactive Zoom and Pan controls.\n3. Toggle debug coordinates overlay.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T09:29:22.951125745-08:00","updated_at":"2026-01-04T18:07:06.472202675-08:00","closed_at":"2026-01-04T18:07:06.472202675-08:00","close_reason":"Implemented PNG/SVG export, zoom/pan controls, and coordinate overlay in Map Viewer."}
{"id":"voidlock-5vtm","title":"Refactor Boundary.isWall to BoundaryType Enum","description":"Refactor the 'Boundary' class (in 'src/engine/Graph.ts' and 'src/shared/types.ts') to use a 'type' field ('Open' | 'Wall' | 'Door') instead of the boolean 'isWall'. This improves extensibility. Update all usage sites (GameGrid, MapGenerator, tests) to switch on the enum.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T21:37:24.906656797-08:00","created_by":"rkj","updated_at":"2026-01-06T20:14:11.502111502-08:00","closed_at":"2026-01-06T20:14:11.502111502-08:00","close_reason":"Refactored Boundary.isWall to BoundaryType Enum (Open, Wall, Door). Updated Engine, MapGenerator, and Tests.","dependencies":[{"issue_id":"voidlock-5vtm","depends_on_id":"voidlock-pjs5","type":"blocks","created_at":"2026-01-04T21:37:33.012167402-08:00","created_by":"rkj"}]}
{"id":"voidlock-5vv","title":"Improve Map Feature Visualization","description":"1. Mark spawner areas with a distinct red border/overlay.\\n2. Add a proper icon for the extraction location.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T13:41:06.175402722-08:00","updated_at":"2026-01-03T19:08:39.667239784-08:00","closed_at":"2025-12-18T13:54:16.064459851-08:00"}
{"id":"voidlock-5zi","title":"AI: Improve Exploration Efficiency","description":"AI soldiers seem inefficient at exploring, often traversing the entire map instead of visiting the closest unexplored cell. \\n\\nReproduction:\\n- Seed: 1766364915449\\n- Map: 12x12\\n\\nTask:\\n- Write a test that logs all cells visited by soldiers in order to visualize the pathing.\\n- Optimize logic so soldiers prioritize the closest unexplored cells.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T09:18:13.935010113-08:00","updated_at":"2026-01-03T19:08:39.405463899-08:00","closed_at":"2025-12-28T16:19:33.333524003-08:00"}
{"id":"voidlock-5zjs","title":"Display Scrap Balance in Equipment Screen","description":"Implements `spec/ui.md#8.6`\n\nAdd a Global Resource Header to `src/renderer/screens/EquipmentScreen.ts`.\n\n**Task:**\n1. Fetch the current Scrap amount from `CampaignManager`.\n2. Add a visual element (header or floating overlay) that displays 'SCRAP: [Value]' in the top-right corner of the screen.\n3. Use `var(--color-primary)` for the value.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:19:05.084738267-08:00","created_by":"rkj","updated_at":"2026-01-08T20:15:17.684733383-08:00","closed_at":"2026-01-08T20:15:17.684733383-08:00","close_reason":"Implemented resource header in EquipmentScreen.ts. Verified visually and with regression tests."}
{"id":"voidlock-616","title":"Update AGENTS.md with 'never run dev server' rule","description":"Add an explicit instruction to AGENTS.md that the agent must never run npm run dev or any development server command, assuming the user manages the development server externally.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:48:49.430884728-08:00","updated_at":"2026-01-03T19:08:39.662165412-08:00","closed_at":"2025-12-13T14:49:03.24914835-08:00"}
{"id":"voidlock-62v","title":"Update Renderer for Enemies/FoW","description":"Modify renderer to display enemies, visible map areas, and fog-of-war","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.530862859-08:00","updated_at":"2026-01-03T19:08:39.6016499-08:00","closed_at":"2025-12-13T11:17:58.977128618-08:00","dependencies":[{"issue_id":"voidlock-62v","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.531415083-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-63m","title":"Implement MapGenerator.toAscii method (expanded grid format)","description":"Implement a method in MapGenerator to convert a MapDefinition object into its ASCII string representation using the expanded grid format as per spec.md section 7.3. This includes representing cells, walls, doors, and special points (S, E, O).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:49:21.237177171-08:00","updated_at":"2026-01-03T19:08:39.633537348-08:00","closed_at":"2025-12-14T18:47:44.214006161-08:00"}
{"id":"voidlock-63n","title":"UI: Add Shift key modifier to queue commands","description":"Implement Shift key modifier to queue commands instead of replacing them.\\n\\n**Spec:** spec/commands.md#4-command-queueing\\n**Spec:** spec/ui.md#queueing\\n\\n**Requirements:**\\n- Detect Shift key state in MenuController.\\n- Set 'queue: true' in Command payload if Shift is held.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.737231929-08:00","updated_at":"2026-01-03T19:08:39.700470891-08:00","closed_at":"2026-01-03T13:13:49.682956367-08:00","close_reason":"Implemented Shift key modifier for command queueing. Updated MenuController, InputManager, HUDManager, and main.ts. Verified with new regression tests and existing test suite. Version bumped to 0.46.0."}
{"id":"voidlock-65m","title":"Implement Extraction/Objective Completion","description":"Define conditions for mission success or failure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.513271919-08:00","updated_at":"2026-01-03T19:08:39.581846117-08:00","closed_at":"2025-12-13T11:16:35.400813972-08:00","dependencies":[{"issue_id":"voidlock-65m","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.513838926-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-65n1","title":"bug","description":"Implements spec/map.md#8.5. Update PlacementValidator or MapGenerator to enforce the No Loot in Corridors rule. Ref: docs/adr/0014-map-generation-correctness.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:20:54.43439437-08:00","created_by":"rkj","updated_at":"2026-01-13T21:27:54.290282871-08:00","closed_at":"2026-01-13T21:27:54.290282871-08:00","close_reason":"Implemented corridor ban in PlacementValidator, updated MapValidator to check bonusLoot, and updated tests. Verified with new regression suite.","dependencies":[{"issue_id":"voidlock-65n1","depends_on_id":"voidlock-c29g","type":"blocks","created_at":"2026-01-13T19:21:02.251072384-08:00","created_by":"rkj"}],"comments":[{"id":2,"issue_id":"voidlock-65n1","author":"rkj","text":"## Failure Log\nExisting tests in `tests/engine/generators/PlacementValidator.test.ts` failed because they call `occupy` without a `roomId`, which is now required/checked.\n\nError example:\nFAIL tests/engine/generators/PlacementValidator.test.ts \u003e PlacementValidator \u003e should allow occupying an empty cell\nAssertionError: expected false to be true // Object.is equality\n\nPlease update these tests to provide a valid dummy roomId (e.g. 'room-1').","created_at":"2026-01-14T05:18:21Z"},{"id":3,"issue_id":"voidlock-65n1","author":"rkj","text":"URGENT: Previous attempt timed out. Please QUICKLY update `tests/engine/generators/PlacementValidator.test.ts` to pass a valid `roomId` (e.g. 'room-1') to all `occupy` calls. This fix is required because `PlacementValidator` now enforces room IDs.","created_at":"2026-01-14T05:24:22Z"}]}
{"id":"voidlock-662","title":"Fix RefinedTree.test.ts Failures","description":"Fix 'should generate distinct corridors and rooms'. Similar to TreeShipGenerator.test.ts, it expects 'doors.length \u003e 0'. Verify if this expectation is still valid with new room logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T20:00:05.754663383-08:00","updated_at":"2026-01-03T19:08:39.815949628-08:00","closed_at":"2025-12-19T18:22:46.41873293-08:00"}
{"id":"voidlock-66c","title":"Implement single-tile tunnels and 2x2 rooms in MapGenerator","description":"Modify MapGenerator.ts to prioritize single-tile tunnels and mostly 2x2 rooms, avoiding larger, irregular tunnel shapes as per the updated spec.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T13:22:14.969472631-08:00","updated_at":"2026-01-03T19:08:39.676639904-08:00","closed_at":"2025-12-13T13:22:46.292939396-08:00"}
{"id":"voidlock-686","title":"UI: Display Turn Counter","description":"Display the current Turn number in the top bar, integrated with the Threat level as requested. Turn should increment every 10% of threat.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-26T09:58:59.826045434-08:00","updated_at":"2026-01-03T19:08:39.715827531-08:00","closed_at":"2025-12-26T10:02:57.261667117-08:00"}
{"id":"voidlock-69m","title":"Refactor Threat Pacing to Game Time \u0026 Fix Pause","description":"1. Change Director to use Game Time (scaledDt) instead of Real Time (realDt) for threat progression and spawning. 'Every time should be expressed in the game time'.\\n2. Fix Pause: Ensure that when the game is paused in the UI, the Engine Worker actually stops updating (threat/spawning should freeze).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T19:42:55.934869844-08:00","updated_at":"2026-01-03T19:08:39.460184803-08:00","closed_at":"2025-12-28T19:47:49.553688829-08:00"}
{"id":"voidlock-6ay","title":"AI: Enemy Speed Tuning","description":"Adjust enemy movement speeds to be 10-20% faster than soldiers.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-26T13:11:16.610837819-08:00","updated_at":"2026-01-03T19:08:39.513860944-08:00","closed_at":"2025-12-28T16:24:49.80318187-08:00","labels":["tuning"]}
{"id":"voidlock-6eal","title":"Refactor Core Monoliths (Epic)","description":"Parent tracking task for implementing ADRs 0015-0019. Each ADR defines the architectural split for a specific core monolith.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T19:59:38.734275911-08:00","created_by":"rkj","updated_at":"2026-01-11T20:34:33.885321239-08:00","closed_at":"2026-01-11T20:34:33.885321239-08:00","close_reason":"All dependencies completed.","dependencies":[{"issue_id":"voidlock-6eal","depends_on_id":"voidlock-5lxb","type":"blocks","created_at":"2026-01-11T20:04:45.322195334-08:00","created_by":"rkj"},{"issue_id":"voidlock-6eal","depends_on_id":"voidlock-pdex","type":"blocks","created_at":"2026-01-11T20:04:50.377728259-08:00","created_by":"rkj"},{"issue_id":"voidlock-6eal","depends_on_id":"voidlock-ejvq","type":"blocks","created_at":"2026-01-11T20:04:55.430905145-08:00","created_by":"rkj"},{"issue_id":"voidlock-6eal","depends_on_id":"voidlock-blq3","type":"blocks","created_at":"2026-01-11T20:05:00.48144009-08:00","created_by":"rkj"},{"issue_id":"voidlock-6eal","depends_on_id":"voidlock-6j2n","type":"blocks","created_at":"2026-01-11T20:05:05.544070345-08:00","created_by":"rkj"}]}
{"id":"voidlock-6en","title":"Gameplay: Implement Global Item Usage","description":"Enable the use of global items (Medkits, Grenades, Scanners) during missions.\\n\\n1. Engine: Add 'USE_ITEM' command handler in Director.ts.\\n   - Medkit: Heal target unit.\\n   - Grenade: Deal damage in radius at target.\\n   - Scanner: Reveal FOW at target.\\n2. UI: Add '4: Use Item' to the command menu.\\n3. UI: Select item -\u003e Select target workflow.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T14:45:36.247876801-08:00","updated_at":"2026-01-03T19:08:39.465101125-08:00","closed_at":"2026-01-01T17:08:56.265476355-08:00"}
{"id":"voidlock-6gb","title":"Fix Speed Display Text","description":"Remove the '(Pending: ...)' text from the speed display when game is paused.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-29T20:30:34.586228382-08:00","updated_at":"2026-01-03T19:08:39.415803215-08:00","closed_at":"2025-12-30T19:24:34.840767457-08:00"}
{"id":"voidlock-6gl","title":"UI: Render Debug Map Info","description":"Update 'src/renderer/ui/HUDManager.ts' to display Map Seed, Map Size (WxH), and Mission Type in the 'Debug Tools' section. See 'spec/ui.md'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:05:16.541790884-08:00","created_by":"rkj","updated_at":"2026-01-04T15:44:59.572511296-08:00","closed_at":"2026-01-04T15:44:59.572511296-08:00","close_reason":"Implemented debug map info display in HUD with test coverage.","dependencies":[{"issue_id":"voidlock-6gl","depends_on_id":"voidlock-v78","type":"blocks","created_at":"2026-01-03T19:05:16.542767352-08:00","created_by":"rkj"}]}
{"id":"voidlock-6hv","title":"Epic: Campaign Architecture Planning","description":"Define the architectural boundaries and data structures for the Campaign Mode.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T07:53:15.04295916-08:00","updated_at":"2026-01-03T19:08:39.723318288-08:00","closed_at":"2025-12-31T16:38:43.268569902-08:00"}
{"id":"voidlock-6j2n","title":"Refactor: App Lifecycle Encapsulation (ADR 0019)","description":"Implements docs/adr/0019-application-lifecycle-encapsulation.md. Encapsulate main.ts logic into GameApp class and InputBinder.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-11T20:02:49.898415313-08:00","created_by":"rkj","updated_at":"2026-01-11T20:33:24.887022621-08:00","closed_at":"2026-01-11T20:33:24.887022621-08:00","close_reason":"Implemented via sub-agent and verified.","dependencies":[{"issue_id":"voidlock-6j2n","depends_on_id":"voidlock-5lxb","type":"blocks","created_at":"2026-01-11T20:03:16.585038433-08:00","created_by":"rkj"}]}
{"id":"voidlock-6js","title":"Docs: Write ADR-0007 Command Pattern \u0026 Queue","description":"Document the strict JSON command protocol and queue system for determinism. Link to spec/commands.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:23:22.202629638-08:00","updated_at":"2026-01-03T19:08:39.738754972-08:00","closed_at":"2026-01-02T09:09:51.799315556-08:00"}
{"id":"voidlock-6jy","title":"UI: Unify Stat Display \u0026 Fix Stat Confusion","description":"Standardize stat visualization and separate Soldier vs Weapon stats.\\n\\n1. Reusable Component: Create 'StatDisplay' (Icon + Value + Tooltip) based on the Top Bar design.\\n2. Squad Selection: Update to use 'StatDisplay'.\\n3. Equipment Screen: \\n   - Remove 'mixed' stat panel.\\n   - Create 'Soldier Stats' section (HP, SPD, Base ACC).\\n   - Create 'Weapon Stats' section (DMG, FR, RNG).\\n   - Ensure they are visually distinct.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T15:10:45.249151872-08:00","updated_at":"2026-01-03T19:08:39.780375765-08:00","closed_at":"2026-01-01T17:16:56.29392163-08:00"}
{"id":"voidlock-6k8w","title":"Expose Supply Prices in Equipment List","description":"Implements `spec/campaign.md#3.4`\n\nModify `src/renderer/screens/EquipmentScreen.ts` in the `renderArmory` method (specifically the Global Supplies loop).\n\n**Task:**\nMove the item cost from the `title` attribute to the visible UI row. Each supply item (Grenade, Medkit, etc.) should display its price (e.g., '15 CR') next to its name, matching the style of the weapon items.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:19:13.597029341-08:00","created_by":"rkj","updated_at":"2026-01-08T20:23:49.514064272-08:00","closed_at":"2026-01-08T20:23:49.514064272-08:00","close_reason":"Exposed supply prices and charges in the EquipmentScreen UI. Fixed TypeScript error in regression test and verified visually."}
{"id":"voidlock-6ky","title":"Objective UI Refactor","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T20:28:41.850391835-08:00","updated_at":"2026-01-03T19:08:39.771210754-08:00","closed_at":"2025-12-30T19:24:41.590189854-08:00"}
{"id":"voidlock-6la","title":"Fix Canvas Renderer Duplicate Door Drawing","description":"Fix bug in Renderer.ts where doors are drawn for each segment cell using 'Bottom/Right' logic, causing duplicate ghost doors to appear in incorrect locations (e.g. inside rooms).","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T20:36:00.793779544-08:00","updated_at":"2026-01-03T19:08:39.499406925-08:00","closed_at":"2025-12-20T09:56:57.039326893-08:00"}
{"id":"voidlock-6ob","title":"MapGen: Distribute Spawn and Extraction","description":"Ensure that the squad spawn point and extraction zone are placed in different quadrants of the map to maximize travel distance.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T09:48:57.897532563-08:00","updated_at":"2026-01-03T19:08:39.412215261-08:00","closed_at":"2025-12-26T12:17:31.130153957-08:00"}
{"id":"voidlock-6qd2","title":"Extraction point visible through Fog of War (Fix)","description":"Implements spec/map.md#extraction-point. Modifies 'src/renderer/visuals/MapEntityLayer.ts' to check 'state.discoveredCells' before rendering the extraction point.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T21:44:58.637352263-08:00","created_by":"rkj","updated_at":"2026-01-17T15:55:40.939333367-08:00","closed_at":"2026-01-17T15:55:40.939333367-08:00","close_reason":"Implemented via sub-agent and verified. Extraction points are now hidden in Fog of War.","dependencies":[{"issue_id":"voidlock-6qd2","depends_on_id":"voidlock-h0bp","type":"blocks","created_at":"2026-01-15T21:45:11.557697197-08:00","created_by":"rkj"}]}
{"id":"voidlock-6r4","title":"Fix: Resume AI and Consolidate UI","description":"1. Update Engine to re-enable aiEnabled on SET_ENGAGEMENT and add RESUME_AI command. 2. Remove command buttons from soldier cards. 3. Add Stop, Engage, and Ignore buttons to the selected unit panel in the right-side Command Menu.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T19:34:09.010230895-08:00","updated_at":"2026-01-03T19:08:39.807898279-08:00","closed_at":"2025-12-23T19:36:46.189345143-08:00"}
{"id":"voidlock-6rl","title":"Implement Command Processing for SET_ENGAGEMENT","description":"Implement the engine-side processing for the SET_ENGAGEMENT command, allowing agents to toggle a unit's engagement policy between 'ENGAGE' (stop \u0026 shoot) or 'IGNORE' (run).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:31.791488166-08:00","updated_at":"2026-01-03T19:08:39.635396961-08:00","closed_at":"2025-12-14T14:11:10.791695791-08:00"}
{"id":"voidlock-6s2","title":"Gameplay: Simplify Commands \u0026 Remove Agent Control","description":"Refine command hierarchy with split move options.\\n\\n1. Menu Structure:\\n   - 1: Orders\\n     - 1: Move to Room (Select Room)\\n     - 2: Overwatch Intersection (Select Node)\\n     - 3: Explore\\n     - 4: Hold\\n2. Engine:\\n   - Add 'OVERWATCH_POINT' command (Move to point, then look down corridor).\\n   - Implement 'EXPLORE'.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T15:15:29.978781893-08:00","updated_at":"2026-01-03T19:08:39.507414252-08:00","closed_at":"2026-01-01T17:50:49.950751961-08:00"}
{"id":"voidlock-6t3","title":"Implement Engine Logic Class","description":"Core simulation logic decoupled from worker","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:10:44.525644596-08:00","updated_at":"2026-01-03T19:08:39.548350792-08:00","closed_at":"2025-12-13T10:16:27.275336721-08:00","dependencies":[{"issue_id":"voidlock-6t3","depends_on_id":"voidlock-qcm","type":"parent-child","created_at":"2025-12-13T10:10:44.526313967-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-6tc","title":"Add ENGAGE/IGNORE toggle to commands","description":"Restore the ENGAGE/IGNORE toggle in the command menu to allow users to switch unit engagement policies easily.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-23T20:58:26.249342416-08:00","updated_at":"2026-01-03T19:08:39.551093846-08:00","closed_at":"2025-12-24T21:16:26.115532965-08:00","dependencies":[{"issue_id":"voidlock-6tc","depends_on_id":"voidlock-6vy","type":"discovered-from","created_at":"2025-12-23T20:58:26.250331609-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-6vy","title":"Fix Custom Mission Setup: LOS Setting, Game Speed Default, and Slider UI","description":"1. Fix LOS setting not being remembered/applied correctly. 2. Fix game speed starting at 1.0 even when UI shows 0.3 (default it to 0.3 properly). 3. Update speed slider UI: make it full width and 2x taller.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-23T20:40:19.758226122-08:00","updated_at":"2026-01-03T19:08:39.726895821-08:00","closed_at":"2025-12-23T20:59:05.227173662-08:00"}
{"id":"voidlock-6vy0","title":"Implement Screen Flow Integration Tests","description":"Create tests/renderer/integration/ScreenFlow.test.ts using JSDOM. Test flows: 1) MainMenu -\u003e Campaign -\u003e Mission Setup -\u003e Mission -\u003e Win -\u003e Debrief -\u003e Campaign. 2) MainMenu -\u003e Mission Setup -\u003e Mission -\u003e Lose -\u003e Debrief -\u003e Main Menu.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T07:06:17.747961435-08:00","created_by":"rkj","updated_at":"2026-01-07T19:38:22.687437263-08:00","closed_at":"2026-01-07T19:38:22.687437263-08:00","close_reason":"Implemented JSDOM integration tests for main screen flows (Campaign Win loop, Custom Mission Loss loop). Verified transitions and game state updates. Removed redundant test file.","dependencies":[{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-7twz","type":"blocks","created_at":"2026-01-07T07:06:29.072013151-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-0nub","type":"blocks","created_at":"2026-01-07T07:06:36.99178038-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-7zx6","type":"blocks","created_at":"2026-01-07T07:10:36.840383993-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-ilv8","type":"blocks","created_at":"2026-01-07T07:10:44.671974924-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-gzlu","type":"blocks","created_at":"2026-01-07T07:10:52.687626881-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-lv7j","type":"blocks","created_at":"2026-01-07T07:11:00.93714305-08:00","created_by":"rkj"},{"issue_id":"voidlock-6vy0","depends_on_id":"voidlock-n0xw","type":"blocks","created_at":"2026-01-07T07:12:51.960258537-08:00","created_by":"rkj"}]}
{"id":"voidlock-6wf","title":"Bug: Enemies stuck at closed doors","description":"Enemies currently cannot open doors and get stuck in rooms. They should be able to open closed doors when adjacent, similar to soldiers.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-21T10:46:48.471284046-08:00","updated_at":"2026-01-03T19:08:39.512634682-08:00","closed_at":"2025-12-21T10:55:51.066335232-08:00"}
{"id":"voidlock-6x0","title":"UI for Map Generation","description":"UI controls for map seed and generation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:26:43.546684738-08:00","updated_at":"2026-01-03T19:08:39.624938763-08:00","closed_at":"2025-12-13T11:27:59.606800378-08:00","dependencies":[{"issue_id":"voidlock-6x0","depends_on_id":"voidlock-488","type":"parent-child","created_at":"2025-12-13T11:26:43.547253096-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-71g","title":"Fix Line of Sight to respect walls and doors","description":"Modify src/engine/LineOfSight.ts and related components to ensure LOS calculations correctly account for walls and the state of doors (closed/locked doors block LOS).","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T14:03:43.391683122-08:00","updated_at":"2026-01-03T19:08:39.899408726-08:00","closed_at":"2025-12-13T14:04:36.775296574-08:00"}
{"id":"voidlock-720","title":"Feature: Context-aware command menu","description":"Gray out and disable commands that cannot be issued in the current context. For example, the 'Collect' command should be disabled if no items are visible, instead of opening an empty submenu.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-24T15:45:08.960240582-08:00","updated_at":"2026-01-03T19:08:39.949661196-08:00","closed_at":"2025-12-25T22:02:36.110501107-08:00"}
{"id":"voidlock-722","title":"Fix Director.test.ts Failures","description":"Fix failure in 'should spawn enemies periodically'. The expected spawn position is {x:0, y:0} but received {x:0.47..., y:0.31...}. This is due to recent changes adding jitter/centering to spawn logic. Update test to match new logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T20:00:05.70430041-08:00","updated_at":"2026-01-03T19:08:39.46974368-08:00","closed_at":"2025-12-19T18:22:46.376378015-08:00"}
{"id":"voidlock-72z","title":"Implement Ray-based LOS Visualization","description":"Replace the square-based LOS visualization with a smooth overlay emanating from the unit, strictly blocked by walls and closed doors.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-23T19:10:05.12265608-08:00","updated_at":"2026-01-03T19:08:39.458367657-08:00","closed_at":"2025-12-23T21:07:21.561246681-08:00"}
{"id":"voidlock-737","title":"AI: Capture Visible Objectives","description":"Update autonomous AI to prioritize capturing visible objectives (collecting items, destroying hives) when they come into LOS during exploration.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T10:21:48.165608613-08:00","updated_at":"2026-01-03T19:08:39.402566903-08:00","closed_at":"2025-12-26T13:09:08.669492592-08:00"}
{"id":"voidlock-73u","title":"Implement Command Processing for STOP","description":"Implement the engine-side processing for the STOP command, allowing agents to clear a unit's command queue and halt its current actions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:34.179590666-08:00","updated_at":"2026-01-03T19:08:39.785940027-08:00","closed_at":"2025-12-14T18:56:03.65029963-08:00"}
{"id":"voidlock-754","title":"Enhance Soldier AI: Coordinated Objectives","description":"Soldiers currently cluster on the same objective. Update AI to assign unique objectives to different soldiers when possible, or distribute them efficiently.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T20:07:12.80842994-08:00","updated_at":"2026-01-03T19:08:39.735079431-08:00","closed_at":"2025-12-22T21:02:01.672874059-08:00"}
{"id":"voidlock-7by","title":"Campaign: Soldier XP and Leveling","description":"Implement Soldier XP and Leveling.\\n\\n**Spec:** spec/campaign.md#33-progression-xp\\n**ADR:** docs/adr/0003-campaign-system-architecture.md\\n\\n**Requirements:**\\n- Track actions.\\n- Calculate XP.\\n- Apply stat boosts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T09:29:08.651056465-08:00","updated_at":"2026-01-03T19:08:39.421683818-08:00","closed_at":"2026-01-03T18:10:58.098749899-08:00","close_reason":"Implemented Soldier XP and Leveling system. Centralized XP calculation in engine and verified persistent stat boosts with tests. Version bumped to 0.53.0.","dependencies":[{"issue_id":"voidlock-7by","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T09:29:08.65177507-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-7by","depends_on_id":"voidlock-5go","type":"blocks","created_at":"2025-12-31T11:31:41.957538961-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-7by","depends_on_id":"voidlock-q2s","type":"blocks","created_at":"2026-01-01T18:39:13.877346098-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-7fsr","title":"Fix Clipboard Copy Crash","description":"See spec/ui.md#8.2. In src/renderer/DebugUtility.ts, wrap the navigator.clipboard.writeText call in a try/catch block. Provide a graceful fallback (console.log or alert) if the clipboard API is unavailable or throws an error.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-04T18:58:04.053465618-08:00","created_by":"rkj","updated_at":"2026-01-06T20:49:24.191314024-08:00","closed_at":"2026-01-06T20:49:24.191314024-08:00","close_reason":"Fixed Clipboard Copy Crash by wrapping API call in try/catch and adding regression test. Bumped version to 0.68.9."}
{"id":"voidlock-7gt","title":"Engine: Configurable Starting Threat Level","description":"Allow missions to start at a configurable threat level. If starting threat is \u003e 10%, enemies should be pre-spawned and roaming. Update spec.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T13:34:13.661516465-08:00","updated_at":"2026-01-03T19:08:39.80333685-08:00","closed_at":"2025-12-27T08:29:13.020521142-08:00","labels":["feature"]}
{"id":"voidlock-7j7","title":"Fix 'Maximum call stack size exceeded' error","description":"Investigate and resolve the 'Maximum call stack size exceeded' error occurring in the browser console. This error likely indicates infinite recursion within game logic, impacting pathfinding, LOS, and door states. Prioritize fixing this critical bug.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T15:04:20.89909183-08:00","updated_at":"2026-01-03T19:08:39.474605738-08:00","closed_at":"2025-12-13T15:29:09.619193594-08:00"}
{"id":"voidlock-7ks","title":"Bug: Actions not visible after restarting mission","description":"After finishing a mission, returning to the menu, and starting a mission again, the actions (likely the command menu or soldier actions) are not visible.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-30T21:24:50.651163921-08:00","updated_at":"2026-01-03T19:08:39.659262667-08:00","closed_at":"2025-12-31T14:04:41.018730197-08:00"}
{"id":"voidlock-7oz9","title":"Implement Difficulty Card Selector UI","description":"Implements `spec/ui.md#8.6`\n\nRefactor the 'New Campaign' view in `src/renderer/screens/CampaignScreen.ts`.\n\n**Visual Changes:**\n1. Replace the `\u003cselect\u003e` difficulty dropdown with a horizontal Flexbox container of 4 `div` cards.\n2. Each card represents a difficulty (Simulation, Clone, Standard, Ironman).\n3. **Card Styling:**\n   - Default: Bordered, transparent/dim background.\n   - Selected: High contrast border (primary color), lit background.\n   - Content:\n     - Title (H3)\n     - Rules List (UL/LI) summarizing death/save/pause rules.\n4. **Interaction:** Clicking a card updates the internal state and refreshes the UI (highlighting the selection).\n\n**Logic Integration:**\n1. Selecting 'Ironman' must programmatically uncheck and disable the 'Allow Tactical Pause' checkbox.\n2. Selecting any other difficulty must re-enable the checkbox (and default it to Checked if it was previously disabled by Ironman logic).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:05:00.081910344-08:00","created_by":"rkj","updated_at":"2026-01-07T21:30:37.336805202-08:00","closed_at":"2026-01-07T21:30:37.336805202-08:00","close_reason":"Implemented card-based difficulty selection in CampaignScreen. Verified visually and with regression tests."}
{"id":"voidlock-7p1l","title":"Fix Abort Persistence","description":"Ensure session is cleared when aborting mission. Implements spec/campaign.md#4.4","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T16:16:57.692993372-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T18:27:27.222870799-08:00","closed_at":"2026-01-19T18:27:27.222870799-08:00","close_reason":"Implemented via sub-agent and verified with regression test.","dependencies":[{"issue_id":"voidlock-7p1l","depends_on_id":"voidlock-kj08","type":"blocks","created_at":"2026-01-19T16:17:24.184324484-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-7p2","title":"Refactor: Extract Stats \u0026 Movement Managers","description":"Extract StatsManager (recalculateStats) and MovementManager (handleMovement) from UnitManager.\\n\\n**ADR:** docs/adr/0010-unit-system-architecture.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:54:28.507273538-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.44974577-08:00","closed_at":"2026-01-03T14:27:17.068438198-08:00","close_reason":"Extracted StatsManager and MovementManager from UnitManager as per ADR-0010. Verified with successful build and passing test suite. Version bumped to 0.51.4.","dependencies":[{"issue_id":"voidlock-7p2","depends_on_id":"voidlock-npn","type":"blocks","created_at":"2026-01-03T10:54:59.410001151-08:00","created_by":"rkj"}]}
{"id":"voidlock-7sh","title":"Implement MapGenerator.toAscii method","description":"Implement a method in MapGenerator to convert a MapDefinition object into its ASCII string representation as per spec.md section 7.3.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:41:39.815513883-08:00","updated_at":"2026-01-03T19:08:39.634157339-08:00","closed_at":"2025-12-14T11:14:40.429044336-08:00"}
{"id":"voidlock-7twz","title":"Fix Campaign transition bug","description":"The transition from campaign to mission-setup is missing in src/renderer/ScreenTransitions.ts. Update VALID_TRANSITIONS to include mission-setup for the campaign key.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-07T07:05:44.176406445-08:00","created_by":"rkj","updated_at":"2026-01-07T07:22:14.279118529-08:00","closed_at":"2026-01-07T07:22:14.279118529-08:00","close_reason":"Fixed the missing transition from 'campaign' to 'mission-setup' in VALID_TRANSITIONS. Added a regression test and verified with full test suite and build."}
{"id":"voidlock-7u3","title":"Bug: Enemies not spawning","description":"Enemies appear to have stopped spawning. Investigate if the new 45-second turn delay is too long or if there is a logic error in the Director's update loop.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T10:26:11.196581185-08:00","updated_at":"2026-01-03T19:08:39.455740198-08:00","closed_at":"2025-12-26T12:11:12.165391366-08:00"}
{"id":"voidlock-7ulc","title":"UI: Add Campaign Context Header to Mission Setup","description":"Implements spec/ui.md#mission-setup-screen. Update src/index.html to add a container (#mission-setup-context) below the 'MISSION CONFIGURATION' header. Update src/renderer/app/GameApp.ts in loadAndApplyConfig to populate this container with: 'CAMPAIGN: [Difficulty] | MISSION [N] | SECTOR [N]' when in Campaign mode, and 'CUSTOM SIMULATION' otherwise.","notes":"Implemented campaign context header in mission setup screen. Verified with new integration test.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T17:10:45.671113174-08:00","created_by":"rkj","updated_at":"2026-01-17T18:12:58.767656592-08:00","closed_at":"2026-01-17T18:12:58.767662894-08:00","dependencies":[{"issue_id":"voidlock-7ulc","depends_on_id":"voidlock-cbdu","type":"blocks","created_at":"2026-01-17T17:11:33.887589774-08:00","created_by":"rkj"},{"issue_id":"voidlock-7ulc","depends_on_id":"voidlock-hei5","type":"blocks","created_at":"2026-01-17T17:11:38.928637194-08:00","created_by":"rkj"}]}
{"id":"voidlock-7xs","title":"Bug: Remove Redundant Objective Marker at Extraction","description":"The game renders a generic 'Objective' icon on top of the 'Extraction Zone' icon because the 'Extract' task is tracked as an objective.\nRequirement:\nIn 'Renderer.ts', filter out rendering of any Objective if its 'targetCell' matches the 'state.map.extraction' coordinates. The Extraction Zone visual is sufficient.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-29T20:46:05.229198015-08:00","updated_at":"2026-01-03T19:08:39.725324123-08:00","closed_at":"2025-12-30T19:12:52.718119474-08:00"}
{"id":"voidlock-7yp","title":"Project Setup","description":"Scaffold Vite project and folder structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:47:59.262120898-08:00","updated_at":"2026-01-03T19:08:39.94876707-08:00","closed_at":"2025-12-13T11:28:27.60337043-08:00"}
{"id":"voidlock-7zx6","title":"Fix Medkit/Stimpack Double Selection","description":"Currently, applying Medkit/Stimpack triggers a double selection state (Unit Select -\u003e Target Select, or similar loop). Refactor `MenuController.ts` to ensure `USE_ITEM` for healing items goes directly to `TARGET_SELECT` (with `FRIENDLY_UNIT` filter) and then executes, bypassing unnecessary steps.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T07:10:01.518997953-08:00","created_by":"rkj","updated_at":"2026-01-07T07:37:14.082831157-08:00","closed_at":"2026-01-07T07:37:14.082831157-08:00","close_reason":"Refactored MenuController to bypass UNIT_SELECT state for Medkits and Stimpacks. Selection now goes directly from target to execution using all active units. Added regression tests and updated existing ones. Build and lint pass."}
{"id":"voidlock-807j","title":"Update Map Spec for Void Terminology","description":"Update 'spec/map.md' to refer to non-floor cells as 'Void' instead of 'Wall' to distinguish from boundary Walls. Reference: ADR 0001.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T21:28:47.560215891-08:00","created_by":"rkj","updated_at":"2026-01-06T19:19:48.946783124-08:00","closed_at":"2026-01-06T19:19:48.946783124-08:00","close_reason":"Updated map specification to clarify Void vs Wall terminology."}
{"id":"voidlock-819","title":"Engine: VIP Squad Size Exclusion","description":"Ensure VIPs do not count towards the 4-soldier squad limit. Update SquadBuilder UI to reflect this (VIPs are extra) and update Engine initialization to allow 4 soldiers + N VIPs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:11:46.957581117-08:00","updated_at":"2026-01-03T19:08:39.932648398-08:00","closed_at":"2025-12-27T08:19:07.584177719-08:00"}
{"id":"voidlock-82i","title":"UI: Refactor Move Command \u0026 Room Overlays","description":"Optimize the Move command UX by abstracting room IDs and improving visual feedback.\\n\\n1. Mapping Logic: Map discovered rooms to keys [1-9, A-Z] based on *Discovery Order*. This ensures Key '1' always refers to the starting room (or first found).\\n2. Menu Update: Remove 'Room 35' text. Just show '1: Room', '2: Room', etc.\\n3. Overlay Update: Render LARGE, clear keys (1, 2, A) centered in the rooms on the map. \\n4. Reactivity: The menu must live-update if a new room is revealed.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T15:12:39.071192931-08:00","updated_at":"2026-01-03T19:08:39.886392185-08:00","closed_at":"2026-01-01T17:28:42.837086064-08:00"}
{"id":"voidlock-837p","title":"UI: Flip Player Marker","description":"Update `src/renderer/screens/CampaignScreen.ts` to render the player position indicator (triangle/arrow) pointing DOWN instead of up. Refine positioning to \"pin\" the node.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-14T21:33:31.553936929-08:00","created_by":"rkj","updated_at":"2026-01-17T16:20:23.021274215-08:00","closed_at":"2026-01-17T16:20:23.021274215-08:00","close_reason":"Implemented via sub-agent and verified. Player marker is now a downward-pointing triangle."}
{"id":"voidlock-83z","title":"Fix Map Generation: Rendering Walls \u0026 Connectivity","description":"Currently the map has weird spaces that have open walls to nowhere. Change the map creation logic to never create a 'wall' space. Walls are between cells, never squares themselves. Implementation plan: 1. Build the map. 2. Perform a flood-fill from the start point through valid open walls/doors. 3. Mark all filled squares as Floor. 4. Mark all unfilled squares as Void/OuterSpace. This ensures no 'open walls to nowhere' exist.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T21:27:31.563866067-08:00","updated_at":"2026-01-03T19:08:39.62033795-08:00","closed_at":"2025-12-19T21:37:51.541274967-08:00"}
{"id":"voidlock-873","title":"Engine: Remove ATTACK_TARGET and implement Sticky Target logic","description":"Remove ATTACK_TARGET command handling and implement autonomous 'Sticky Target' logic.\\n\\n**Spec:** spec/commands.md#31-autonomous-targeting-logic\\n**ADR:** docs/adr/0006-autonomous-agent-architecture.md\\n\\n**Requirements:**\\n- Remove ATTACK_TARGET from CommandType enum.\\n- Implement score-based target selection (Weakest \u003e Closest).\\n- Implement sticky targeting.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.822161935-08:00","updated_at":"2026-01-03T19:08:39.773317148-08:00","closed_at":"2026-01-03T13:48:06.571018578-08:00","close_reason":"Removed ATTACK_TARGET and implemented autonomous sticky targeting logic. Verified with updated tests and successful build. Version bumped to 0.50.1.","dependencies":[{"issue_id":"voidlock-873","depends_on_id":"voidlock-6js","type":"blocks","created_at":"2026-01-01T18:39:13.756155856-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-885i","title":"Add LOS Precision Regression Test","description":"Creates tests/engine/LineOfSight_Precision.test.ts to verify that door struts block LOS and unit radius is respected near corners.","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T21:04:50.059751095-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T20:09:56.320575196-08:00","closed_at":"2026-01-18T20:09:56.320575196-08:00","close_reason":"Created LineOfSight_Precision.test.ts with 6 test cases covering Door Struts, Unit Radius for LOF, and Peek-aware LOS. Verified expected failures in the new tests. Updated documentation and version.","dependencies":[{"issue_id":"voidlock-885i","depends_on_id":"voidlock-d7hx","type":"blocks","created_at":"2026-01-17T21:06:44.374911784-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-8a1","title":"Logic: Implement channelTime for Items and USE_ITEM command","description":"Implement 'channelTime' property for Items and update USE_ITEM handling.\\n\\n**Spec:** spec/commands.md#23-use-item\\n\\n**Requirements:**\\n- Add 'channelTime' to Item interface.\\n- Update UnitManager to handle channeling state for USE_ITEM.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.77145685-08:00","updated_at":"2026-01-03T19:08:39.698135656-08:00","closed_at":"2026-01-03T13:37:39.077976332-08:00","close_reason":"Implemented channelTime for Items and updated USE_ITEM handling. Added unitIds to UseItemCommand and updated UI flow. Verified with updated regression tests and browser validation. Version bumped to 0.48.0."}
{"id":"voidlock-8aa","title":"Provide ASCII example of 2x2 test map","description":"Generate and provide an ASCII string representation of the existing 2x2 test map, adhering to the expanded grid format defined in spec.md section 7.3.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:51:50.181032747-08:00","updated_at":"2026-01-03T19:08:39.631940638-08:00","closed_at":"2025-12-14T18:50:02.080416268-08:00"}
{"id":"voidlock-8du","title":"Engine: Refactor Speed and Sight","description":"Refactor 'speed' to be x10 integer. Remove 'sightRange' limit for soldiers (infinite sight). Update movement logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:14:21.188858396-08:00","updated_at":"2026-01-03T19:08:39.9219987-08:00","closed_at":"2025-12-27T09:56:52.199734213-08:00","labels":["engine","refactor"]}
{"id":"voidlock-8e2","title":"Track: Project Foundation \u0026 Audit","description":"Establish a solid baseline for the project by auditing test coverage, documenting architecture, and ensuring core mechanic stability.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-21T09:29:08.444648846-08:00","updated_at":"2026-01-03T19:08:39.617580358-08:00","closed_at":"2025-12-21T10:22:21.419248495-08:00"}
{"id":"voidlock-8e6","title":"Spec: Implement Global Squad Inventory \u0026 Hand Slots","description":"1. Refactor Unit/Equipment types:\n   - Add 'rightHand', 'leftHand', 'body', 'feet' slots to Unit/Archetype.\n   - Remove per-unit 'inventory'.\n2. Create 'SquadInventory' in GameState:\n   - Map\u003cItemId, Count\u003e.\n3. Refactor Item Usage:\n   - 'USE_ITEM' command is now a Global Command (no unitId required, just targetPos or targetUnitId).\n   - Logic: Decrement global count, apply effect remotely.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T08:26:08.614458682-08:00","updated_at":"2026-01-03T19:08:39.461755797-08:00","closed_at":"2025-12-31T16:21:51.00108572-08:00"}
{"id":"voidlock-8ee","title":"Adjust door rendering dimensions","description":"Change door length to 1/3 of cell size and increase thickness to ~1/8 of cell size.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T19:17:38.727742622-08:00","updated_at":"2026-01-03T19:08:39.847446887-08:00","closed_at":"2025-12-22T21:02:01.729583488-08:00"}
{"id":"voidlock-8hwf","title":"Engine: Enforce Time Limits","description":"Update 'CoreEngine' or 'GameClient' to respect 'allowTacticalPause'. If false, clamp minimum timeScale to 1.0. Ensure 'Active Pause' is disabled but 'System Pause' (Esc) still works.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T10:31:00.083865959-08:00","created_by":"rkj","updated_at":"2026-01-04T16:42:36.869792865-08:00","closed_at":"2026-01-04T16:42:36.869792865-08:00","close_reason":"Enforced allowTacticalPause in CoreEngine and GameClient with regression tests."}
{"id":"voidlock-8ne","title":"Docs: Rename Xenopurge to Voidlock","description":"Update README.md, spec/*.md, and docs/ to use the new name 'Voidlock'. Link to voidlock-jiz.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T19:33:18.754109249-08:00","updated_at":"2026-01-03T19:08:39.505752341-08:00","closed_at":"2026-01-02T20:08:10.637654391-08:00","close_reason":"Renamed Xenopurge to Voidlock in README, spec/*.md, docs/**/*.md, AGENTS.md, ARCHITECTURE.md, and src/**/GEMINI.md. Version bumped to 0.43.14."}
{"id":"voidlock-8pa","title":"Fix Copy World State Clipboard Error","description":"The Copy World State debug button throws an exception when the Clipboard API is unavailable (e.g. non-secure contexts). Implement a check for navigator.clipboard and add a robust fallback that logs the JSON to the console and alerts the user. See spec/ui.md#82-debug-affordances.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T19:00:40.024028372-08:00","created_by":"rkj","updated_at":"2026-01-04T15:27:07.403750093-08:00","closed_at":"2026-01-04T15:27:07.403750093-08:00","close_reason":"Implemented DebugUtility with fallback and full test coverage."}
{"id":"voidlock-8pn","title":"FR: Mission Accomplishments Screen","description":"The mission finished screen should list all accomplishments (objectives) that were completed or failed, displayed with nice checkboxes for success and X marks for failure.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-27T09:18:13.904386062-08:00","updated_at":"2026-01-03T19:08:39.522849303-08:00","closed_at":"2025-12-27T10:28:17.115321074-08:00"}
{"id":"voidlock-8rf","title":"Bug: Enemies idle/not roaming","description":"Enemies appear to be static and not roaming the ship. They should behave similarly to soldiers: roaming autonomously and switching to attack mode upon detecting a soldier. Current implementation should support melee-only attacks for now, but be extensible.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T10:34:22.672320021-08:00","updated_at":"2026-01-03T19:08:39.580708908-08:00","closed_at":"2025-12-21T10:37:40.663261887-08:00"}
{"id":"voidlock-8rz","title":"Campaign: Define Data Types","description":"Update 'src/shared/types.ts' to include 'CampaignState', 'CampaignSoldier', 'CampaignNode', and 'MissionReport' interfaces. Define the structure for the Sector Map DAG and Soldier persistence.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T21:21:54.37582267-08:00","updated_at":"2026-01-03T19:08:39.463035978-08:00","closed_at":"2025-12-31T21:24:16.802810585-08:00","dependencies":[{"issue_id":"voidlock-8rz","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T21:21:54.391616297-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-8v1","title":"Bug: Filter MOVE menu rooms by discovery","description":"The MOVE submenu should only list rooms that have been discovered by the squad. Room numbering must remain linear (no gaps) to avoid revealing the total number of rooms on the map.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-26T10:26:11.102287821-08:00","updated_at":"2026-01-03T19:08:39.413436398-08:00","closed_at":"2025-12-26T12:53:47.89330507-08:00"}
{"id":"voidlock-92a","title":"Fix disabled menu item styling","description":"The disabled commands in the menu have their border removed, causing misalignment. Ensure the border remains or layout is preserved when disabled.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-26T09:27:02.043435703-08:00","updated_at":"2026-01-03T19:08:39.410089818-08:00","closed_at":"2025-12-26T10:12:53.351725664-08:00"}
{"id":"voidlock-957","title":"Add 12x12 TreeShipGenerator test case","description":"Add a new test case to src/engine/tests/generators/TreeShipGenerator.cycle.test.ts for a 12x12 map, including hardcoded ASCII output for visual review and an assertion for acyclicity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T17:10:07.350453151-08:00","updated_at":"2026-01-03T19:08:39.665100536-08:00","closed_at":"2025-12-15T18:50:27.031480842-08:00","labels":["complexity:medium"]}
{"id":"voidlock-95y7","title":"Visual Polish \u0026 UX Standardization","description":"Comprehensive UI overhaul to ensure visual consistency, replace native alerts, and fix layout bugs across the Campaign and Mission screens.","status":"open","priority":4,"issue_type":"epic","created_at":"2026-01-17T18:03:38.180309641-08:00","created_by":"rkj","updated_at":"2026-01-17T19:31:01.506322467-08:00"}
{"id":"voidlock-95y7.1","title":"Implement ModalService for custom in-game notifications","description":"Create a reusable Modal/Dialog service to replace all native window.alert/confirm calls with themed UI overlays. Implements 'spec/ui.md#8.10'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T18:03:45.655073467-08:00","created_by":"rkj","updated_at":"2026-01-17T21:20:35.019957467-08:00","closed_at":"2026-01-17T21:20:35.019957467-08:00","close_reason":"Implemented themed ModalService, refactored existing event modals, and updated full test suite to match async UI flows. Verified with full build pass.","dependencies":[{"issue_id":"voidlock-95y7.1","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:03:45.671392535-08:00","created_by":"rkj"},{"issue_id":"voidlock-95y7.1","depends_on_id":"voidlock-uva4","type":"blocks","created_at":"2026-01-17T20:31:10.068116037-08:00","created_by":"Roman Kamyk"}],"comments":[{"id":8,"issue_id":"voidlock-95y7.1","author":"Roman Kamyk","text":"## Build Failure Log\\n`npm run build` failed with TypeScript errors in:\\n- `tests/renderer/screens/CampaignScreen_Loot.test.ts`\\n- `tests/renderer/screens/regression_7oz9_difficulty_cards.test.ts`\\n\\nError: Expected 6-8 arguments, but got 5. The `CampaignScreen` constructor now requires `modalService` as the third argument.","created_at":"2026-01-18T05:13:35Z"}]}
{"id":"voidlock-95y7.10","title":"Visual audit and polish: Tactical HUD","description":"Verify vertical alignment, spacing, and styling of the in-game HUD. Check for overlapping elements or misaligned text.","status":"open","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:04:53.956012032-08:00","created_by":"rkj","updated_at":"2026-01-17T19:31:43.52026952-08:00","dependencies":[{"issue_id":"voidlock-95y7.10","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:53.966779224-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.11","title":"Visual audit and polish: Debrief Screen","description":"Verify vertical alignment, spacing, and styling of the Mission Debrief overlay. Ensure readability against the background.","status":"open","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:05:01.555844469-08:00","created_by":"rkj","updated_at":"2026-01-17T19:31:43.523678472-08:00","dependencies":[{"issue_id":"voidlock-95y7.11","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:05:01.573152422-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.12","title":"Visual audit and polish: Campaign Summary","description":"Verify vertical alignment, spacing, and styling of the Victory/Defeat screens.","status":"open","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:05:09.278399496-08:00","created_by":"rkj","updated_at":"2026-01-17T19:32:06.779630831-08:00","dependencies":[{"issue_id":"voidlock-95y7.12","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:05:09.293905294-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.2","title":"Implement CampaignShell component","description":"Create a persistent UI shell for Campaign mode containing the Top Bar (Resources, Date) and Navigation Tabs. Implements 'spec/ui.md#8.9'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T18:03:53.062819382-08:00","created_by":"rkj","updated_at":"2026-01-17T22:02:35.381000082-08:00","closed_at":"2026-01-17T22:02:35.381000082-08:00","close_reason":"Implemented persistent CampaignShell, refactored all campaign-related screens to use it, and updated the full test suite to match the new architecture. Verified with 274 passing tests and a successful build.","dependencies":[{"issue_id":"voidlock-95y7.2","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:03:53.077434711-08:00","created_by":"rkj"}],"comments":[{"id":9,"issue_id":"voidlock-95y7.2","author":"Roman Kamyk","text":"## Partial Progress Report\\nSub-agent was interrupted. Current state:\\n- `CampaignShell.ts` created.\\n- `main.css` updated with shell styles.\\n- `index.html` updated with shell wrapper.\\n- `ScreenManager.ts` updated to manage shell visibility.\\n\\nNext steps: Update `GameApp.ts` to instantiate and use `CampaignShell`, and update relevant tests.","created_at":"2026-01-18T05:28:29Z"},{"id":10,"issue_id":"voidlock-95y7.2","author":"Roman Kamyk","text":"## Build Failure Log\\n`npm run build` failed with a TypeScript error:\\n`src/renderer/ScreenTransitions.ts:3:14 - error TS2741: Property \\\"campaign-shell\\\" is missing in type... but required in type \\\"Record\u003cScreenId, ScreenId[]\u003e\\\".`","created_at":"2026-01-18T05:46:16Z"}]}
{"id":"voidlock-95y7.3","title":"Refactor CampaignScreen to use CampaignShell","description":"Update the Sector Map screen to render within the new CampaignShell. Standardize button heights and move navigation to Top Right. Implements 'spec/ui.md#8.9'.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-17T18:04:00.933445565-08:00","created_by":"rkj","updated_at":"2026-01-18T17:26:49.633246282-08:00","closed_at":"2026-01-18T17:26:49.633246282-08:00","close_reason":"Refactored CampaignScreen to render within CampaignShell, standardized button heights, and fixed regressions in CampaignScreen.test.ts and E2E_CampaignLoss.test.ts. Verified with full test pass and build.","dependencies":[{"issue_id":"voidlock-95y7.3","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:00.961651429-08:00","created_by":"rkj"},{"issue_id":"voidlock-95y7.3","depends_on_id":"voidlock-95y7.2","type":"blocks","created_at":"2026-01-17T18:04:00.968469292-08:00","created_by":"rkj"}],"comments":[{"id":12,"issue_id":"voidlock-95y7.3","author":"Roman Kamyk","text":"Verification failed. Integration tests are failing with 'expected none to be flex' for screen-mission-setup.\nFailure in tests/renderer/integration/E2E_CampaignLoss.test.ts:436.\n\nThis is likely due to the async nature of onCampaignNodeSelected in GameApp.ts. Please update the integration tests to use sufficient timeouts (e.g., 20ms as in FullCampaignFlow.test.ts) or await the transition correctly. Also check if other integration tests like E2E_CampaignWin.test.ts or UserJourneys.test.ts need similar updates.","created_at":"2026-01-19T01:16:52Z"},{"id":13,"issue_id":"voidlock-95y7.3","author":"Roman Kamyk","text":"Verification failed again. Two tests are now failing:\n\n1. tests/renderer/screens/CampaignScreen.test.ts:54\n   - AssertionError: expected 'NEW EXPEDITION...' to contain 'New Campaign'\n   - Reason: You changed 'New Campaign' to 'NEW EXPEDITION' in the source but didn't update this test.\n\n2. tests/renderer/integration/E2E_CampaignLoss.test.ts:436\n   - AssertionError: expected 'none' to be 'flex' for screen-mission-setup.\n   - Even with a 50ms timeout, this is failing.\n   - Investigation: Check if node2.type is 'Shop' or 'Event'. If it is, GameApp.ts won't transition to 'mission-setup'. The test should probably find a 'Combat' node specifically or handle other node types.\n\nPlease fix both tests and ensure a full 'npx vitest run' passes.","created_at":"2026-01-19T01:22:36Z"}]}
{"id":"voidlock-95y7.4","title":"Refactor BarracksScreen to use CampaignShell","description":"Update the Barracks screen to render within the new CampaignShell. Resolve element overlap issues and fix cut-off back buttons. Implements 'spec/ui.md#8.9'.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-17T18:04:08.675316209-08:00","created_by":"rkj","updated_at":"2026-01-18T17:34:50.961485953-08:00","closed_at":"2026-01-18T17:34:50.961485953-08:00","close_reason":"Refactored BarracksScreen to render within CampaignShell, standardized layout with content-wrapper and footer, added onBack callback, and fixed global layout issues by adding box-sizing: border-box and missing padding utility classes. Verified with full test pass and build.","dependencies":[{"issue_id":"voidlock-95y7.4","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:08.688058942-08:00","created_by":"rkj"},{"issue_id":"voidlock-95y7.4","depends_on_id":"voidlock-95y7.2","type":"blocks","created_at":"2026-01-17T18:04:08.696640105-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.5","title":"Create reproduction test for recruit speed display bug","description":"Create a UI test case that verifies the speed value displayed in the Recruitment panel matches the raw stat, not the derived value. Pre-requisite for bug fix.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T18:04:16.443987878-08:00","created_by":"rkj","updated_at":"2026-01-17T22:05:21.729758453-08:00","closed_at":"2026-01-17T22:05:21.729758453-08:00","close_reason":"Created failing regression test case reproducing the incorrect speed display in the recruitment panel. Verified failure with vitest.","dependencies":[{"issue_id":"voidlock-95y7.5","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:16.458384278-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.6","title":"Fix incorrect speed unit display in recruitment panel","description":"Ensure the recruitment panel displays the raw speed stat (e.g., 25) instead of the divided value (2.5). Fixes user-reported bug.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-17T18:04:24.22183117-08:00","created_by":"rkj","updated_at":"2026-01-18T17:11:43.958005806-08:00","closed_at":"2026-01-18T17:11:43.958005806-08:00","close_reason":"Verified fix for recruitment panel speed display. Removed duplicate failing test file. All 1199 tests pass and build successful.","dependencies":[{"issue_id":"voidlock-95y7.6","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:24.25224328-08:00","created_by":"rkj"},{"issue_id":"voidlock-95y7.6","depends_on_id":"voidlock-95y7.5","type":"blocks","created_at":"2026-01-17T18:04:24.258241826-08:00","created_by":"rkj"}],"comments":[{"id":11,"issue_id":"voidlock-95y7.6","author":"Roman Kamyk","text":"Verification failed. There are duplicate test files:\n- tests/engine/regression_voidlock_5zjs_scrap_display.test.ts (Failing)\n- tests/renderer/screens/regression_voidlock_5zjs_scrap_display.test.ts (Passing)\n\nThe one in tests/engine/ is outdated and misplaced. Please remove it and ensure all tests pass.","created_at":"2026-01-19T00:34:09Z"}]}
{"id":"voidlock-95y7.7","title":"Visual polish for Mission Setup screen","description":"Remove redundant horizontal lines, remove 'Slot X' text from deployment boxes, and integrate buttons more naturally. Implements 'spec/ui.md#8.5'.","status":"closed","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:04:31.541998202-08:00","created_by":"rkj","updated_at":"2026-01-18T21:47:52.61870438-08:00","closed_at":"2026-01-18T21:47:52.61870438-08:00","close_reason":"Implemented via sub-agent and verified. Mission Setup UI polished, redundant elements removed, accessibility improved, tests and build pass.","dependencies":[{"issue_id":"voidlock-95y7.7","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:31.553992712-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.8","title":"Visual audit and polish: Main Menu","description":"Verify vertical alignment, spacing, and styling of the Main Menu screen. Ensure no text is adjacent/misaligned.","status":"closed","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:04:39.035492536-08:00","created_by":"rkj","updated_at":"2026-01-18T22:08:41.466081503-08:00","closed_at":"2026-01-18T22:08:41.466081503-08:00","close_reason":"Implemented via sub-agent and verified. Main Menu refactored to use flexbox, spacing standardized, tests and build pass.","dependencies":[{"issue_id":"voidlock-95y7.8","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:39.057310375-08:00","created_by":"rkj"}]}
{"id":"voidlock-95y7.9","title":"Visual audit and polish: Equipment Screen","description":"Verify vertical alignment, spacing, and styling of the Equipment/Soldier Inspector screen. Ensure consistent padding and text alignment.","status":"closed","priority":4,"issue_type":"chore","created_at":"2026-01-17T18:04:46.418017302-08:00","created_by":"rkj","updated_at":"2026-01-19T09:39:13.587583962-08:00","closed_at":"2026-01-19T09:39:13.587583962-08:00","close_reason":"Implemented via sub-agent and verified. Equipment Screen and Soldier Inspector polished, layout standardized, tests and build pass.","dependencies":[{"issue_id":"voidlock-95y7.9","depends_on_id":"voidlock-95y7","type":"parent-child","created_at":"2026-01-17T18:04:46.429063054-08:00","created_by":"rkj"}]}
{"id":"voidlock-960","title":"Improve TreeShipGenerator fill rate (90% non-void)","description":"The TreeShipGenerator should be improved to generate maps where at least 90% of cells are accessible (not '#', i.e., not CellType.Wall). Rooms should mostly be touching each other to reflect a spaceship environment where space is valuable.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T17:09:54.072159337-08:00","updated_at":"2026-01-03T19:08:39.911285414-08:00","closed_at":"2025-12-14T18:27:14.729876006-08:00","labels":["complexity:hard"]}
{"id":"voidlock-96a","title":"Fix menu click bug and add mouse Back button","description":"Users cannot click 'Engage'/'Ignore' in the engagement menu. Refactor click handling to use data-index instead of text parsing for robustness. Also add a '0. BACK' option to all submenus to allow mouse-only navigation back to the previous menu level.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T09:20:44.373010551-08:00","updated_at":"2026-01-03T19:08:39.547597121-08:00","closed_at":"2025-12-25T09:21:21.500868173-08:00"}
{"id":"voidlock-96y","title":"Add Preset Maps to UI","description":"Implement a dropdown or list in the UI for selecting preset maps, including 'map-screenshot.json' as a predefined option. Store preset map data in an accessible way.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T14:27:52.127784373-08:00","updated_at":"2026-01-03T19:08:39.796184487-08:00","closed_at":"2025-12-14T13:06:18.685530763-08:00"}
{"id":"voidlock-97y","title":"M6: Advanced UI \u0026 Combat Feedback","description":"Implement Soldier List, Keyboard Commands, Combat Tracers, and Command Queuing","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T12:43:53.40911887-08:00","updated_at":"2026-01-03T19:08:39.627863368-08:00","closed_at":"2025-12-13T12:47:04.62506481-08:00"}
{"id":"voidlock-98j","title":"Assets: Define SVG Stat Icons","description":"Create or source SVG path definitions in 'src/renderer/Icons.ts' for:\n1. Movement Speed (e.g. lightning/boot)\n2. Accuracy/Aim (e.g. crosshair)\n3. Damage (e.g. impact/skull)\n4. Firing Rate/Melee Rate (e.g. clock/reload)\n5. Range (e.g. ruler/ruler-horizontal)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T09:16:59.793038252-08:00","updated_at":"2026-01-03T19:08:39.719422868-08:00","closed_at":"2025-12-31T20:06:37.231009591-08:00"}
{"id":"voidlock-9a2","title":"Refactor: Time Scale via Constants","description":"Slow down the base game speed by changing the normalization constant (10 -\u003e 30) instead of scaling runtime dt. Extend max slider speed to 10x.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-03T17:16:47.000198838-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.500654198-08:00","closed_at":"2026-01-03T17:47:07.799122414-08:00","close_reason":"The Epic is complete. Speed normalization constant refactored to 30, and logarithmic speed slider implemented (0.1x - 10.0x) as verified in previous turns.","dependencies":[{"issue_id":"voidlock-9a2","depends_on_id":"voidlock-z7i","type":"blocks","created_at":"2026-01-03T17:17:17.74465737-08:00","created_by":"rkj"},{"issue_id":"voidlock-9a2","depends_on_id":"voidlock-nxy","type":"blocks","created_at":"2026-01-03T17:17:22.836061275-08:00","created_by":"rkj"},{"issue_id":"voidlock-9a2","depends_on_id":"voidlock-d2w","type":"blocks","created_at":"2026-01-03T17:17:27.951403737-08:00","created_by":"rkj"},{"issue_id":"voidlock-9a2","depends_on_id":"voidlock-l9w","type":"blocks","created_at":"2026-01-03T17:22:27.25536215-08:00","created_by":"rkj"}]}
{"id":"voidlock-9bsw","title":"Optimize Map JSON Serialization","description":"Update 'MapGenerator' (and specifically 'sanitize' or final output logic) to OMIT 'Void' cells from the 'cells' array in the generated JSON. The 'Graph' class already initializes cells to Void, so the JSON should be sparse (only listing Floor cells). This reduces file size and confusion.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-04T21:29:08.258652527-08:00","created_by":"rkj","updated_at":"2026-01-06T19:56:57.835910925-08:00","closed_at":"2026-01-06T19:56:57.835910925-08:00","close_reason":"Updated MapGenerator to produce sparse JSON (omitting Void cells). Updated Graph to hydrate sparse maps. Added regression test and updated existing tests/goldens.","dependencies":[{"issue_id":"voidlock-9bsw","depends_on_id":"voidlock-lgqj","type":"blocks","created_at":"2026-01-04T21:29:37.944968626-08:00","created_by":"rkj"}]}
{"id":"voidlock-9bx","title":"MapGen: Mutually Exclusive Spawn Rooms","description":"Ensure squad spawn points and enemy spawn points are never placed in the same room. Update spec.md to reflect this constraint.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T13:34:13.632765345-08:00","updated_at":"2026-01-03T19:08:39.543189385-08:00","closed_at":"2025-12-27T07:54:20.94209231-08:00","labels":["bug","mapgen"]}
{"id":"voidlock-9d8","title":"Increase test coverage for Pathfinder.ts to 100%","description":"Ensure robust testing for A* implementation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:23.831998061-08:00","updated_at":"2026-01-03T19:08:39.614231152-08:00","closed_at":"2025-12-21T10:11:32.987095051-08:00","dependencies":[{"issue_id":"voidlock-9d8","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:23.832748177-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-9eg7","title":"Enforce Forward Progression in Campaign Map","description":"Implements `spec/campaign.md#3.1`\n\n**Goal:** Prevent replaying cleared nodes or playing sibling nodes after a choice is made.\n\n**Logic Changes:**\n1. Modify `src/engine/managers/CampaignManager.ts`.\n2. Update `processMissionResult`:\n   - After clearing `node`, increment `state.currentSector` (or ensure it tracks depth).\n   - Iterate through ALL nodes in `state.nodes`.\n   - If a node's `depth` (or rank, derived from DAG position) is less than the *new* `currentSector`, set its status to `'Locked'` (or 'Skipped' if we add that status) if it wasn't the one just cleared.\n   - **Crucially:** Ensure only nodes connected to the *just cleared* node become `'Accessible'`.\n3. Modify `getAvailableNodes()`:\n   - It should strictly return nodes where `status === 'Accessible'`.\n   - Double check that previously cleared nodes are NOT 'Accessible'.\n\n**Visuals (Renderer):**\n- Update `CampaignScreen.ts` to visually dim/grey out the skipped sibling nodes so the path taken is clear.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:04:01.271546277-08:00","created_by":"rkj","updated_at":"2026-01-11T20:02:36.963482334-08:00","closed_at":"2026-01-11T20:02:36.963482334-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-9er","title":"Update Engine for Thin Walls","description":"Refactor Cell model, Grid collision, and LOS for edge-based walls","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:04:06.610926883-08:00","updated_at":"2026-01-03T19:08:39.636026654-08:00","closed_at":"2025-12-13T13:08:12.443116694-08:00","dependencies":[{"issue_id":"voidlock-9er","depends_on_id":"voidlock-m1z","type":"parent-child","created_at":"2025-12-13T13:04:06.612887524-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-9f6s","title":"Test: E2E Campaign Happy Path","description":"Create `tests/renderer/integration/E2E_CampaignWin.test.ts`. Use JSDOM. Start a new Standard campaign. Loop through missions: Select Node -\u003e Launch -\u003e Open Debug Overlay -\u003e Click \"Force Win\". Verify progression to next sector. Finally, verify Boss Mission Win triggers Victory Screen.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T22:06:55.941368036-08:00","created_by":"rkj","updated_at":"2026-01-17T15:46:29.043469369-08:00","closed_at":"2026-01-17T15:46:29.043469369-08:00","close_reason":"Implemented via sub-agent and verified. Added E2E_CampaignWin.test.ts covering full campaign progression."}
{"id":"voidlock-9gf","title":"Bug: Clean up Objective HUD (Hide Coords \u0026 Status Text, Add Tooltips)","description":"1. Remove the '(Pending)'/'(Completed)' text from the objective list; the icon is sufficient.\n2. Hide coordinates 'at (x,y)' unless 'debugOverlayEnabled' is true.\n3. Add a 'title' attribute to the icon span (e.g. title='Pending') for accessibility/hover tooltips.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T07:54:47.940798129-08:00","updated_at":"2026-01-03T19:08:39.417467813-08:00","closed_at":"2025-12-31T18:41:34.371875214-08:00"}
{"id":"voidlock-9hda","title":"Implement Campaign Roster Selection","description":"Replace generic soldier count inputs with a Roster Selection UI in Campaign Mission Setup. See `spec/campaign.md#43-mission-launch-constraints`.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T19:29:46.002267708-08:00","created_by":"rkj","updated_at":"2026-01-06T18:50:25.783220999-08:00","closed_at":"2026-01-06T18:50:25.783220999-08:00","close_reason":"All sub-tasks completed: Spec updated and UI implemented."}
{"id":"voidlock-9hda.1","title":"Update Campaign Spec for Roster Selection","description":"See `spec/campaign.md`.\n\n**Goal**: Explicitly define the UI requirement for Roster Selection.\n\n**Input**: `spec/campaign.md`\n**Logic**: \n- Update section 4.3 to specify that the UI must list individual soldiers from the roster with checkboxes/toggles, disabling injured ones.\n**Output**: Updated spec.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:29:57.215629154-08:00","created_by":"rkj","updated_at":"2026-01-06T18:43:43.187682819-08:00","closed_at":"2026-01-06T18:43:43.187682819-08:00","close_reason":"Explicitly defined Roster Selection requirements in spec/campaign.md","dependencies":[{"issue_id":"voidlock-9hda.1","depends_on_id":"voidlock-9hda","type":"parent-child","created_at":"2026-01-04T19:29:57.22665898-08:00","created_by":"rkj"}]}
{"id":"voidlock-9hda.2","title":"Refactor Squad Builder for Roster Selection","description":"See `spec/campaign.md`.\n\n**Goal**: Modify `main.ts` to support picking specific soldiers in Campaign Mode.\n\n**Input**: `src/renderer/main.ts`\n**Logic**:\n1. Modify `renderSquadBuilder` to accept `isCampaign: boolean`.\n2. If `isCampaign` is true:\n   - Clear container.\n   - Fetch `campaignManager.getState().roster`.\n   - Render each soldier as a row:\n     - Checkbox (checked if soldier is in `currentSquad.soldiers` by ID).\n     - Disabled if status != \"Healthy\".\n     - Text: \"{Name} ({Archetype} Lvl {Level}) - {Status}\".\n   - On Toggle:\n     - Add/Remove soldier from `currentSquad.soldiers`.\n     - Ensure deep copy of soldier data (stats, equipment).\n     - Enforce Max Squad Size (4).\n3. If `isCampaign` is false:\n   - Use existing logic (Archetype counters).\n4. Update `loadAndApplyConfig` to pass the correct flag to `renderSquadBuilder`.\n**Output**: Campaign Setup shows roster list instead of counters.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:30:02.285549069-08:00","created_by":"rkj","updated_at":"2026-01-06T18:50:20.694599071-08:00","closed_at":"2026-01-06T18:50:20.694599071-08:00","close_reason":"Implemented Roster Selection UI in Squad Builder for Campaign Mode. Added deep copy logic, auto-population, and max squad size enforcement. Verified with regression tests and browser check.","dependencies":[{"issue_id":"voidlock-9hda.2","depends_on_id":"voidlock-9hda","type":"parent-child","created_at":"2026-01-04T19:30:02.295227813-08:00","created_by":"rkj"},{"issue_id":"voidlock-9hda.2","depends_on_id":"voidlock-9hda.1","type":"blocks","created_at":"2026-01-04T19:30:10.725202729-08:00","created_by":"rkj"}]}
{"id":"voidlock-9n1z","title":"Add Global Error Logging to main.ts","description":"Implements spec/ui.md#8.12. Adds window.onerror and window.onunhandledrejection listeners to main.ts for better error tracking.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:57:27.127140141-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:49:13.042871609-08:00","closed_at":"2026-01-18T19:49:13.042871609-08:00","close_reason":"Added detailed global error and unhandled rejection listeners to main.ts for better error tracking. Synchronized integration tests with robust node selection. Verified with full test pass and build."}
{"id":"voidlock-9nz3","title":"UI: Update Debug Info","description":"See spec/ui.md#8.2. Update the Debug Overlay in src/renderer/ui/HUDManager.ts to display the Map Generator Name and Seed in the format 'GeneratorName (Seed)', e.g., 'TreeShipGenerator (785411)'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:57:48.906670363-08:00","created_by":"rkj","updated_at":"2026-01-04T21:49:37.625445901-08:00","closed_at":"2026-01-04T21:49:37.625445901-08:00","close_reason":"Implemented via sub-agent and verified. Debug overlay now shows Map Generator Name and Seed. Documentation and tests updated. Pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-9pjb","title":"Create Failing Test for Campaign Map Generator Integration","description":"Create a reproduction test case that asserts the 'mapGeneratorType' used in a mission matches the 'CampaignState.rules.mapGeneratorType'.\n\n**Context:**\nThe issue voidlock-a2d7 reports that the renderer ignores the campaign's map generator setting. We need to prove this with a failing test before fixing it.\n\n**Instructions:**\n1.  Create a new test file: 'tests/renderer/integration/CampaignMapGenerator.test.ts'.\n2.  Reference 'tests/renderer/integration/UserJourneys.test.ts' or 'tests/renderer/integration/ScreenFlow.test.ts' for how to set up the test environment (JSDOM, mocking 'CampaignManager', initializing 'App').\n3.  The test should:\n    *   Initialize a campaign with 'mapGeneratorType: TreeShip' (or something distinct from the default 'DenseShip').\n    *   Start a mission (simulate the Start Mission flow).\n    *   Intercept the 'GameClient.startMission' call (or verify the config passed to it).\n    *   **Assert** that the configuration passed to the engine includes 'mapGenerator: TreeShip'.\n4.  **Expectation**: This test should FAIL currently, because the code defaults to 'DenseShip' (or whatever is in 'ConfigManager' default) instead of reading from 'CampaignManager'.\n5.  Run the test to confirm it fails with 'npx vitest run tests/renderer/integration/CampaignMapGenerator.test.ts'.\n6.  Do NOT fix the bug. Just commit the failing test.\n\n**Reference:**\n*   'src/renderer/campaign/CampaignManager.ts' (Campaign Logic)\n*   'src/renderer/main.ts' (Mission Launch Logic - The bug is likely here)\n*   'src/shared/campaign_types.ts' (Types)\n\n**CRITICAL**: Place the test in 'tests/renderer/integration/'. Do NOT create it in 'src/'.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T20:34:38.381587288-08:00","created_by":"rkj","updated_at":"2026-01-08T20:47:24.218557525-08:00","closed_at":"2026-01-08T20:47:24.218557525-08:00","close_reason":"Created failing integration test 'tests/renderer/integration/CampaignMapGenerator.test.ts' that reproduces the reported issue where CampaignManager rules for map generator type are ignored by the renderer. Test fails with AssertionError as expected."}
{"id":"voidlock-9s6u","title":"task","description":"Create tests/renderer/integration/CampaignEnd.test.ts. Verify that completing a Boss mission triggers the Victory state and displays the summary UI with correct stats.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:33.009961814-08:00","created_by":"rkj","updated_at":"2026-01-14T20:48:55.259601574-08:00","closed_at":"2026-01-14T20:48:55.259601574-08:00","close_reason":"Created integration test verifying Boss mission victory state."}
{"id":"voidlock-9u8","title":"UI: Implement Q and ESC key bindings for menu back navigation","description":"Implement Q and ESC key bindings for 'Back' navigation in the menu.\\n\\n**Spec:** spec/ui.md#input-handling\\n\\n**Requirements:**\\n- Bind Q and ESC to goBack().\\n- Ensure it works across all menu levels.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.716723856-08:00","updated_at":"2026-01-03T19:08:39.446763667-08:00","closed_at":"2026-01-03T13:07:28.634479987-08:00","close_reason":"Implemented Q and ESC key bindings for menu back navigation. Updated InputManager and MenuController. Verified with new tests and browser validation. Version bumped to 0.45.0."}
{"id":"voidlock-9ux","title":"Implement Right Panel (Objective/Extraction Status, Threat Meter)","description":"Develop the UI for the right panel of the Mission screen, displaying the current objective and extraction status, along with a threat meter indicating enemy pressure.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:17.451070531-08:00","updated_at":"2026-01-03T19:08:39.65599829-08:00","closed_at":"2025-12-15T18:22:34.192305451-08:00","labels":["complexity:medium"]}
{"id":"voidlock-9vm","title":"UI: Pre-populate Squad Equipment","description":"The Squad Equipment screen must initialize with the soldier's current loadout.\\n\\nFiles to check:\\n- src/renderer/menus/SquadEquipmentMenu.ts (or similar)\\n\\nRequirement:\\n- Read the 'soldier.loadout' or equivalent property on initialization.\\n- Ensure the UI reflects the default class equipment instead of showing empty slots.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T13:29:35.156627157-08:00","updated_at":"2026-01-03T19:08:39.92600335-08:00","closed_at":"2026-01-01T17:00:46.451972929-08:00"}
{"id":"voidlock-9zi","title":"Bug: LOS missing for cell 0,2 on seed 1766364915449","description":"User reported that cell 0,2 is not visible when it should be. Seed: 1766364915449, Map Size: 6x6, Generator: DenseShip. \n\nReference Screenshot: Opera Snapshot_2025-12-24_095125_192.168.20.8.png\nScreenshot Description: Shows the game state where LOS from 3,2 into 0,2 is blocked despite doors being open.\n\nAnalysis: The bug seems related to the door between 1,2 and 1,3. The user suspects the door position is taken incorrectly in LOS calculation, blocking visibility.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-24T09:52:54.858565689-08:00","updated_at":"2026-01-03T19:08:39.893688888-08:00","closed_at":"2025-12-24T15:36:20.270525617-08:00","dependencies":[{"issue_id":"voidlock-9zi","depends_on_id":"voidlock-hka","type":"discovered-from","created_at":"2025-12-24T09:52:54.859443712-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-9zt","title":"Melee Engagement \u0026 Ignore Policy Refactor","description":"Redo the 'IGNORE' engagement policy. Soldiers should not start fights when ignoring, but if they enter the same cell as an enemy, they must fight. Add a rule where units on the same cell are 'Locked in Melee' and cannot move until one side is defeated.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-25T11:22:40.997140318-08:00","updated_at":"2026-01-03T19:08:39.408396503-08:00","closed_at":"2025-12-26T07:01:14.038619762-08:00"}
{"id":"voidlock-a1g","title":"TreeShipGenerator: Non-deterministic behavior and fill rate issues","description":"The TreeShipGenerator is exhibiting non-deterministic behavior for the same seed, making it difficult to debug. Additionally, attempts to achieve a high fill rate (90% non-void cells) while adhering to strict acyclicity and 2x2 room size constraints are proving challenging. The current cycle prevention logic (checkProposedRoomForCollisionsAndCycles) also needs re-evaluation as it does not consistently prevent cycles when map density increases. A pro model is needed to re-evaluate the generation algorithm, enforce determinism, and balance fill rate with acyclicity within the specified constraints.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T18:27:22.508469698-08:00","updated_at":"2026-01-03T19:08:39.471840057-08:00","closed_at":"2025-12-15T11:05:17.348367301-08:00","labels":["complexity:hard"]}
{"id":"voidlock-a2d7","title":"Fix Campaign Map Generator Integration","description":"The CampaignManager correctly stores the map generator type (DenseShip) in the campaign rules, but the Renderer (main.ts) ignores this setting when launching a mission, falling back to the default or last used configuration.\n\n**Root Cause:**\nIn 'src/renderer/main.ts', the 'launchMission' function and 'loadAndApplyConfig' logic do not read 'state.rules.mapGeneratorType' from the active campaign state.\n\n**Task:**\n1. Modify 'src/renderer/main.ts' in 'loadAndApplyConfig' (or where campaign state is loaded) to sync 'currentMapGeneratorType' with 'campaignManager.getState().rules.mapGeneratorType'.\n2. Ensure this sync happens *before* the mission config is built in 'launchMission'.\n3. Verify that starting a new campaign mission correctly uses the 'DenseShipGenerator' (or whatever is in the rules).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-08T20:28:55.12886567-08:00","created_by":"rkj","updated_at":"2026-01-08T20:59:39.745416979-08:00","closed_at":"2026-01-08T20:59:39.745416979-08:00","close_reason":"Implemented synchronization of map generator type and tactical pause settings from campaign rules to renderer. Verified with integration tests and manual check.","dependencies":[{"issue_id":"voidlock-a2d7","depends_on_id":"voidlock-9pjb","type":"blocks","created_at":"2026-01-08T20:34:47.149041995-08:00","created_by":"rkj"}]}
{"id":"voidlock-a6i8","title":"Support Campaign Logic for Advanced Rules","description":"Implements `spec/ui.md#8.6` and `spec/campaign.md`\n\n**Shared Types:**\n1. Modify `src/shared/campaign_types.ts`:\n   - Update `GameRules` interface to include optional overrides:\n     - `mapGeneratorType?: MapGeneratorType`\n     - `customSeed?: number`\n\n**Campaign Manager:**\n1. Modify `src/engine/managers/CampaignManager.ts`:\n   - Update `startNewCampaign` signature to accept an optional `overrides` object (matching the Advanced Options).\n   - When generating the `GameRules` state:\n     - If `overrides.scaling` is present, use it instead of the difficulty preset.\n     - If `overrides.scarcity` is present, use it.\n     - If `overrides.deathRule` is present, use it.\n     - If `overrides.mapGeneratorType` is present, store it in `GameRules`.\n2. When generating missions (in `MissionManager` or wherever `MapDefinition` is created), check `state.rules.mapGeneratorType`. If set, FORCE that generator type instead of the default.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:37:14.591992295-08:00","created_by":"rkj","updated_at":"2026-01-09T19:11:32.52992908-08:00","closed_at":"2026-01-09T19:11:32.52992908-08:00","close_reason":"Implemented advanced campaign rule overrides (custom seed, map generator, scaling, scarcity, death rules) and added collapsible UI in campaign setup. Verified with new regression test."}
{"id":"voidlock-a74","title":"Implement Graph class","description":"Implement Graph class in src/engine/Graph.ts that hydrates from MapDefinition, ensuring unique Boundary objects per edge key.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:13.233480749-08:00","updated_at":"2026-01-03T19:08:39.679168137-08:00","closed_at":"2025-12-24T14:45:16.727549651-08:00"}
{"id":"voidlock-a7z","title":"Add Map Overlay for Command Numbers","description":"Overlay numbers (1, 2, 3...) on map cells or entities to indicate selectable options within the command menu.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T20:01:16.425937623-08:00","updated_at":"2026-01-03T19:08:39.94197232-08:00","closed_at":"2025-12-23T17:06:42.638886722-08:00"}
{"id":"voidlock-a9t","title":"Bug: Labeled Room Selection for Move","description":"When the MOVE submenu opens, all rooms should be labeled (0-9, a-z) to allow direct selection of a destination room.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-26T09:58:33.87204818-08:00","updated_at":"2026-01-03T19:08:39.41291112-08:00","closed_at":"2025-12-26T10:21:12.310320893-08:00"}
{"id":"voidlock-a9x","title":"Investigate and Fix Door Rendering Visibility","description":"Add debug logs to src/renderer/Renderer.ts to verify map.doors data, drawing coordinates, and color application. Analyze logs to determine why doors are not visible on the map.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T14:13:05.228499634-08:00","updated_at":"2026-01-03T19:08:39.475725088-08:00","closed_at":"2025-12-13T14:23:17.99288507-08:00"}
{"id":"voidlock-abg","title":"Verify CoreEngine correctly handles Door states and interactions","description":"Investigate and modify src/engine/CoreEngine.ts to ensure doors are correctly integrated into pathfinding and interaction logic, respecting their state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:43:09.876659512-08:00","updated_at":"2026-01-03T19:08:39.670780296-08:00","closed_at":"2025-12-13T13:46:16.38849687-08:00"}
{"id":"voidlock-ac9","title":"Fix Invisible Doors and Missing Walls","description":"Investigate and fix issues where walls are missing in the renderer (e.g., adjacent to void) and 'phantom doors' exist (blocking movement/sight but invisible). Check MapGenerator for correct wall/door synchronization and Renderer for correct drawing logic.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-20T09:01:37.549186032-08:00","updated_at":"2026-01-03T19:08:39.619868429-08:00","closed_at":"2025-12-20T09:39:07.651387348-08:00"}
{"id":"voidlock-ae0v","title":"UI: Add Campaign Context Header to Mission Setup","description":"Implements spec/ui.md#mission-setup-screen. Update src/index.html to add a container (#mission-setup-context) below the 'MISSION CONFIGURATION' header. Update src/renderer/app/GameApp.ts in loadAndApplyConfig to populate this container with: 'CAMPAIGN: [Difficulty] | MISSION [N] | SECTOR [N]' when in Campaign mode, and 'CUSTOM SIMULATION' otherwise.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-17T16:52:56.22878007-08:00","created_by":"rkj","updated_at":"2026-01-17T17:12:42.786112705-08:00","deleted_at":"2026-01-17T17:12:42.786112705-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"voidlock-af5","title":"Spec: Define Combat Stats \u0026 Accuracy Model","description":"Update spec and implementation to match desired combat mechanics.\n    \n    1. Sight: Soldiers have infinite sight range (blocked only by walls). Update Unit definitions and VisibilityManager.\n    2. Accuracy: Add 'accuracy' stat (percentage). Implement hit chance logic that scales with distance.\n       - Requirement: '50% hit chance at 5 squares'. \n       - Hitting from 1 square should be ~100%.\n    3. Range: Define 'Weapon Range' vs 'Effective Range'.\n    4. UI: Update HUD to show Accuracy. Refactor Range/Sight display.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T08:53:04.935108321-08:00","updated_at":"2026-01-03T19:08:39.518733804-08:00","closed_at":"2025-12-28T16:12:13.296384593-08:00","labels":["spec"]}
{"id":"voidlock-aht","title":"Plan Campaign","description":"Initiate a Conductor design session to plan the campaign mode. Prepare questions regarding progression, story, and mission structure.","status":"closed","priority":4,"issue_type":"epic","created_at":"2025-12-21T19:00:20.98443878-08:00","updated_at":"2026-01-03T19:08:39.934766514-08:00","closed_at":"2025-12-28T16:21:50.351787333-08:00"}
{"id":"voidlock-ai9","title":"Config: Update project metadata","description":"Update package.json name, index.html \u003ctitle\u003e, and build configs. Link to voidlock-jiz.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T19:33:33.563012661-08:00","updated_at":"2026-01-03T19:08:39.505068097-08:00","closed_at":"2026-01-02T20:17:11.133637448-08:00","close_reason":"Updated package.json, index.html, map-viewer.html, ConfigManager keys, and replay filename. Fixed build error in main.ts. Version bumped to 0.43.16."}
{"id":"voidlock-an3","title":"Enhance Visuals and Refine Tree Layout","description":"1. Update Renderer to use a high-contrast 'tactical' style (neon walls, clear doors) similar to Xenopurge reference.\n2. Refine TreeShipGenerator to differentiate between Corridors (branching) and Rooms (terminal), reducing door clutter.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T16:19:06.15803892-08:00","updated_at":"2026-01-03T19:08:39.628440591-08:00","closed_at":"2025-12-14T16:20:37.612704566-08:00","labels":["complexity:medium"]}
{"id":"voidlock-ane7","title":"Epic: App Resilience \u0026 Crash Recovery","description":"Implements spec/ui.md#8.12. Ensures the application can recover from catastrophic crashes and malformed state via global error handling and an emergency reset mechanism.","status":"closed","priority":2,"issue_type":"epic","owner":"rkj@google.com","created_at":"2026-01-17T20:57:10.144044622-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:58:44.303468749-08:00","closed_at":"2026-01-18T19:58:44.303468749-08:00","close_reason":"All sub-tasks completed and verified. App resilience improved via inline resilience script, global error logging in main.ts, and strict validation for persisted state.","dependencies":[{"issue_id":"voidlock-ane7","depends_on_id":"voidlock-w4uj","type":"blocks","created_at":"2026-01-17T20:57:45.445538608-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-ane7","depends_on_id":"voidlock-9n1z","type":"blocks","created_at":"2026-01-17T20:57:50.499795528-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-ane7","depends_on_id":"voidlock-g8ed","type":"blocks","created_at":"2026-01-17T20:58:07.134818906-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-aoi","title":"Fix hardcoded version strings","description":"Multiple versions are displayed: v0.2.0 in the status line, but Xenopurge v0.1.0 in the top bar and v0.1.0 Prototype on the start screen. Consolidate all to use the version from package.json.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T19:11:44.516730315-08:00","updated_at":"2026-01-03T19:08:39.55753709-08:00","closed_at":"2025-12-23T19:44:10.510849242-08:00"}
{"id":"voidlock-aqmk","title":"Fix Mission Config UI","description":"Wrap Mission Setup screen in CampaignShell to restore global nav. Implements spec/ui.md#8.5","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T16:17:07.801017067-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T18:59:32.450215971-08:00","closed_at":"2026-01-19T18:59:32.450215971-08:00","close_reason":"Implemented via sub-agent and verified with regression test.","dependencies":[{"issue_id":"voidlock-aqmk","depends_on_id":"voidlock-awkx","type":"blocks","created_at":"2026-01-19T16:17:29.338240933-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-at04","title":"Test: Debug View Loot Rendering","description":"Create a regression test in `tests/renderer/visuals/DebugLoot.test.ts` to verify that `MapEntityLayer` renders loot items when `debugOverlayEnabled` is true, even if they are not visible/discovered.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T21:25:36.210712812-08:00","created_by":"rkj","updated_at":"2026-01-17T16:05:29.852079648-08:00","closed_at":"2026-01-17T16:05:29.852079648-08:00","close_reason":"Implemented via sub-agent and verified. Added DebugLoot.test.ts to verify loot rendering logic."}
{"id":"voidlock-at8","title":"Bug: Adjacent doors open simultaneously","description":"Address the bug where approaching a single door causes an unintended adjacent door to also open. This suggests a flaw in the automatic door opening mechanism, likely in the CoreEngine's door logic. This was reported by the user as BD task.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T20:15:59.090231495-08:00","updated_at":"2026-01-03T19:08:39.625578646-08:00","closed_at":"2025-12-15T18:36:05.815031788-08:00"}
{"id":"voidlock-att","title":"Renderer: Implement Theme Support","description":"Update Renderer to use ThemeConfig instead of hardcoded colors. Link dependencies to voidlock-yiw.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-01T18:30:29.398762672-08:00","updated_at":"2026-01-04T18:14:24.235889011-08:00","closed_at":"2026-01-04T18:14:24.235889011-08:00","close_reason":"Implemented ThemeConfig and refactored Renderer/UI to use theme variables.","dependencies":[{"issue_id":"voidlock-att","depends_on_id":"voidlock-x8j","type":"blocks","created_at":"2026-01-01T18:36:13.366095463-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-att","depends_on_id":"voidlock-ew6","type":"blocks","created_at":"2026-01-01T18:36:13.393203797-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-atv","title":"M2: Fog-of-war + basic combat","description":"Implement enemies, basic combat, HP/death, extraction, and objective completion","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:04.166308376-08:00","updated_at":"2026-01-03T19:08:39.554090992-08:00","closed_at":"2025-12-13T11:18:08.773791768-08:00"}
{"id":"voidlock-auc","title":"Define Shared Types","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.06621193-08:00","updated_at":"2026-01-03T19:08:39.520840124-08:00","closed_at":"2025-12-13T10:10:44.50950839-08:00","dependencies":[{"issue_id":"voidlock-auc","depends_on_id":"voidlock-wrb","type":"parent-child","created_at":"2025-12-13T09:48:05.066966039-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-avd","title":"Implement Soldier Exploration AI","description":"Develop soldier AI to prioritize exploring closest invisible areas until the map is fully discovered, then automatically move towards the exit. This will involve updating soldier logic profiles.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T15:19:13.665769218-08:00","updated_at":"2026-01-03T19:08:39.879704247-08:00","closed_at":"2025-12-16T10:43:44.584318992-08:00"}
{"id":"voidlock-avi","title":"Fix TreeShipGenerator.test.ts Failures","description":"Fix 'should generate a valid map with a tree structure'. It expects 'doors.length \u003e 0', but recent changes to remove internal doors in 2x2 rooms might leave some maps with 0 doors if they are small or fully open. Investigate if 0 doors is valid or if logic needs adjustment.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T20:00:05.738629209-08:00","updated_at":"2026-01-03T19:08:39.468569502-08:00","closed_at":"2025-12-19T18:22:46.404942398-08:00"}
{"id":"voidlock-awkp","title":"Fix Item Targeting Logic","description":"See spec/ui.md#8.3. 1) Update Grenade targeting to strictly require a visible enemy target (disable if none). 2) Update Medkit targeting to allow selecting any Friendly Unit (including self) and remove any 'Commander/Self' ambiguity.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-04T18:57:53.954227126-08:00","created_by":"rkj","updated_at":"2026-01-05T06:45:54.981765646-08:00","closed_at":"2026-01-05T06:45:54.981765646-08:00","close_reason":"Implemented via sub-agent and verified. Medkits now target friendly units, Grenades target visible enemies and are disabled if none are visible. Backend and Frontend updated. Pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-awkx","title":"Repro Mission Config UI","description":"Create E2E/Integration test verifying CampaignShell visibility on Mission Setup. Ref: spec/ui.md#8.5","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T16:17:02.752371012-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T18:52:46.123224432-08:00","closed_at":"2026-01-19T18:52:46.123224432-08:00","close_reason":"Repro test created and verified failing."}
{"id":"voidlock-awv","title":"Refactor GameGrid to use Graph","description":"Update GameGrid to use the new Graph structure for its internal cell and wall representation.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:13.24799989-08:00","updated_at":"2026-01-03T19:08:39.679638228-08:00","closed_at":"2025-12-24T14:48:23.53442324-08:00"}
{"id":"voidlock-azr","title":"Engine: Refactor Accuracy for Weapon System","description":"Update the hit chance formula to separate Soldier Aim from Weapon Modifiers/Range. Requires Weapon/Item system implementation first.\\n\\nRevised Formula: HitChance = ((SoldierAim + WeaponMod) / 100) * (WeaponEffectiveRange / Distance)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T11:27:09.015414271-08:00","updated_at":"2026-01-03T19:08:39.519265996-08:00","closed_at":"2025-12-30T19:21:32.640395018-08:00","labels":["combat","engine","refactor"],"dependencies":[{"issue_id":"voidlock-azr","depends_on_id":"voidlock-44k","type":"blocks","created_at":"2025-12-27T11:30:57.674062616-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-azr","depends_on_id":"voidlock-bel","type":"blocks","created_at":"2025-12-27T11:30:57.700736698-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-b28r","title":"Refactor Tests for MapGenerator","description":"Update all unit tests to match the new MapGenerator API.\nRequirements:\n1. Locate all `new MapGenerator(seed)` calls.\n2. Replace them with `new MapGenerator({ seed, width: W, height: H, type: ... })`.\n3. Locate `generate(...)` calls and remove the arguments.\nReference `docs/adr/0013-unified-map-generation-config.md`.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-04T21:11:13.063397988-08:00","created_by":"rkj","updated_at":"2026-01-06T20:46:13.02164751-08:00","closed_at":"2026-01-06T20:46:13.02164751-08:00","close_reason":"Updated all unit tests to use the new MapGenerator configuration object API.","dependencies":[{"issue_id":"voidlock-b28r","depends_on_id":"voidlock-hkio","type":"blocks","created_at":"2026-01-04T21:11:34.928044675-08:00","created_by":"rkj"}]}
{"id":"voidlock-b4m","title":"Refactor: Extract Unit AI","description":"Extract UnitAI (Autonomous behaviors: Stand Ground, Rush, Retreat, Exploration) from UnitManager.\\n\\n**ADR:** docs/adr/0010-unit-system-architecture.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:54:38.607160847-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.931606286-08:00","closed_at":"2026-01-03T17:18:35.69055323-08:00","close_reason":"Extracted UnitAI from UnitManager as per ADR-0010. Verified with successful build and passing test suite. Version bumped to 0.51.7.","dependencies":[{"issue_id":"voidlock-b4m","depends_on_id":"voidlock-npn","type":"blocks","created_at":"2026-01-03T10:55:09.502564918-08:00","created_by":"rkj"}]}
{"id":"voidlock-b55","title":"AI: Soldier Task Coordination","description":"Update soldier AI to prevent multiple units from attempting the same task (e.g., picking up the same item). One unit should perform the task while others continue with different objectives.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T13:34:13.68646161-08:00","updated_at":"2026-01-03T19:08:39.542584433-08:00","closed_at":"2025-12-27T08:03:58.793238376-08:00","labels":["ai","bug"]}
{"id":"voidlock-baq7","title":"Shared: Campaign Types Update","description":"Update 'CampaignDifficulty' enum (Simulation, Clone, Standard, Ironman) and add 'allowTacticalPause' to 'GameRules' in 'src/shared/campaign_types.ts'. See 'spec/campaign.md#23-difficulty-levels'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T10:30:55.054060449-08:00","created_by":"rkj","updated_at":"2026-01-04T15:48:31.926090891-08:00","closed_at":"2026-01-04T15:48:31.926090891-08:00","close_reason":"Implemented CampaignDifficulty and updated GameRules with tests."}
{"id":"voidlock-bbk","title":"Implement LineOfFire Check","description":"Implement 'LineOfSight.hasLineOfFire()' to enforce strict 'Open' state for doors, preventing shooting through opening doors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:00:31.283766298-08:00","updated_at":"2026-01-03T19:08:39.915904962-08:00","closed_at":"2025-12-30T18:59:56.495315638-08:00","dependencies":[{"issue_id":"voidlock-bbk","depends_on_id":"voidlock-lcv","type":"parent-child","created_at":"2025-12-29T18:00:31.284991544-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-bel","title":"System: Item \u0026 Equipment System","description":"Add equippable items including Frag Grenades, Medkits, Mines, Combat Shoes, and various Armor types (HP buff vs Speed/Accuracy debuff).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-26T13:11:16.667186944-08:00","updated_at":"2026-01-03T19:08:39.515067977-08:00","closed_at":"2025-12-29T17:20:06.073750206-08:00","labels":["feature"]}
{"id":"voidlock-bfei","title":"Fix Squad Config UI Layout","description":"Fix Squad Config UI Layout (Buttons Cut Off).\n\nThe \"Back\" and \"Confirm Squad\" buttons are partially cut off at the bottom of the screen.\n\n1.  **CSS Fix**: Modify `src/renderer/screens/EquipmentScreen.ts` (or `main.css`).\n    - Currently using `flex-row p-20 gap-20 relative`.\n    - Change container to `flex-col` so the footer sits naturally below the content, OR:\n    - Keep `relative` but ensure the footer is `sticky` or `fixed` with proper padding, OR simply ensure the main content area scrolls (`overflow-y: auto`) while the container fits the viewport.\n    - **Preferred Approach**:\n      - `container`: `display: flex; flex-direction: column; height: 100%; overflow: hidden;`\n      - `content-wrapper` (new div wrapping panels): `flex: 1; display: flex; flex-direction: row; overflow: hidden;`\n      - Individual Panels: `overflow-y: auto;`\n      - `footer`: `flex-shrink: 0; padding: 20px;` (No absolute positioning if possible, or fixed at bottom).\n\n2.  **Implementation**:\n    - Update `EquipmentScreen.render()`:\n      - Wrap the 3 panels in a new `div` with `flex: 1; min-height: 0; display: flex; gap: 20px;`.\n      - Set `overflow-y: auto` on the individual panels (Left, Center, Right) so they scroll independently if content is too long.\n      - Ensure the Footer is a direct child of the main container (at the bottom), ensuring it is always visible.\n\n3.  **Verify**:\n    - Check on various window sizes.\n    - Confirm buttons are fully visible and clickable.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T19:19:17.936331767-08:00","created_by":"rkj","updated_at":"2026-01-06T19:15:04.238467752-08:00","closed_at":"2026-01-06T19:15:04.238467752-08:00","close_reason":"Refactored EquipmentScreen to use flex-col layout with scrolling content wrapper. Verified buttons are always visible."}
{"id":"voidlock-bfj","title":"Modify the move line","description":"Instead of the dotted line going from the soldier to the next field, make it longer, showing his ultimate destination (where is he navigating to) in a nice long line that kind of gets dimmer the further it is from the soldier","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:52:15.037279139-08:00","updated_at":"2026-01-03T19:08:39.618340291-08:00","closed_at":"2025-12-28T16:01:38.242527415-08:00"}
{"id":"voidlock-bko","title":"Fix Stop Button (Again)","description":"The Stop button on soldier cards still does nothing. Verify event binding and command propagation to the worker engine.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T19:10:05.049725188-08:00","updated_at":"2026-01-03T19:08:39.522214704-08:00","closed_at":"2025-12-23T19:32:51.721244754-08:00"}
{"id":"voidlock-blf","title":"Run full test suite and verify global coverage \u003e80%","description":"Execute final test run to confirm coverage goals.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:32.328123326-08:00","updated_at":"2026-01-03T19:08:39.889204623-08:00","closed_at":"2025-12-21T10:20:32.523193974-08:00","dependencies":[{"issue_id":"voidlock-blf","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:32.329075609-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-blj","title":"Types: Add artifact_heavy to ItemLibrary in shared/types.ts with negative stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:43:46.169849613-08:00","updated_at":"2026-01-03T19:08:39.707936924-08:00","closed_at":"2026-01-01T18:12:08.111670892-08:00"}
{"id":"voidlock-blq3","title":"Refactor: Layered Renderer (ADR 0018)","description":"Implements docs/adr/0018-layered-renderer-architecture.md. Refactor Renderer.ts into a compositor with specialized MapLayer, UnitLayer, and EffectLayer classes.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-11T20:02:40.751344724-08:00","created_by":"rkj","updated_at":"2026-01-11T20:27:54.318233927-08:00","closed_at":"2026-01-11T20:27:54.318233927-08:00","close_reason":"Implemented via sub-agent and verified.","dependencies":[{"issue_id":"voidlock-blq3","depends_on_id":"voidlock-5lxb","type":"blocks","created_at":"2026-01-11T20:03:11.530356672-08:00","created_by":"rkj"}]}
{"id":"voidlock-bnj","title":"Create ADR: Mission Replay \u0026 Debrief","description":"Detail how the engine will support 'background replay' without UI interaction while a Debrief overlay is active. Define engine modes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T08:01:36.544000727-08:00","updated_at":"2026-01-03T19:08:39.517346754-08:00","closed_at":"2025-12-31T14:21:01.774764862-08:00","dependencies":[{"issue_id":"voidlock-bnj","depends_on_id":"voidlock-6hv","type":"parent-child","created_at":"2025-12-31T08:01:36.544812165-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-bo0","title":"Refactor: Extract Command Executor","description":"Extract CommandExecutor (executeCommand switch) from UnitManager.\\n\\n**ADR:** docs/adr/0010-unit-system-architecture.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:54:43.653282101-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.451495069-08:00","closed_at":"2026-01-03T18:01:12.076211106-08:00","close_reason":"Extracted CommandExecutor from UnitManager as per ADR-0010. Verified with successful build and passing test suite. Version restored to 0.52.3.","dependencies":[{"issue_id":"voidlock-bo0","depends_on_id":"voidlock-npn","type":"blocks","created_at":"2026-01-03T10:55:14.546583311-08:00","created_by":"rkj"}]}
{"id":"voidlock-bq4","title":"Refactor Soldier Bar: Remove Redundant Energy Bar","description":"The green bar in the soldier card is a redundant energy/stamina indicator. Remove it or ensure it correctly reflects a useful stat and drops to zero on death.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T19:10:05.0868036-08:00","updated_at":"2026-01-03T19:08:39.718425318-08:00","closed_at":"2025-12-24T09:24:12.427737055-08:00"}
{"id":"voidlock-bqj","title":"Mechanics: Implement Artifact Drop on Death and Pickup Action","description":"Implement Artifact Drop on Death and Pickup Action.\\n\\n**Spec:** spec/simulation.md#world-interaction-loot--drops\\n\\n**Requirements:**\\n- Drop 'Physical Item' when carrier dies.\\n- Implement PICKUP command (channeling).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:46:26.023033607-08:00","updated_at":"2026-01-03T19:08:39.704901624-08:00","closed_at":"2026-01-01T18:32:11.140839512-08:00"}
{"id":"voidlock-brz","title":"Implement Spaceship Layout Generator","description":"Create a procedural generation algorithm for spaceship interiors (corridors + rooms with doors) as the default map type. Make dimensions configurable.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T15:07:12.69429351-08:00","updated_at":"2026-01-03T19:08:39.630809332-08:00","closed_at":"2025-12-14T15:09:06.116091582-08:00","labels":["complexity:hard"]}
{"id":"voidlock-bueq","title":"Epic: Make Tactical Icons Default","description":"Container epic for changing the default unit style from Sprites to Tactical Icons across the system.","status":"closed","priority":2,"issue_type":"epic","owner":"rkj@google.com","created_at":"2026-01-17T20:48:35.939223439-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T17:46:58.972783294-08:00","closed_at":"2026-01-18T17:46:58.972783294-08:00","close_reason":"All sub-tasks completed and verified. Tactical Icons is now the default unit style across the system (ConfigManager, SharedRendererState, CampaignScreen setup UI, and tests).","dependencies":[{"issue_id":"voidlock-bueq","depends_on_id":"voidlock-fa00","type":"blocks","created_at":"2026-01-17T20:48:46.265057975-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-bueq","depends_on_id":"voidlock-cqcy","type":"blocks","created_at":"2026-01-17T20:48:51.31946019-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-bueq","depends_on_id":"voidlock-2lg6","type":"blocks","created_at":"2026-01-17T20:48:56.382047744-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-bueq","depends_on_id":"voidlock-p1xl","type":"blocks","created_at":"2026-01-17T20:49:01.456088958-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-buz","title":"Implement Standalone Map Viewer App","description":"Develop a separate web application to load and display MapDefinition JSON, with features for rendering cells, walls, doors, spawn points, extraction, and objectives, and the ability to download as PNG/SVG, as detailed in spec.md section 15.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T15:27:44.912456583-08:00","updated_at":"2026-01-03T19:08:39.661224367-08:00","closed_at":"2025-12-16T20:50:26.800559571-08:00"}
{"id":"voidlock-bvx","title":"Fix Spawn Counter (Again)","description":"Spawn counter configuration is still not working. Setting it to 1 results in 3 spawns. Investigate override in MapGenerators or CoreEngine initialization.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T19:10:05.036907014-08:00","updated_at":"2026-01-03T19:08:39.842384696-08:00","closed_at":"2025-12-23T19:29:30.018102337-08:00"}
{"id":"voidlock-bxr","title":"Implement FOW-Hidden Objectives","description":"Objectives should be hidden by default (depending on mission type) and only revealed when a soldier gains Line of Sight to them.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-22T20:07:12.823875285-08:00","updated_at":"2026-01-03T19:08:39.693425646-08:00","closed_at":"2025-12-22T20:19:56.491877023-08:00"}
{"id":"voidlock-c0y","title":"Implement 4 Alien Types","description":"Implement 3 melee tiers (Easy, Medium, Hard) with cheeky names, plus 1 Ranged Spitter that kites players. Ensure AI handles ranged behavior.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T19:00:20.951429307-08:00","updated_at":"2026-01-03T19:08:39.571938875-08:00","closed_at":"2025-12-22T18:16:52.815448366-08:00"}
{"id":"voidlock-c29g","title":"task","description":"Create tests/engine/mapgen/PlacementValidator_Loot.test.ts that fails if a map contains Loot Containers in corridors. Use the provided golden file tests/data/goldens/2026-01-13-7x7_item_in_corridor.json as a test case for the validator.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:20:46.507703451-08:00","created_by":"rkj","updated_at":"2026-01-13T21:27:45.167299795-08:00","closed_at":"2026-01-13T21:27:45.167299795-08:00","close_reason":"Reproduction test created and verified (now passing with fix).","comments":[{"id":1,"issue_id":"voidlock-c29g","author":"rkj","text":"Reproduction test created. Fails as expected (Validator incorrectly returns true for map with loot in corridor).","created_at":"2026-01-14T05:14:49Z"}]}
{"id":"voidlock-c95","title":"Implement Space Hulk Tile Definitions Library","description":"Develop a library of tile definitions for Space Hulk maps, including occupied floor cells and door sockets, as an intermediate 'tile assembly' format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:20.261432819-08:00","updated_at":"2026-01-03T19:08:39.655313721-08:00","closed_at":"2025-12-14T18:46:43.906305304-08:00","labels":["complexity:easy"]}
{"id":"voidlock-cbdu","title":"Test: E2E Campaign Failure Modes","description":"Create `tests/renderer/integration/E2E_CampaignLoss.test.ts`. 1) **Ironman**: Start Ironman -\u003e Force Lose -\u003e Verify Save Deleted/Game Over. 2) **Standard**: Start Standard -\u003e Kill Soldier (via engine manipulation or Force Lose with casualties) -\u003e Verify Soldier is DEAD in Roster -\u003e Verify Soldier is NOT in next mission setup.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T22:07:13.029874922-08:00","created_by":"rkj","updated_at":"2026-01-17T16:25:07.774812206-08:00","closed_at":"2026-01-17T16:25:07.774812206-08:00","close_reason":"Implemented via sub-agent and verified. Added E2E_CampaignLoss.test.ts verifying Ironman failure and Standard casualties."}
{"id":"voidlock-cdgf","title":"Integrate Manually Cropped Assets","description":"Update Renderer and ThemeManager to use the assets from `public/assets/` (which will be manually cropped by the user) for Units and Enemies.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T20:41:32.736105726-08:00","created_by":"rkj","updated_at":"2026-01-06T19:10:49.234373475-08:00","closed_at":"2026-01-06T19:10:49.234373475-08:00","close_reason":"Completed all sub-tasks: Asset manifest loading and Sprite rendering implemented."}
{"id":"voidlock-cdgf.1","title":"Load Asset Manifest in ThemeManager","description":"See `src/renderer/ThemeManager.ts`.\n\n**Goal**: Load `assets.json` and provide lookup.\n\n**Logic**:\n1. Add `assets: Record\u003cstring, string\u003e = {}` to `ThemeManager`.\n2. In `constructor` (or an `init` method called by `main.ts` if async is needed), fetch `/assets/assets.json` and store it.\n3. Add `getAssetUrl(logicalName: string): string | null`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:43:03.164011469-08:00","created_by":"rkj","updated_at":"2026-01-06T19:06:26.128545429-08:00","closed_at":"2026-01-06T19:06:26.128545429-08:00","close_reason":"Implemented Asset Manifest Loading in ThemeManager. Verified with tests.","dependencies":[{"issue_id":"voidlock-cdgf.1","depends_on_id":"voidlock-cdgf","type":"parent-child","created_at":"2026-01-04T20:43:03.178189989-08:00","created_by":"rkj"}]}
{"id":"voidlock-cdgf.2","title":"Update Renderer to Draw Sprites","description":"See `src/renderer/Renderer.ts`.\n\n**Goal**: Render units/enemies using loaded assets.\n\n**Logic**:\n1. In `Renderer`, load all assets defined in `ThemeManager` (or lazy load as needed).\n2. Create a mapping in `Renderer` (or `ThemeManager`) from `ArchetypeId` / `EnemyType` to asset logical names:\n   - `assault` -\u003e `soldier_demolition`\n   - `heavy` -\u003e `soldier_heavy`\n   - `medic` -\u003e `soldier_medic`\n   - `scout` -\u003e `soldier_scout`\n   - `vip` -\u003e `soldier_scout` (fallback)\n   - `Xeno-Mite` -\u003e `xeno_swarmer_1`\n   - `Warrior-Drone` -\u003e `xeno_drone_2`\n   - `Praetorian-Guard` -\u003e `xeno_guard_3`\n   - `Spitter-Acid` -\u003e `xeno_spitter`\n   - `Hive` -\u003e `void` (or keep custom draw?)\n3. In `renderUnits` and `renderEnemies`, check if an asset exists for the entity.\n4. If yes, use `ctx.drawImage`. Assume images are tokens (top-down).\n   - If user crops them to 128x128 token size, draw them centered on the cell.\n   - Handle scale: Unit diameter is approx `cellSize / 3` (soldiers) or `cellSize / 2` (enemies). Draw sprite to fit this size? Or slightly larger to show detail?\n   - **Decision**: Draw sprites slightly larger than the collision circle to look good (e.g. 0.8 * cellSize) but centered.\n5. If no asset, fallback to existing geometric shapes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:43:08.240483764-08:00","created_by":"rkj","updated_at":"2026-01-06T19:10:44.12492709-08:00","closed_at":"2026-01-06T19:10:44.12492709-08:00","close_reason":"Implemented sprite rendering in Renderer.ts for Units and Enemies using assets.json. Includes resizing, centering, and robust fallbacks to geometric shapes. Verified with tests.","dependencies":[{"issue_id":"voidlock-cdgf.2","depends_on_id":"voidlock-cdgf","type":"parent-child","created_at":"2026-01-04T20:43:08.255965931-08:00","created_by":"rkj"},{"issue_id":"voidlock-cdgf.2","depends_on_id":"voidlock-cdgf.1","type":"blocks","created_at":"2026-01-04T20:43:23.856514979-08:00","created_by":"rkj"}]}
{"id":"voidlock-cj4","title":"Memory leaks / performance issues","description":"Currently if you run few missions / leave the browser tab open for a long time it becomes terribly slow / unresponsive. It crashed the browser tab after leaving for an hour or two (and computer went through sleep - \"Out of memory\" - \"Either Opera run out of memory or the process for the webpage was terminated for some other reason\"). Check if there are any memory leaks, or handlers not cleaned up between missions, or some timers that keep going.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T12:11:28.910832986-08:00","updated_at":"2026-01-03T19:08:39.41818649-08:00","closed_at":"2025-12-28T12:52:53.679658434-08:00"}
{"id":"voidlock-cny","title":"Re-investigate and Fix LOS Blocking for Walls and Doors","description":"Re-examine src/engine/LineOfSight.ts and GameGrid.canMove logic to debug and fix the issue where soldiers can shoot through walls and/or closed/locked doors, ensuring LOS is correctly blocked as per spec.md.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T14:45:51.94414732-08:00","updated_at":"2026-01-03T19:08:39.475212403-08:00","closed_at":"2025-12-14T11:19:28.661591947-08:00"}
{"id":"voidlock-cq8","title":"In game timer is not correct","description":"I took a stopwatch and it's off by almost 2x on 1x game speed (10s passed in real time, the timer in game shows just above 5s). With changing speed it makes sense it won't be perfect, but for 1x it should be really close","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:26:27.319278437-08:00","updated_at":"2026-01-03T19:08:39.798130777-08:00","closed_at":"2025-12-28T14:03:52.160912012-08:00"}
{"id":"voidlock-cqcy","title":"Change default unit style in SharedRendererState","description":"Implements spec/ui.md#8.6. Updates SharedRendererState.ts to initialize unitStyle with UnitStyle.TacticalIcons.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:44:47.765044838-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T17:38:40.645337837-08:00","closed_at":"2026-01-18T17:38:40.645337837-08:00","close_reason":"Already implemented as part of voidlock-fa00. SharedRendererState.ts now initializes unitStyle with UnitStyle.TacticalIcons."}
{"id":"voidlock-cqf0","title":"Implement Narrative Event System","description":"Implements `spec/campaign.md#3.1`\n\n**Data:**\nCreate `src/content/CampaignEvents.ts`.\n- Export a list of `CampaignEventDefinition`:\n  - `id`, `title`, `text`.\n  - `choices`: Array of { `label`, `cost?`, `reward?`, `risk?` }.\n\n**Examples:**\n1. **Derelict Ship:** 'Search' (50% Scrap / 20% Damage to random soldier), 'Leave' (Nothing).\n2. **Distress Signal:** 'Rescue' (Recruit new soldier for free / 30% Ambush -\u003e Combat), 'Ignore'.\n3. **Black Market:** 'Buy Intel' (-50 Scrap, +10 Intel), 'Leave'.\n\n**Logic:**\n- In `CampaignScreen`, when Event node is clicked, pick a random event.\n- Render modal.\n- Apply result.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:17:45.311034778-08:00","created_by":"rkj","updated_at":"2026-01-11T21:17:08.155905599-08:00","closed_at":"2026-01-11T21:17:08.155905599-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-cr9","title":"Bug: Soldiers ignore visible items during exploration","description":"Soldiers should prioritize picking up items (e.g., objectives, loot) as soon as they are visible, instead of continuing autonomous exploration. Currently, they ignore items and keep exploring.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-30T21:25:55.335263753-08:00","updated_at":"2026-01-03T19:08:39.414559197-08:00","closed_at":"2025-12-31T14:13:20.602014746-08:00"}
{"id":"voidlock-ct5","title":"FR: Display soldier stats in top panel","description":"Add 'ACC' (Accuracy) to the soldier stats panel in the HUD. The backend support (accuracy stat) is already implemented. (Speed refactor and Accuracy stat creation are already done).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T06:43:59.333279124-08:00","updated_at":"2026-01-03T19:08:39.614993239-08:00","closed_at":"2025-12-27T11:14:48.505129841-08:00"}
{"id":"voidlock-cuh","title":"Fix menu visibility after mission restart","description":"Actions are not visible when starting a new mission after finishing one and returning to the menu. Likely a state reset issue in MenuController.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T09:27:02.069081679-08:00","updated_at":"2026-01-03T19:08:39.54631183-08:00","closed_at":"2025-12-26T09:47:42.892205402-08:00"}
{"id":"voidlock-cve","title":"AI: Coordinated Exploration \u0026 Shared FOV","description":"Refine autonomous exploration to ensure soldiers coordinate targets and leverage shared discovery more effectively, preventing individual redundant exploration.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T10:21:48.147984671-08:00","updated_at":"2026-01-03T19:08:39.664036221-08:00","closed_at":"2025-12-26T12:49:39.798717492-08:00"}
{"id":"voidlock-cwi","title":"Add Map Size Options to Mission Setup","description":"Add UI controls to the Mission Setup screen to allow users to specify the width and height of the generated map. These controls should update the 'currentMapWidth' and 'currentMapHeight' configuration variables.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T19:52:40.78111533-08:00","updated_at":"2026-01-03T19:08:39.778431758-08:00","closed_at":"2025-12-17T20:59:48.60643095-08:00"}
{"id":"voidlock-cwp","title":"Epic: Entity Placement Exclusivity","description":"Enforce strict placement rules: Squad Spawn, Enemy Spawn, Extraction, and Objectives must never occupy the same cell.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T18:00:11.704152825-08:00","updated_at":"2026-01-03T19:08:39.817692799-08:00","closed_at":"2025-12-29T20:08:17.333668591-08:00"}
{"id":"voidlock-cxkb","title":"UI: Top Bar Cleanup","description":"See spec/ui.md#8.4. Update the Top Bar in src/renderer/ui/HUDManager.ts. Remove the text-based Seed, Version, and Status. Keep only Time, Threat Meter (Visual), Speed Controls, and Give Up button.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:57:43.8631725-08:00","created_by":"rkj","updated_at":"2026-01-04T21:45:07.30310989-08:00","closed_at":"2026-01-04T21:45:07.30310989-08:00","close_reason":"Implemented via sub-agent and verified. Top bar cleaned up, pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-d03","title":"Chore: Add GEMINI.md files to all src/ folders","description":"Add GEMINI.md files to all subdirectories in src/ describing files, functionality, and connections to reduce codebase scanning. Update AGENTS.md and MANAGER.md to require GEMINI.md updates on file/API changes.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T13:28:51.13775692-08:00","updated_at":"2026-01-03T19:08:39.716637617-08:00","closed_at":"2025-12-26T13:43:34.485798348-08:00","labels":["documentation"]}
{"id":"voidlock-d2ah","title":"Script: Asset Processor","description":"Create/Update 'scripts/process_assets.ts' to:\\n1. Read PNGs from 'NanoBanana Assets/'.\\n2. Trim transparency/Crop to content.\\n3. Resize to standard dimensions (e.g., 128x128 for Units).\\n4. Convert to WebP (confirming intent vs WebM).\\n5. Output to 'public/assets/'.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-04T11:42:44.212242939-08:00","created_by":"rkj","updated_at":"2026-01-04T16:56:05.603372036-08:00","closed_at":"2026-01-04T16:56:05.603372036-08:00","close_reason":"Implemented asset processor with optional sharp support and tests."}
{"id":"voidlock-d2s","title":"Implement Enemy Entities and Archetypes","description":"Define Enemy structure and basic archetypes for the engine","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.420077099-08:00","updated_at":"2026-01-03T19:08:39.555897617-08:00","closed_at":"2025-12-13T10:46:53.668196436-08:00","dependencies":[{"issue_id":"voidlock-d2s","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.420608465-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-d2w","title":"UI: Speed Slider Visuals","description":"Update the speed slider HTML range (0-100 or similar abstract range) and labels to support the new Logarithmic scale 0.1x - 10.0x.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:17:02.14537518-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.495440072-08:00","closed_at":"2026-01-03T17:44:23.022114481-08:00","close_reason":"Updated speed slider visuals and synchronized logic across all UI elements. Logarithmic scale (0.1x - 10.0x) verified with existing tests and browser validation. Version bumped to 0.52.1.","dependencies":[{"issue_id":"voidlock-d2w","depends_on_id":"voidlock-nxy","type":"blocks","created_at":"2026-01-03T17:17:38.155538521-08:00","created_by":"rkj"},{"issue_id":"voidlock-d2w","depends_on_id":"voidlock-3s1","type":"blocks","created_at":"2026-01-03T17:33:29.337460063-08:00","created_by":"rkj"}]}
{"id":"voidlock-d7f","title":"Create ADR: Campaign System Architecture","description":"Document the relationships between CampaignManager, GameClient, ScreenManager, and storage. Define the JSON schema for CampaignState and GameRules.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T07:55:05.19858813-08:00","updated_at":"2026-01-03T19:08:39.518028632-08:00","closed_at":"2025-12-31T14:15:33.092889684-08:00","dependencies":[{"issue_id":"voidlock-d7f","depends_on_id":"voidlock-6hv","type":"parent-child","created_at":"2025-12-31T07:55:05.199457565-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-d7hx","title":"Draft ADR 0025: Geometric LOS and LOF Precision","description":"Implements spec/ui.md#8.13. Defines the technical strategy for sub-cell boundary collision (door struts) and multi-ray sampling for unit physical radius. Ref: src/engine/LineOfSight.ts, src/renderer/visuals/MapLayer.ts.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T21:06:10.512777926-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T20:03:18.23773205-08:00","closed_at":"2026-01-18T20:03:18.23773205-08:00","close_reason":"Drafted ADR 0026 defining the technical strategy for geometric LOS and LOF precision. Updated Related ADRs in engine and renderer documentation. Verified with full test pass and build."}
{"id":"voidlock-d87","title":"Implement Toggles for Game Options in Config screen","description":"Add UI toggles to the Config screen for controlling game options such as fog-of-war, debug overlay, and agent control (on/off).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:10.098077117-08:00","updated_at":"2026-01-03T19:08:39.812042431-08:00","closed_at":"2025-12-14T18:45:53.625930872-08:00","labels":["complexity:easy"]}
{"id":"voidlock-dagt","title":"UI: Display Global Stats in Main Menu","description":"Implements spec/ui.md#main-menu. 1) Update src/index.html to add a #global-stats-tally container in the Main Menu (e.g., bottom-right corner). 2) Update src/renderer/app/GameApp.ts (or main.ts) to fetch MetaManager.getStats() and display 'Total Kills: X | Campaigns Won: Y' on startup/return to menu.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2026-01-17T16:53:21.401730011-08:00","created_by":"rkj","updated_at":"2026-01-17T17:12:52.872812892-08:00","deleted_at":"2026-01-17T17:12:52.872812892-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"voidlock-dc8","title":"Bug: Enemies jittering/not exploring properly","description":"Enemies are observed moving back and forth in their squares instead of exploring the map. Suspect SwarmMeleeAI roaming logic (random neighbor) is too local, causing jitter. Need to implement a better wandering heuristic (e.g., pick a random distant cell).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T13:55:00.457673162-08:00","updated_at":"2026-01-03T19:08:39.86269624-08:00","closed_at":"2025-12-21T16:43:38.889781394-08:00"}
{"id":"voidlock-dcd","title":"Add Test: No Nested Rooms","description":"Add a specific test case to verify that no 2x2 room contains internal walls or doors (no 'nested' rooms). This applies to both TreeShipGenerator and DenseShipGenerator.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T20:54:11.169981389-08:00","updated_at":"2026-01-03T19:08:39.621244163-08:00","closed_at":"2025-12-19T18:22:36.770381748-08:00"}
{"id":"voidlock-df3","title":"Mission Logic: Update MissionManager.ts to handle RecoverIntel setup and new checkWinLoss logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:40:12.282476255-08:00","updated_at":"2026-01-03T19:08:39.424664528-08:00","closed_at":"2026-01-01T17:57:30.382289753-08:00"}
{"id":"voidlock-dfx","title":"Define Boundary and GraphCell types","description":"Implement 'Boundary' class (Wall/Door state) and 'Cell' class with 'edges' map in src/engine/Graph.ts.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:13.218096057-08:00","updated_at":"2026-01-03T19:08:39.677614891-08:00","closed_at":"2025-12-24T14:43:52.382975516-08:00"}
{"id":"voidlock-dj6","title":"Bug: Game Over Summary not cleared on mission restart","description":"The Game Over Summary panel persists when returning to the menu and starting a new mission. It should be explicitly cleared when a mission is launched.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T20:19:37.947956352-08:00","updated_at":"2026-01-03T19:08:39.896298191-08:00","closed_at":"2025-12-23T20:26:20.273333984-08:00","dependencies":[{"issue_id":"voidlock-dj6","depends_on_id":"voidlock-yup","type":"discovered-from","created_at":"2025-12-23T20:19:37.9487287-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-djy","title":"Implement Game Over Summary","description":"On Win/Loss, show a summary panel/popup with: Result, Time Played, Aliens Killed, Casualties. Include a 'Back to Menu' button.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-23T18:46:08.402703708-08:00","updated_at":"2026-01-03T19:08:39.560077635-08:00","closed_at":"2025-12-23T18:58:07.903071456-08:00"}
{"id":"voidlock-dka","title":"Refactor DenseShipGenerator: Entity Placement Rules","description":"Ensure Extraction point is different from Spawn point. Ensure Spawn, Extraction, and Enemy Spawners are ONLY placed in Rooms, never in Corridors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T21:00:28.162819228-08:00","updated_at":"2026-01-03T19:08:39.565897535-08:00","closed_at":"2025-12-22T21:06:16.335602623-08:00"}
{"id":"voidlock-dky","title":"UI: Expose Unit Stats","description":"Display movement speed, fire rate, melee damage, and accuracy for both soldiers and enemies in the UI.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-26T13:11:16.630155929-08:00","updated_at":"2026-01-03T19:08:39.40402771-08:00","closed_at":"2025-12-28T16:28:29.861919357-08:00","labels":["feature"]}
{"id":"voidlock-dlw","title":"Remove sightRange from codebase","description":"\nRefactor the codebase to remove 'sightRange' stat.\n\n1.  **Refactor (Types)**: Remove 'sightRange' from 'UnitStats' interface in 'src/shared/types.ts'.\n2.  **Refactor (Engine)**: Update 'LineOfSight.ts' to use 'Math.max(width, height)' or 'Infinity'.\n3.  **Refactor (UI)**: Remove references to 'sightRange' in HUD and Renderer.\n4.  **Cleanup**: Update all tests to remove usage of 'sightRange'.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-31T21:21:14.138253229-08:00","updated_at":"2026-01-03T19:08:39.67485118-08:00","closed_at":"2026-01-01T16:23:39.253251381-08:00"}
{"id":"voidlock-dov","title":"UI: Equipment Shop Stats \u0026 Descriptions","description":"Enhance the Armory panel to show item stats and descriptions.\\n\\n1. Update Item List: Display compact stats (DMG, RNG, FR) for weapons.\\n2. Add Tooltips: Show full description/stats on hover.\\n3. Content Update: Ensure global items (Scanner, Medkit) have valid descriptions in the content definitions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T14:39:37.625374852-08:00","updated_at":"2026-01-03T19:08:39.464411288-08:00","closed_at":"2026-01-01T17:04:59.556795241-08:00"}
{"id":"voidlock-dp5x","title":"Implement Quick Revive in Mission Setup","description":"Implements spec/ui.md#8.1. Adds a 'Revive' button to dead soldier cards in the GameApp roster list if clone rules apply.","status":"closed","priority":2,"issue_type":"feature","owner":"rkj@google.com","created_at":"2026-01-17T20:53:26.100594914-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:35:20.017143069-08:00","closed_at":"2026-01-18T19:35:20.017143069-08:00","close_reason":"Implemented Quick Revive and Quick Recruit buttons in the Mission Setup roster. Improved robustness of integration tests by targeting combat nodes specifically. Verified with full test pass and build.","comments":[{"id":15,"issue_id":"voidlock-dp5x","author":"Roman Kamyk","text":"Verification failed. FullCampaignFlow.test.ts is failing at line 244.\nReason: querySelector('.campaign-node.accessible') might be picking an 'Event' or 'Shop' node, which does not transition to 'mission-setup'.\nPlease update FullCampaignFlow.test.ts to specifically find a combat-capable node (Combat, Elite, or Boss) for its mission steps, similar to the fix applied in E2E_CampaignLoss.test.ts.\nAlso, I have removed the duplicate QuickRevive.test.ts for you.","created_at":"2026-01-19T03:28:59Z"}]}
{"id":"voidlock-dq2","title":"FR: Add 'Give Up' / Quit Mission option","description":"Add a UI option (likely top-right) to quit the current mission and return to the main menu/map.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-27T06:43:59.357487099-08:00","updated_at":"2026-01-03T19:08:39.836081744-08:00","closed_at":"2025-12-28T13:59:49.645028809-08:00"}
{"id":"voidlock-dqz","title":"Debug Tools: Overlay \u0026 State Export","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:02:40.156845924-08:00","updated_at":"2026-01-03T19:08:39.720546543-08:00","closed_at":"2026-01-02T17:51:22.612059304-08:00","close_reason":"Implemented debug overlay, LOS toggle, and world state export. Verified with tests. Version bumped to 0.43.7."}
{"id":"voidlock-dr8","title":"Fix Invalid Door Placements","description":"Prevent doors from being placed in the middle of rooms (freestanding) or in invalid locations where they can be walked around. Doors should only exist at actual chokepoints/entrances.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T13:41:06.132467648-08:00","updated_at":"2026-01-03T19:08:39.467400506-08:00","closed_at":"2025-12-18T13:48:41.599049461-08:00"}
{"id":"voidlock-dsf6","title":"Configure Boss Mission Objectives","description":"Implements `spec/campaign.md#3.1`\n\n**Logic:**\n1. Modify `src/engine/managers/MissionManager.ts` (or wherever missions are hydrated).\n2. If `node.type === 'Boss'`:\n   - Force **3 Objectives**.\n   - These should ideally be a mix (e.g. 1x Destroy Hive, 2x Recover).\n   - Set Reward to 3x Base.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:11:19.605823106-08:00","created_by":"rkj","updated_at":"2026-01-11T20:44:58.760673319-08:00","closed_at":"2026-01-11T20:44:58.760673319-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-du1","title":"Bug: Accuracy Stats Reset to Near-Zero on Weapon Swap","description":"Regression from 'Percentage Model' refactor.\nIssue: When a unit swaps weapons (or initializes active weapon), 'UnitManager' overwrites 'unit.accuracy' with 'weapon.accuracy'.\nSince 'WeaponLibrary' still contains old 'degree-based' values (e.g., 5, 10) instead of percentage modifiers, units drop to 5-10% hit chance.\nAlso, Equipment bonuses (Armor/Items) are lost during this overwrite.\n\nRequirements:\n1. Update 'WeaponLibrary' in 'src/shared/types.ts': values should be percentage modifiers (e.g., 0, +5, -5) relative to base aim.\n2. Refactor 'UnitManager.updateActiveWeapon':\n   - Do NOT overwrite 'unit.accuracy'.\n   - Formula: 'unit.accuracy = unit.soldierAim + weapon.accuracy + unit.equipmentAccuracyBonus'.\n3. Update 'Unit' type (or initialization) to track 'equipmentAccuracyBonus' separately so it persists.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T20:39:40.917860996-08:00","updated_at":"2026-01-03T19:08:39.850153151-08:00","closed_at":"2025-12-29T20:49:59.166878095-08:00"}
{"id":"voidlock-dup","title":"Timed Actions (Extraction/Collection)","description":"Implement a 5-second delay (at 1x speed) for actions like extraction and picking up artifacts. Units should be locked in place and unable to perform other actions while completing these tasks. A progress bar or indicator should be shown.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-25T20:16:52.622509071-08:00","updated_at":"2026-01-03T19:08:39.40951913-08:00","closed_at":"2025-12-26T06:53:58.710428532-08:00"}
{"id":"voidlock-dv5","title":"Use nice icons for exit/entry/spawn points","description":"Replace text labels or simple shapes with high-quality icons for exit points, entry points, and spawn locations in the renderer.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T18:25:31.557904969-08:00","updated_at":"2026-01-03T19:08:39.506405975-08:00","closed_at":"2025-12-19T19:08:29.538436298-08:00"}
{"id":"voidlock-dze","title":"Fix Soldier Action Buttons UI","description":"Investigate and fix the issue where soldier action buttons blink on hover and do not respond to clicks. Likely a CSS or event handler conflict.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T13:41:06.145459853-08:00","updated_at":"2026-01-03T19:08:39.622377049-08:00","closed_at":"2025-12-18T13:49:51.59811138-08:00"}
{"id":"voidlock-dzg","title":"Document Engine-Renderer communication protocol","description":"Update ARCHITECTURE.md with details on the message passing between Worker and Main thread.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:16.944927853-08:00","updated_at":"2026-01-03T19:08:39.940999751-08:00","closed_at":"2025-12-21T10:07:07.904300933-08:00","dependencies":[{"issue_id":"voidlock-dzg","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:16.945773653-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-e0f","title":"Improve Entity Rendering and Movement","description":"1. Render enemies and soldiers in the center of cells by default.\\n2. Implement visual offset/flocking for units in the same cell so they don't overlap perfectly.\\n3. Allow diagonal visual movement interpolation.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T13:41:06.158509747-08:00","updated_at":"2026-01-03T19:08:39.936633769-08:00","closed_at":"2025-12-18T13:54:16.049063448-08:00"}
{"id":"voidlock-e1a","title":"Implement Spaceship Maze Generator","description":"Generate 16x16 maze maps with thin walls","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:04:06.626576528-08:00","updated_at":"2026-01-03T19:08:39.6524739-08:00","closed_at":"2025-12-13T13:08:12.455779124-08:00","dependencies":[{"issue_id":"voidlock-e1a","depends_on_id":"voidlock-m1z","type":"parent-child","created_at":"2025-12-13T13:04:06.628303274-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-e3s","title":"Verify: Audit codebase for xenopurge string","description":"Run grep audit to ensure zero results for old name.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T19:34:42.52121021-08:00","updated_at":"2026-01-03T19:08:39.502669403-08:00","closed_at":"2026-01-02T21:54:39.716939162-08:00","close_reason":"Codebase audit complete. No 'Xenopurge' strings remaining in source code or docs (except Beads IDs and legacy migration keys which are intentional).","dependencies":[{"issue_id":"voidlock-e3s","depends_on_id":"voidlock-8ne","type":"blocks","created_at":"2026-01-01T19:34:47.773984641-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-e3s","depends_on_id":"voidlock-ai9","type":"blocks","created_at":"2026-01-01T19:34:47.790066462-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-e3s","depends_on_id":"voidlock-o4i","type":"blocks","created_at":"2026-01-01T19:34:47.807808423-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-e3s","depends_on_id":"voidlock-3s3","type":"blocks","created_at":"2026-01-01T19:34:47.837975292-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-e8v","title":"UI: Convert Threat Level to Slider","description":"On the Custom Mission screen, change the 'Starting Threat Level' input from a number box to a slider (0-100%).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T10:01:31.398407576-08:00","updated_at":"2026-01-03T19:08:39.459016074-08:00","closed_at":"2025-12-27T10:33:59.682155934-08:00","labels":["enhancement","ui"]}
{"id":"voidlock-e8y","title":"Update updateRightPanel to use renderObjectivesList","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:28:50.431049818-08:00","updated_at":"2026-01-03T19:08:39.770273245-08:00","closed_at":"2025-12-30T19:07:27.500726816-08:00","dependencies":[{"issue_id":"voidlock-e8y","depends_on_id":"voidlock-6ky","type":"parent-child","created_at":"2025-12-29T20:28:50.431787367-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-e9m","title":"Engine: Multi-VIP Support","description":"Ensure the MissionManager and Victory conditions support multiple VIPs. All VIPs must be extracted for success. Any VIP death results in failure.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:11:46.998945498-08:00","updated_at":"2026-01-03T19:08:39.535494537-08:00","closed_at":"2025-12-27T08:08:36.462067966-08:00"}
{"id":"voidlock-eas","title":"Fix CoreEngine and Pathfinder test regressions after SquadConfig integration","description":"After integrating SquadConfig, several core engine tests (CoreEngine.test.ts, Pathfinder.test.ts) and command tests (AttackTarget.test.ts, SetEngagement.test.ts, DoorTraversal.test.ts) are failing with various errors (TypeError, AssertionError, module not found). GameClient.test.ts also fails. These regressions need to be fixed to ensure the engine's core functionality remains stable.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T19:17:28.03747275-08:00","updated_at":"2026-01-03T19:08:39.47099227-08:00","closed_at":"2025-12-15T11:05:17.324715167-08:00","labels":["complexity:hard"]}
{"id":"voidlock-efy4","title":"Implement Elite Mission Type (2 Objectives)","description":"Implements `spec/campaign.md#3.1`\n\n**Logic:**\n1. Modify `src/engine/managers/MissionManager.ts`.\n2. When a node of type 'Elite' is encountered during mission initialization:\n   - Force the generation of **2 Objectives**.\n   - Ensure base Scrap reward for the mission is multiplied by 2.\n3. Update `CampaignScreen.ts` to display a 'Skull' icon for these nodes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:12:30.907065943-08:00","created_by":"rkj","updated_at":"2026-01-11T20:45:41.294339762-08:00","closed_at":"2026-01-11T20:45:41.294339762-08:00","close_reason":"Implemented as part of voidlock-dsf6."}
{"id":"voidlock-egm","title":"UI: Implement Icon-Based HUD","description":"Refactor 'src/renderer/ui/HUDManager.ts':\n1. Replace all text labels (SPD, ACC, RNG, etc.) with the new SVG icons.\n2. Add HTML 'title' attributes to all icons for tooltips.\n3. Update Soldier Card layout to show separate stats for Left Hand (Melee) and Right Hand (Ranged).\n4. Update Enemy Intel section to match the new icon-based style.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T09:17:02.611688013-08:00","updated_at":"2026-01-03T19:08:39.419543656-08:00","closed_at":"2025-12-31T20:11:29.786733606-08:00","dependencies":[{"issue_id":"voidlock-egm","depends_on_id":"voidlock-98j","type":"blocks","created_at":"2025-12-31T11:31:41.92695095-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ei7","title":"Implement Random Seed Control in Config screen","description":"Add UI elements to the Config screen to allow users to input or generate a random seed for map generation and other deterministic processes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:06.935642009-08:00","updated_at":"2026-01-03T19:08:39.834546617-08:00","closed_at":"2025-12-14T18:43:36.602749592-08:00","labels":["complexity:easy"]}
{"id":"voidlock-ejvq","title":"Refactor: Decoupled Menu Controller (ADR 0017)","description":"Implements docs/adr/0017-decoupled-menu-controller.md. Deconstruct MenuController.ts into MenuStateMachine, SelectionManager, and CommandBuilder.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-11T20:02:31.176445718-08:00","created_by":"rkj","updated_at":"2026-01-11T20:21:20.587042081-08:00","closed_at":"2026-01-11T20:21:20.587042081-08:00","close_reason":"Implemented via sub-agent and verified.","dependencies":[{"issue_id":"voidlock-ejvq","depends_on_id":"voidlock-5lxb","type":"blocks","created_at":"2026-01-11T20:03:06.480395344-08:00","created_by":"rkj"}]}
{"id":"voidlock-emxr","title":"Implement Bonus Loot Intel on Sector Map","description":"Implements `spec/campaign.md#3.1`\n\n**Logic:**\n1. Modify `src/renderer/screens/CampaignScreen.ts`.\n2. When rendering each node:\n   - Check the `bonusLootCount` property.\n   - If `CampaignDifficulty` is 'Simulation' or 'Normal' (Clone):\n     - Draw X 'Star' pips (or dots) next to the node icon to represent the crate count.\n   - If Difficulty is higher, do not draw the pips (Intel hidden).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:13:00.584302054-08:00","created_by":"rkj","updated_at":"2026-01-11T20:55:52.421359925-08:00","closed_at":"2026-01-11T20:55:52.421359925-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-enem","title":"Implement No-XP-For-Dead-Soldiers Rule","description":"Implements `spec/campaign.md#3.3`\n\nModify `src/engine/managers/CampaignManager.ts` in the `processMissionResult` method.\n\n**Logic Changes:**\n1. Inside the loop iterating over `report.soldierResults`:\n2. Check if the soldier's resulting status is 'Dead'.\n3. If 'Dead':\n   - Set `res.xpGained = 0`.\n   - Do NOT add any XP to the soldier's persistent record.\n   - Do NOT calculate level up logic.\n   - Ensure `res.promoted` remains false.\n4. If NOT 'Dead' (Healthy/Wounded), proceed with existing logic (summing mission XP, survival XP, and kill XP).","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:01:23.263513951-08:00","created_by":"rkj","updated_at":"2026-01-11T19:08:18.809744396-08:00","closed_at":"2026-01-11T19:08:18.809744396-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-eneu","title":"UI: Friendly Weapon Names","description":"See spec/ui.md#2b. In src/renderer/screens/EquipmentScreen.ts, update the item display logic to show the user-visible 'name' field from the WeaponLibrary/ItemLibrary (e.g., 'Pulse Rifle') instead of the internal ID.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T18:57:59.006756325-08:00","created_by":"rkj","updated_at":"2026-01-05T06:51:07.3762527-08:00","closed_at":"2026-01-05T06:51:07.3762527-08:00","close_reason":"Implemented via sub-agent and verified. Equipment Screen soldier list now shows friendly names instead of internal IDs. Tests updated. Pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-eng","title":"Refactor DenseShipGenerator: Strict Room Shapes \u0026 Corridor Frame","description":"The current DenseShipGenerator creates invalid room shapes. It must be refactored to enforce:\\n1. Corridors: 1xN or Nx1, \u003e50% map dimension, never adjacent (1 tile buffer).\\n2. Rooms: Strictly 1x1, 1x2, 2x1, or 2x2 attached to the corridor frame.\\n3. No L-shapes or irregular rooms.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T10:46:48.49850663-08:00","updated_at":"2026-01-03T19:08:39.775712083-08:00","closed_at":"2025-12-21T10:58:25.62978739-08:00"}
{"id":"voidlock-eoi","title":"Update AGENTS.md with 'npx vitest run' instruction","description":"Add an explicit instruction to AGENTS.md that unit tests should be run using 'npx vitest run' to ensure non-interactive execution, clarifying that the interactive watch mode should be avoided.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T15:15:48.465480122-08:00","updated_at":"2026-01-03T19:08:39.882381916-08:00","closed_at":"2025-12-13T15:16:02.889229955-08:00"}
{"id":"voidlock-eop","title":"Config: Configure Path Aliases","description":"Enable @src alias in tsconfig.json and vitest.config.ts","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:20:58.700819032-08:00","updated_at":"2026-01-03T19:08:39.411587339-08:00","closed_at":"2026-01-03T08:55:53.305440508-08:00","close_reason":"Enabled @src path alias and verified with tests and build."}
{"id":"voidlock-eqt","title":"Mission: Escort VIP","description":"Add a new mission type where the squad must escort an unarmed VIP with 50% HP to the extraction zone. The VIP counts as a squad member but cannot fight.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:48:57.877346296-08:00","updated_at":"2026-01-03T19:08:39.508579469-08:00","closed_at":"2025-12-26T13:06:04.235141209-08:00"}
{"id":"voidlock-es7","title":"Docs: Write ADR-0008 Renderer \u0026 UI Separation","description":"Document the split between Canvas rendering and DOM-based UI overlays. Link to spec/ui.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:23:26.106113237-08:00","updated_at":"2026-01-03T19:08:39.880905609-08:00","closed_at":"2026-01-02T09:17:21.685343841-08:00","close_reason":"ADR-0008 written and verified. package.json version bumped to 0.43.5."}
{"id":"voidlock-etk","title":"Update UI to allow selection of MapGenerator/loading static map","description":"Add UI elements in index.html and main.ts (e.g., a dropdown for generator type, a text area or file input for static map JSON data) to support the new map loading and generation features.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T13:24:26.775949447-08:00","updated_at":"2026-01-03T19:08:39.65816074-08:00","closed_at":"2025-12-13T13:38:24.24219522-08:00","dependencies":[{"issue_id":"voidlock-etk","depends_on_id":"voidlock-uem","type":"blocks","created_at":"2025-12-13T13:24:26.776773296-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-etqw","title":"Epic: Asset Processing Pipeline","description":"Automate the processing of raw assets (NanoBanana) into game-ready formats (WebP, optimized).","status":"closed","priority":4,"issue_type":"epic","created_at":"2026-01-04T11:42:30.365411688-08:00","created_by":"rkj","updated_at":"2026-01-04T16:56:27.069274537-08:00","closed_at":"2026-01-04T16:56:27.069274537-08:00","close_reason":"Dependent task (voidlock-d2ah) completed and verified.","dependencies":[{"issue_id":"voidlock-etqw","depends_on_id":"voidlock-d2ah","type":"blocks","created_at":"2026-01-04T11:42:52.436283612-08:00","created_by":"rkj"}]}
{"id":"voidlock-ew6","title":"Refactor: Externalize Icons and Styles","description":"Move hardcoded SVGs from Icons.ts to files and create centralized CSS. Link dependencies to voidlock-yiw.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-01T18:30:17.272235718-08:00","updated_at":"2026-01-04T12:14:24.877544807-08:00","closed_at":"2026-01-04T12:14:24.877544807-08:00","close_reason":"Implemented ThemeManager, externalized icons and styles, and refactored Renderer and screens to use CSS variables. Verified with build and tests.","dependencies":[{"issue_id":"voidlock-ew6","depends_on_id":"voidlock-x8j","type":"blocks","created_at":"2026-01-01T18:36:13.33542297-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ewla","title":"Set DenseShip as Default Campaign Generator","description":"Implements `spec/campaign.md#2.1`\n\nModify `src/engine/managers/CampaignManager.ts` in the `startNewCampaign` method (and specifically `getRulesForDifficulty`).\n\n**Task:**\n1. Ensure the `GameRules` object generated for a new campaign explicitly sets `mapGeneratorType` to `MapGeneratorType.DenseShip`.\n2. This default should apply to all difficulty levels unless explicitly overridden by the `overrides` parameter (from the Advanced Options).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T20:44:13.324746458-08:00","created_by":"rkj","updated_at":"2026-01-08T20:19:19.392732018-08:00","closed_at":"2026-01-08T20:19:19.392732018-08:00","close_reason":"Implemented MapGeneratorType.DenseShip as the default for all campaign difficulties. Updated GameRules interface and all relevant tests and mocks."}
{"id":"voidlock-f31","title":"Wire up Worker Wrapper","description":"Handle postMessage and drive the engine","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:10:44.541457698-08:00","updated_at":"2026-01-03T19:08:39.549092409-08:00","closed_at":"2025-12-13T10:17:05.456759312-08:00","dependencies":[{"issue_id":"voidlock-f31","depends_on_id":"voidlock-qcm","type":"parent-child","created_at":"2025-12-13T10:10:44.541983677-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-f45","title":"Fix STOP Command and Autonomous Behavior","description":"Fix issue where STOP command doesn't permanently stop units (they immediately resume autonomous behavior). Also fix autonomous units not prioritizing objectives (like picking up packages) over extraction or idle wandering.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-20T12:23:14.718052899-08:00","updated_at":"2026-01-03T19:08:39.618775608-08:00","closed_at":"2025-12-20T12:28:14.818157602-08:00"}
{"id":"voidlock-f5wl","title":"task","description":"Create tests/engine/ai/UnitAI_PickupCompetition.test.ts. Scenario: 2 Soldiers, 1 Item. Soldier A is 2 tiles away, Soldier B is 10 tiles away. Verify that Soldier A claims the task. Currently fails if B claims it.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:09.8007961-08:00","created_by":"rkj","updated_at":"2026-01-13T21:58:11.709533551-08:00","closed_at":"2026-01-13T21:58:11.709533551-08:00","close_reason":"Created regression test for pickup competition."}
{"id":"voidlock-f9j","title":"Implement 'Extract Artifacts' Mission","description":"Create a new mission type where the squad must recover 3 randomly placed artifacts and then extract. Requires tracking artifact state.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T13:41:06.196303827-08:00","updated_at":"2026-01-03T19:08:39.668271438-08:00","closed_at":"2025-12-18T14:04:07.691943799-08:00"}
{"id":"voidlock-fa00","title":"Change default unit style to TacticalIcons in ConfigManager","description":"Implements spec/ui.md#8.6. Updates getDefault() in ConfigManager.ts to use UnitStyle.TacticalIcons as the default.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:44:42.710792431-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T17:38:20.39594905-08:00","closed_at":"2026-01-18T17:38:20.39594905-08:00","close_reason":"Updated getDefault() in ConfigManager.ts to use UnitStyle.TacticalIcons as the default. Synchronized SharedRendererState and GameApp. Updated tests and documentation. Verified with full test pass and build."}
{"id":"voidlock-fa1","title":"Ensure PRNG.ts is fully tested for determinism","description":"Verify seeded random number generation consistency.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:23.868422841-08:00","updated_at":"2026-01-03T19:08:39.609541605-08:00","closed_at":"2025-12-21T10:13:27.04733532-08:00","dependencies":[{"issue_id":"voidlock-fa1","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:23.869781162-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-fb3","title":"Types: Add stimpack to ItemLibrary","description":"Add 'stimpack' to the ItemLibrary.\\n\\n**Spec:** spec/commands.md#23-use-item\\n\\n**Requirements:**\\n- Add 'stimpack' entry to ItemLibrary.\\n- Define stats (Instant use, small HP recovery).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.7899382-08:00","updated_at":"2026-01-03T19:08:39.697157952-08:00","closed_at":"2026-01-03T13:40:14.490885994-08:00","close_reason":"Added stimpack to ItemLibrary and updated healing logic. Verified with new regression test and existing test suite. Version bumped to 0.49.0."}
{"id":"voidlock-fgs","title":"Fix BACK TO MENU button","description":"The 'BACK TO MENU' button in the Game Over summary does not function. Ensure it correctly returns the player to the main menu.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T19:10:05.010926758-08:00","updated_at":"2026-01-03T19:08:39.813278133-08:00","closed_at":"2025-12-23T19:20:38.498102677-08:00"}
{"id":"voidlock-fi6n","title":"Feat: Global Error Alert \u0026 Reset","description":"Update the global error handler (window.onerror / unhandledrejection) to catch top-level exceptions (like invalid transitions). When caught, display a native browser confirm/alert dialog allowing the user to 'Reset Data \u0026 Reload' to recover from the broken state.","status":"closed","priority":0,"issue_type":"feature","owner":"rkj@google.com","created_at":"2026-01-19T13:20:13.477262432-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:46:22.717070021-08:00","closed_at":"2026-01-19T13:46:22.717070021-08:00","close_reason":"Implemented via sub-agent and verified. Updated global error handlers in main.ts and index.html to show a confirm dialog for resetting data. Added E2E tests in 'tests/e2e/GlobalErrorAlert.test.ts' covering both confirm (reset) and cancel (panic UI) flows."}
{"id":"voidlock-foz","title":"Engine: Implement Accuracy Model","description":"Implement the Angular Dispersion model in UnitManager. Add 'accuracy' stat to units. Calculate hit chance based on distance.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:14:21.166088664-08:00","updated_at":"2026-01-03T19:08:39.524141101-08:00","closed_at":"2025-12-27T10:24:59.60346614-08:00","labels":["combat","engine"]}
{"id":"voidlock-fpd","title":"MapGen: Dual Entrances","description":"Support two distinct entrance points for the squad. Both should be in the same quadrant but in different rooms. Squad members should be split randomly between them.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T13:11:16.573968145-08:00","updated_at":"2026-01-03T19:08:39.622839669-08:00","closed_at":"2025-12-26T13:28:48.790676417-08:00","labels":["feature"]}
{"id":"voidlock-fph","title":"Refactor Renderer to use Graph","description":"Update Renderer to draw walls and doors based on Graph boundaries. This eliminates the redundant isDoor logic and ensures consistent rendering.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T15:33:04.203028573-08:00","updated_at":"2026-01-03T19:08:39.427247533-08:00","closed_at":"2025-12-24T15:49:29.745255359-08:00","dependencies":[{"issue_id":"voidlock-fph","depends_on_id":"voidlock-ht1","type":"parent-child","created_at":"2025-12-24T15:33:04.203835907-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-fpv","title":"Define small 2x2 test map for debugging","description":"Create a very small (e.g., 2x2) JSON MapDefinition with minimal features (e.g., 2 floor cells and a wall/door) specifically for debugging the 'Maximum call stack size exceeded' error.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T15:26:03.035833444-08:00","updated_at":"2026-01-03T19:08:39.473430102-08:00","closed_at":"2025-12-13T15:27:49.361242172-08:00"}
{"id":"voidlock-fug","title":"Engine: Implement State Export","description":"Update CoreEngine to handle GET_FULL_STATE by serializing the full GameState + Seed + CommandLog. Handle TOGGLE_DEBUG_OVERLAY.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:03:04.948067733-08:00","updated_at":"2026-01-03T19:08:39.782655891-08:00","closed_at":"2026-01-02T18:08:08.395524532-08:00","close_reason":"Already implemented via Debug Tools task. Copy World State grabs ReplayData (with seed) and GameState. Engine handles TOGGLE_DEBUG_OVERLAY.","dependencies":[{"issue_id":"voidlock-fug","depends_on_id":"voidlock-vpw","type":"blocks","created_at":"2026-01-02T09:03:24.692176176-08:00","created_by":"rkj","metadata":"{}"}]}
{"id":"voidlock-g4w","title":"Campaign: Implement DebriefScreen UI","description":"Create 'src/renderer/screens/DebriefScreen.ts'. Displays mission results (Success/Fail, Scrap, XP). Handles the transition back to the Campaign Screen.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T21:21:54.454519636-08:00","updated_at":"2026-01-03T19:08:39.42362285-08:00","closed_at":"2025-12-31T21:35:11.011064667-08:00","dependencies":[{"issue_id":"voidlock-g4w","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T21:21:54.456708724-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-g50s","title":"Bug: Invalid transition equipment -\u003e main-menu","description":"Clicking 'Back' or 'Main Menu' from the Equipment screen throws a console error: 'Invalid screen transition: equipment -\u003e main-menu'. This likely indicates a missing transition definition in ScreenTransitions.ts or incorrect button wiring.","status":"closed","priority":1,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T13:20:08.398454618-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T16:13:34.149042933-08:00","closed_at":"2026-01-19T16:13:34.149042933-08:00","close_reason":"Fixed invalid transition and updated regression tests."}
{"id":"voidlock-g5z","title":"Refactor GameState and Unit Types","description":"Refactor 'GameState' and 'Unit' to group related properties into sub-objects (e.g., 'SimulationSettings', 'MissionStats', 'UnitStats'). This will reduce the blast radius of future API changes and make mock creation in tests easier.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T17:42:33.331150949-08:00","updated_at":"2026-01-03T19:08:39.462478829-08:00","closed_at":"2025-12-31T18:38:06.285938906-08:00"}
{"id":"voidlock-g77z","title":"Implement Global Campaign Map Scaling Config","description":"The implementation is mostly correct, but 'npm run build' failed with TypeScript errors in test files. Please fix the missing properties ('mapGrowthRate' in GameRules and 'rank' in CampaignNode) in the following files:\n1. tests/engine/generators/SectorMapGenerator.test.ts\n2. tests/shared/campaign_types.test.ts\n\nError log:\ntests/engine/generators/SectorMapGenerator.test.ts:7:9 - error TS2741: Property 'mapGrowthRate' is missing in type ... but required in type 'GameRules'.\ntests/shared/campaign_types.test.ts:13:11 - error TS2741: Property 'mapGrowthRate' is missing in type ... but required in type 'GameRules'.\ntests/shared/campaign_types.test.ts:23:11 - error TS2741: Property 'rank' is missing in type ... but required in type 'CampaignNode'.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T21:23:27.088476141-08:00","created_by":"rkj","updated_at":"2026-01-08T21:09:53.628881373-08:00","closed_at":"2026-01-08T21:09:53.628881373-08:00","close_reason":"Implemented global campaign map scaling logic, rank tracking in DAG nodes, and campaign length selection UI. Verified with regression tests and full build check."}
{"id":"voidlock-g8ed","title":"Strict Validation for Persisted State","description":"Implements spec/ui.md#8.12. Enhances ConfigManager and CampaignManager with stricter validation and default fallback logic for all persisted fields to prevent runtime crashes.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:57:59.370199961-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:57:31.670914831-08:00","closed_at":"2026-01-18T19:57:31.670914831-08:00","close_reason":"Enhanced ConfigManager, CampaignManager, and MetaManager with deep validation and fallback logic for all persisted fields. Added comprehensive regression tests and updated documentation. Verified with full test pass and build."}
{"id":"voidlock-g99v","title":"UI: Add Global Stats to Campaign Screen","description":"Implements spec/ui.md#meta-stats. Update src/renderer/screens/CampaignScreen.ts to display a summary of global stats (e.g., 'Total Kills: X') somewhere on the Command Bridge interface (e.g., bottom bar or top header). Ensure it uses MetaManager.getStats().","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-17T17:11:21.815834634-08:00","created_by":"rkj","updated_at":"2026-01-18T20:27:39.018472309-08:00","closed_at":"2026-01-18T20:27:39.018472309-08:00","close_reason":"Implemented global meta-statistics display on CampaignScreen (Sector Map and Wizard). Added a fixed footer showing lifetime Purge count, Expeditions, and Missions Won. Refactored wizard layout for better scrollability. Verified with new test suite and build.","dependencies":[{"issue_id":"voidlock-g99v","depends_on_id":"voidlock-4hev","type":"blocks","created_at":"2026-01-17T17:12:04.127634262-08:00","created_by":"rkj"}]}
{"id":"voidlock-gac","title":"Client: Expose Debug Methods","description":"Update GameClient.ts to add toggleDebugOverlay() and getFullState() methods that wrap the new protocol messages.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:03:10.060407993-08:00","updated_at":"2026-01-03T19:08:39.859030697-08:00","closed_at":"2026-01-02T18:24:15.524195506-08:00","close_reason":"Added toggleDebugOverlay, toggleLosOverlay, queryState to GameClient. Updated InputManager to use callbacks. Verified with tests. Version bumped to 0.43.10.","dependencies":[{"issue_id":"voidlock-gac","depends_on_id":"voidlock-fug","type":"blocks","created_at":"2026-01-02T09:03:29.770557942-08:00","created_by":"rkj","metadata":"{}"}]}
{"id":"voidlock-gf2","title":"Implement UI for ASCII Map Input/Output in Config screen","description":"Add a text area input to the Config screen for pasting/displaying ASCII map strings, along with 'Convert to MapDefinition' and 'Convert from MapDefinition' buttons, as specified in spec.md section 8.1.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:51:46.828322201-08:00","updated_at":"2026-01-03T19:08:39.777665792-08:00","closed_at":"2025-12-14T18:51:39.537339323-08:00"}
{"id":"voidlock-ggf","title":"AI Auto-Extraction","description":"Update AI logic to automatically proceed to the extraction point after all mission objectives are completed. This should replace the need for manual extraction commands in standard gameplay flow.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-25T11:04:27.325355542-08:00","updated_at":"2026-01-03T19:08:39.943780485-08:00","closed_at":"2025-12-26T07:12:28.096892435-08:00"}
{"id":"voidlock-ggls","title":"Persist Equipment Changes to Campaign Roster","description":"Implements `spec/campaign.md#3.4`\n\nModify the `onSave` callback in `src/renderer/main.ts` for the `EquipmentScreen` initialization.\n\n**Task:**\nIterate through `config.soldiers`. For any soldier with a persistent `id`, call `campaignManager.assignEquipment(soldier.id, equipment)` using the newly configured slots. This ensures that loadout changes made in the Ready Room are saved to the persistent campaign state before the mission starts.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:18:56.68359431-08:00","created_by":"rkj","updated_at":"2026-01-08T20:08:10.02704898-08:00","closed_at":"2026-01-08T20:08:10.02704898-08:00","close_reason":"Implemented equipment persistence in main.ts. Verified with a new integration test and a successful full test suite pass."}
{"id":"voidlock-go1q","title":"UI: HUD Slider Constraints","description":"Update 'HUDManager' to respect 'allowTacticalPause'. If false, hide or disable the \u003c1.0 section of the speed slider.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T10:31:05.111927925-08:00","created_by":"rkj","updated_at":"2026-01-04T16:47:48.633473754-08:00","closed_at":"2026-01-04T16:47:48.633473754-08:00","close_reason":"Implemented speed slider constraints and formatting in HUDManager."}
{"id":"voidlock-gos","title":"Implement HP and Death","description":"Track HP for all combatants and handle death states","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.458226435-08:00","updated_at":"2026-01-03T19:08:39.568873358-08:00","closed_at":"2025-12-13T11:09:25.996336124-08:00","dependencies":[{"issue_id":"voidlock-gos","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.459302776-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-gqd","title":"Implement Spawn Logic (Simple Director)","description":"Create a basic director to spawn enemies at designated points","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:41:09.477452177-08:00","updated_at":"2026-01-03T19:08:39.577392013-08:00","closed_at":"2025-12-13T11:12:48.371038442-08:00","dependencies":[{"issue_id":"voidlock-gqd","depends_on_id":"voidlock-atv","type":"parent-child","created_at":"2025-12-13T10:41:09.478156723-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-gy3","title":"Implement Acyclic Multi-Corridor Skeleton for TreeShipGenerator","description":"Update TreeShipGenerator to support a multi-corridor skeleton (e.g. Fishbone or Cross) for larger maps, replacing the single spine. Ensure strict acyclicity is maintained (no closed loops). Also constrain corridor generation to prevent 'weirdly large' unstructured blobs.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T19:10:05.896584841-08:00","updated_at":"2026-01-03T19:08:39.769501069-08:00","closed_at":"2025-12-17T20:11:26.875732218-08:00"}
{"id":"voidlock-gzlu","title":"Fix Stuck Overlay on Back","description":"When backing out of `USE_ITEM` \u003e Landmine selection, the room overlay persists. Ensure `MenuController.goBack()` correctly clears the `overlayOptions` and resets the view state when transitioning back from `TARGET_SELECT`.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T07:10:19.311376785-08:00","created_by":"rkj","updated_at":"2026-01-07T07:48:10.764611281-08:00","closed_at":"2026-01-07T07:48:10.764611281-08:00","close_reason":"Modified MenuController.ts to ensure overlayOptions are cleared when goBack() is called from TARGET_SELECT, and also when a target is selected via keyboard or canvas. Added a new regression test and verified with the full test suite. Build and lint pass."}
{"id":"voidlock-h0bp","title":"Extraction point visible through Fog of War (Reproduction)","description":"Implements spec/map.md#extraction-point. Create a test case in 'tests/renderer/visuals/MapEntityLayer.test.ts' that reproduces the bug where extraction point is rendered even when the cell is not discovered or visible.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T21:44:53.596233183-08:00","created_by":"rkj","updated_at":"2026-01-17T15:52:57.56567097-08:00","closed_at":"2026-01-17T15:52:57.56567097-08:00","close_reason":"Reproduced bug with MapEntityLayer.test.ts. Extraction point renders even when cell is undiscovered.","dependencies":[{"issue_id":"voidlock-h0bp","depends_on_id":"voidlock-oj3n","type":"blocks","created_at":"2026-01-15T21:45:16.625961781-08:00","created_by":"rkj"}]}
{"id":"voidlock-h1dk","title":"Implement Lane-Based Sector Map Generator","description":"Implements `spec/campaign.md#3.1`\n\n**Logic:**\n1. Modify `src/engine/generators/SectorMapGenerator.ts`.\n2. Algorithm:\n   - Define `DEPTH = 8` (or dynamic), `LANES = 4`.\n   - Create a Grid of Nodes `[Depth][Lane]`.\n   - **Populate:** Randomly activate nodes (ensure at least 3-4 options per Rank).\n   - **Connect:** Iterate Ranks 0 to N-1. Connect active Node `(d, l)` to `(d+1, k)` where `k` is in `[l-1, l, l+1]`.\n   - **Validation:** Ensure a path exists from Start to End. Ensure no crossing lines (guaranteed by adjacent lane logic).\n3. **Node Types:**\n   - Randomly assign 'Elite' status (approx 20% chance).\n   - Assign 'Boss' to the final node (merging all paths).\n   - Assign 'Bonus Loot Count' (0-3) to each node.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:08:54.09638908-08:00","created_by":"rkj","updated_at":"2026-01-11T20:37:55.815231459-08:00","closed_at":"2026-01-11T20:37:55.815231459-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-h5i","title":"Implement Load/Save Content Pack Config in UI","description":"Add UI elements to the Config screen for loading and saving content pack configuration JSON, enabling easy configuration management.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:04.938744914-08:00","updated_at":"2026-01-03T19:08:39.658718747-08:00","closed_at":"2025-12-14T18:52:48.789968094-08:00","labels":["complexity:medium"]}
{"id":"voidlock-hei5","title":"Fix: Dead Soldiers Remain in Squad","description":"Update `src/renderer/app/GameApp.ts` (loadAndApplyConfig) to validate `currentSquad` against the Roster status. Remove any soldier whose status is \"Dead\" (or \"Wounded\" if appropriate) from the active squad selection upon returning to Mission Setup.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-14T22:01:26.211586365-08:00","created_by":"rkj","updated_at":"2026-01-17T16:36:57.342088601-08:00","closed_at":"2026-01-17T16:36:57.342088601-08:00","close_reason":"Verified fix in GameApp.ts (loadAndApplyConfig). Dead/Wounded soldiers are filtered from currentSquad. Covered by E2E_CampaignLoss.test.ts.","dependencies":[{"issue_id":"voidlock-hei5","depends_on_id":"voidlock-wtad","type":"blocks","created_at":"2026-01-14T22:02:01.129429962-08:00","created_by":"rkj"},{"issue_id":"voidlock-hei5","depends_on_id":"voidlock-cbdu","type":"blocks","created_at":"2026-01-14T22:07:33.77583714-08:00","created_by":"rkj"}]}
{"id":"voidlock-hg0r","title":"Fix TreeShip Connectivity","description":"See spec/simulation.md. The TreeShipGenerator sometimes creates disconnected rooms. Create a regression test (tests/engine/generators/TreeShip/regression_connectivity.test.ts) to identify the failure cases, then fix the generator logic to ensure all floor cells are reachable from the squad spawn.","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-01-04T18:57:38.810977423-08:00","created_by":"rkj","updated_at":"2026-01-04T21:09:07.693121843-08:00","closed_at":"2026-01-04T21:09:07.693121843-08:00","close_reason":"Diagnosed as geometric mismatch. Created specific bug task voidlock-szth to address it."}
{"id":"voidlock-hk4r","title":"Implement Scalable Spawn Points","description":"Implements `spec/campaign.md#2.1`\n\n**Goal:** Number of enemy spawn points should scale with Map Size.\n\n**Logic:**\n1. Modify `src/engine/managers/CampaignManager.ts` (or wherever `MissionConfig` is built).\n2. When configuring a map (Custom or Campaign):\n   - Calculate `SpawnCount = 1 + Math.floor((MapWidth - 6) / 2)`.\n   - Pass this to the generator config.\n3. Modify `src/renderer/main.ts`:\n   - Update the Mission Setup UI to respect/display this calculation (or allow override).\n   - If Custom Mission: Slider range 1-10.\n   - If Campaign: Calculated automatically based on size.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:00:13.931550956-08:00","created_by":"rkj","updated_at":"2026-01-11T19:28:49.378001531-08:00","closed_at":"2026-01-11T19:28:49.378001531-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-hka","title":"Bug: Enemy LOS visible before enemy is discovered","description":"I should only see LOS from enemies that I see. Right now, enemy LOS shows even when the enemy is around a corner and not yet visible, which spoils their approach.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T21:09:41.470983003-08:00","updated_at":"2026-01-03T19:08:39.541294046-08:00","closed_at":"2025-12-24T09:27:27.280902003-08:00"}
{"id":"voidlock-hkio","title":"Define Config \u0026 Refactor MapGenerator","description":"Refactor `MapGenerator` to use the Configuration Object pattern.\nInput: `src/engine/MapGenerator.ts`, `src/shared/types.ts`\nRequirements:\n1. Define `MapGenerationConfig` in `shared/types.ts` per `docs/adr/0013-unified-map-generation-config.md`.\n2. Refactor `MapGenerator` constructor to accept this config.\n3. Update `generate()` to require no arguments.\nSee `spec/map.md#7-2-required-interfaces` for behavioral context.","status":"closed","priority":4,"issue_type":"chore","created_at":"2026-01-04T21:11:02.949312913-08:00","created_by":"rkj","updated_at":"2026-01-06T20:31:45.00102623-08:00","closed_at":"2026-01-06T20:31:45.00102623-08:00","close_reason":"Refactored MapGenerator to accept a MapGenerationConfig object in constructor and parameterless generate(). Updated all call sites and tests."}
{"id":"voidlock-hnx","title":"Fix Responsive Layout","description":"Ensure sidebar is always visible and map scales to fit viewport. Map should scale down if window is small.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:15:50.267622472-08:00","updated_at":"2026-01-03T19:08:39.853417372-08:00","closed_at":"2025-12-13T13:17:48.642051277-08:00"}
{"id":"voidlock-hs8n","title":"Enable VIP in Custom Mission Squad Selection","description":"Enable VIP in Custom Mission Squad Selection.\nCurrently, VIPs are globally filtered out from the `renderSquadBuilder`. They should only be filtered out in Campaign Mode (or if the mission type forces them), but for generic Custom Missions, the user should be allowed to add them as \"Extra Objectives\".\n\n1.  **Modify `renderSquadBuilder` in `main.ts`**:\n    - Check context: Are we in Campaign Mode? (`currentCampaignNode !== null`)\n    - If Campaign: Keep filtering out VIPs.\n    - If Custom: **Allow** VIP selection.\n2.  **Logic Update**:\n    - Ensure VIPs do NOT count towards the `MAX_SQUAD_SIZE` (as per existing comment `// VIPs do not count...`).\n    - Verify that adding a VIP manually works with the `EscortVIP` mission type logic (which might try to auto-add one).\n      - *Conflict Check*: If Mission Type is `EscortVIP`, the engine likely auto-spawns a VIP. If the user *also* selects one manually, we might have two.\n      - *Resolution*: If Mission Type is `EscortVIP`, force the VIP input to 0 (disabled) and show a note \"Auto-assigned\".\n      - If Mission Type is `Default` or others, allow user to add VIPs (who just act as weak units or flavor).\n\n3.  **Verify**:\n    - Custom Mission -\u003e Default Type -\u003e Can add VIP.\n    - Custom Mission -\u003e Escort VIP Type -\u003e VIP input disabled (Auto).\n    - Campaign -\u003e VIP hidden.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-04T19:20:14.505611365-08:00","created_by":"rkj","updated_at":"2026-01-06T21:09:52.774000997-08:00","closed_at":"2026-01-06T21:09:52.774000997-08:00","close_reason":"Implemented via sub-agent. Verified via automated regression tests and browser-based manual check. VIPs are now selectable in generic custom missions but disabled/auto-assigned in Escort VIP missions. They remain hidden in Campaign Mode."}
{"id":"voidlock-hss","title":"Display Map Seed in UI","description":"Display the current map seed in the UI, e.g., in the top left corner, to help with debugging and sharing seeds.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:30:14.94667363-08:00","updated_at":"2026-01-03T19:08:39.675443998-08:00","closed_at":"2025-12-19T21:37:55.066151686-08:00"}
{"id":"voidlock-ht1","title":"Refactor GameGrid to Graph Architecture","description":"Refactor GameGrid to use a Graph of Cells with Shared Boundary Objects. This architectural change eliminates data duplication and coordinate ambiguities that cause sync bugs (like the reported LOS issue).\n\nArchitecture:\n- Implement 'Boundary' class (Wall/Door state).\n- Implement 'Cell' class with 'edges' map (N, E, S, W pointing to Boundary or null).\n- GameGrid constructor hydrates the graph from MapDefinition, ensuring unique Boundary objects per edge key (sorted coordinates).\n\nImplementation:\n1. Create src/engine/Graph.ts.\n2. Update GameGrid to build graph.\n3. Update LineOfSight and Pathfinder to traverse the graph boundaries.\n4. Ensure dynamic door updates reflect on the shared Boundary.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-24T14:22:05.108013531-08:00","updated_at":"2026-01-03T19:08:39.546864261-08:00","closed_at":"2025-12-24T16:23:37.640480204-08:00"}
{"id":"voidlock-huk","title":"Infra: Setup JSDOM for Renderer Tests","description":"The renderer currently lacks a DOM environment for testing. Install and configure 'jsdom' or 'happy-dom' to allow unit testing of UI components.\n    \n    Required Tests to Create/Port:\n    1. src/renderer/ui/HUDManager.test.ts: Verify soldier list rendering, stat updates, and bar formatting.\n    2. src/renderer/MenuController.test.ts: Port any existing logic that relies on DOM interactions.\n    3. src/renderer/SquadBuilder.test.ts: Refactor to use proper DOM mocks instead of manual stubs.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T08:45:59.928210839-08:00","updated_at":"2026-01-03T19:08:39.515911787-08:00","closed_at":"2025-12-28T16:08:14.75322681-08:00","labels":["infrastructure"]}
{"id":"voidlock-hy7","title":"Bug: Game Speed resets to 0.3 on start and unpause","description":"User reports Game Speed starts at 0.3 regardless of setup, and resets to 0.3 when unpausing. Expected behavior: Respect setup speed and persist across pause.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-24T11:25:57.908665975-08:00","updated_at":"2026-01-03T19:08:39.728629947-08:00","closed_at":"2025-12-24T15:38:16.852799409-08:00"}
{"id":"voidlock-i864","title":"Remove Redundant Prefixes in Command Menu","description":"Implements `spec/ui.md#8.3.2`\n\nThe current command menu adds redundant prefixes like 'Unit' to labels that already contain identifiers (e.g. 'Unit soldier_0').\n\n**Task:**\nModify `src/renderer/MenuController.ts`:\n1. In `generateTargetOverlay('FRIENDLY_UNIT')`: Change label from `Unit ${u.id}` to `${u.id}`.\n2. In `getRenderableState('UNIT_SELECT')`: Change label from `Unit ${u.id}` to `${u.id}`.\n3. Check `generateTargetOverlay('CELL')` for rooms. Ensure labels are distinct (e.g. 'Room A', 'Room B') rather than just 'Room' if possible, or leave as 'Room' but ensure no double prefixing occurs in the renderer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:33:15.408927688-08:00","created_by":"rkj","updated_at":"2026-01-09T19:05:54.105705435-08:00","closed_at":"2026-01-09T19:05:54.105705435-08:00","close_reason":"Removed redundant 'Unit' prefixes and added distinct room numbering (e.g. 'Room 1') in the command menu. Updated existing tests and added new regression test."}
{"id":"voidlock-i8y","title":"Engine: Fix Map Placement Logic","description":"Update map generation logic (Spaceship/TreeShip) to enforce strict mutual exclusivity between Squad Spawn, Enemy Spawn, and Extraction per room.\\n\\n**Spec:** spec/map.md#85-entity-placement-constraints-strict\\n**ADR:** docs/adr/0001-edge-based-map.md (Context)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-02T17:58:12.282882835-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.453218485-08:00","closed_at":"2026-01-02T19:19:31.12202721-08:00","close_reason":"Fixed Map Placement Logic. All generators now enforce strict room isolation for Squad/Enemy/Extraction. Updated validation logic and tests. Version bumped to 0.43.13.","dependencies":[{"issue_id":"voidlock-i8y","depends_on_id":"voidlock-3dp","type":"blocks","created_at":"2026-01-02T17:58:25.552219038-08:00","created_by":"rkj"}]}
{"id":"voidlock-ib4","title":"Fix Spawn Point Count Bug","description":"The spawn point configuration in Mission Setup is ignored or overridden. Setting it to 1 still results in 3 spawn points. Ensure the UI value is correctly passed to and used by all MapGenerators.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T18:46:08.324447697-08:00","updated_at":"2026-01-03T19:08:39.918743444-08:00","closed_at":"2025-12-23T18:55:25.158833518-08:00"}
{"id":"voidlock-idde","title":"Chore: Apply Title Case to UI Strings","description":"Implements spec/ui.md. Update all user-facing UI strings in the codebase to use Title Case instead of ALL_CAPS. 1) Update Main Menu buttons in index.html. 2) Update Mission Setup headers ('MISSION CONFIGURATION' -\u003e 'Mission Configuration'). 3) Update Campaign headers and resource labels. 4) Update Statistics Screen title ('SERVICE RECORD' -\u003e 'Service Record'). 5) Review and update Command Menu labels. Do NOT change internal enum values or protocol strings; only update the text displayed to the user.","status":"closed","priority":1,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:15:44.950932406-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-17T20:58:14.13557617-08:00","closed_at":"2026-01-17T20:58:14.13557617-08:00","close_reason":"Standardized all UI strings to Title Case and refactored MenuController logic to use CommandType instead of labels. Verified with full test suite and successful build.","dependencies":[{"issue_id":"voidlock-idde","depends_on_id":"voidlock-l8tc","type":"blocks","created_at":"2026-01-17T20:15:53.657062323-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-iec","title":"Implement UI for loading static map via text input","description":"Add a text area input in the Config screen to allow users to paste MapDefinition JSON for loading static maps.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:28:59.837782001-08:00","updated_at":"2026-01-03T19:08:39.659865277-08:00","closed_at":"2025-12-14T13:06:18.676501004-08:00"}
{"id":"voidlock-ig2","title":"UI: Limit Squad Size to 4","description":"Enforce a maximum total of 4 soldiers in the Squad Configuration screen.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:48.127308639-08:00","updated_at":"2026-01-03T19:08:39.919649993-08:00","closed_at":"2025-12-26T12:31:06.065118982-08:00"}
{"id":"voidlock-ikd","title":"Define Boundary and GraphCell types","description":"Implement 'Boundary' class (Wall/Door state) and 'Cell' class with 'edges' map in src/engine/Graph.ts.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T14:27:08.482949675-08:00","updated_at":"2026-01-03T19:08:39.65710401-08:00","closed_at":"2025-12-24T15:12:01.087867059-08:00"}
{"id":"voidlock-ilnd","title":"Implement Multi-Ray LOF for Unit Radius","description":"Implements spec/ui.md#8.13. Updates CombatManager.ts and LineOfSight.ts to check multiple rays (center and offsets) to account for unit physical size during shooting.","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-17T21:04:45.004912497-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T20:21:11.668591602-08:00","closed_at":"2026-01-18T20:21:11.668591602-08:00","close_reason":"Already implemented as part of voidlock-xkzt. LineOfSight.hasLineOfFire now uses multi-ray sampling, and CombatManager already utilizes this method for target acquisition and combat resolution.","dependencies":[{"issue_id":"voidlock-ilnd","depends_on_id":"voidlock-d7hx","type":"blocks","created_at":"2026-01-17T21:06:39.313170051-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-ilnd","depends_on_id":"voidlock-885i","type":"blocks","created_at":"2026-01-18T20:05:11.818766463-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-ilv8","title":"Fix Landmine Targeting Sequence","description":"Landmine usage should follow the standard flow: Select Item -\u003e Select Unit (User) -\u003e Select Target (Intersection/Position). Currently, it applies immediately or has incorrect ordering. Enforce Unit selection before Target selection for `USE_ITEM` (Landmine).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T07:10:10.607954946-08:00","created_by":"rkj","updated_at":"2026-01-07T07:43:26.153331197-08:00","closed_at":"2026-01-07T07:43:26.153331197-08:00","close_reason":"Modified MenuController.ts to enforce the standard selection sequence for Landmines. Added pendingUnitIds to track the performing units and updated goBack logic to handle the new state. Verified with a new regression test and ensured full suite stability. Build and lint pass."}
{"id":"voidlock-iq1b","title":"Implement Campaign Victory Trigger","description":"Implements `spec/campaign.md#5.1`\n\nModify `src/engine/managers/CampaignManager.ts` in `processMissionResult`.\n\n**Task:**\n1. Retrieve the `CampaignNode` associated with the `MissionReport`.\n2. If `report.result === 'Won'` AND `node.type === 'Boss'`:\n   - Set `this.state.status = 'Victory'`.\n   - Ensure the save file is updated.\n3. This will cause `CampaignScreen` (which checks `state.status`) to render the Victory UI (to be implemented in voidlock-vict).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:02:43.7177838-08:00","created_by":"rkj","updated_at":"2026-01-11T19:48:18.829948396-08:00","closed_at":"2026-01-11T19:48:18.829948396-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-ivx","title":"Campaign Implementation","description":"Full implementation of Roguelite Campaign systems as described in spec/campaign.md. Includes Economy, Progression, and DAG traversal.","status":"closed","priority":4,"issue_type":"epic","created_at":"2025-12-31T09:28:57.82647659-08:00","updated_at":"2026-01-04T16:56:51.191699481-08:00","closed_at":"2026-01-04T16:56:51.191699481-08:00","close_reason":"All primary child tasks for campaign systems, UI, and economy have been implemented and verified."}
{"id":"voidlock-j04j","title":"UI: Display Global Stats in Main Menu","description":"Implements spec/ui.md#main-menu. 1) Update src/index.html to add a #global-stats-tally container in the Main Menu (e.g., bottom-right corner). 2) Update src/renderer/app/GameApp.ts (or main.ts) to fetch MetaManager.getStats() and display 'Total Kills: X | Campaigns Won: Y' on startup/return to menu.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T17:11:10.091945146-08:00","created_by":"rkj","updated_at":"2026-01-17T19:43:38.318116355-08:00","closed_at":"2026-01-17T19:43:38.318116355-08:00","close_reason":"Implemented cumulative global stats (Total Kills, Campaigns Won) display on the Main Menu. Verified with integration tests and build.","dependencies":[{"issue_id":"voidlock-j04j","depends_on_id":"voidlock-cbdu","type":"blocks","created_at":"2026-01-17T17:11:54.048402833-08:00","created_by":"rkj"},{"issue_id":"voidlock-j04j","depends_on_id":"voidlock-hei5","type":"blocks","created_at":"2026-01-17T17:11:59.087142586-08:00","created_by":"rkj"}]}
{"id":"voidlock-j0p","title":"Increase test coverage for LineOfSight.ts to 100%","description":"Ensure robust testing for visibility logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:23.849905747-08:00","updated_at":"2026-01-03T19:08:39.611828568-08:00","closed_at":"2025-12-21T10:12:56.818714355-08:00","dependencies":[{"issue_id":"voidlock-j0p","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:23.850715502-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-j28","title":"Refactor Ship Generators","description":"Update 'TreeShipGenerator' and 'DenseShipGenerator' to use 'PlacementValidator' for exclusive entity placement during generation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:00:23.204784423-08:00","updated_at":"2026-01-03T19:08:39.814343131-08:00","closed_at":"2025-12-29T20:08:12.09479087-08:00","dependencies":[{"issue_id":"voidlock-j28","depends_on_id":"voidlock-cwp","type":"parent-child","created_at":"2025-12-29T18:00:23.205442961-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-j4l","title":"Document deterministic tick loop and PRNG usage","description":"Update ARCHITECTURE.md with details on the simulation loop and PRNG.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:16.964545974-08:00","updated_at":"2026-01-03T19:08:39.616150581-08:00","closed_at":"2025-12-21T10:09:10.211424841-08:00","dependencies":[{"issue_id":"voidlock-j4l","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:16.965432127-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ja2","title":"Update Renderer for Thin Walls","description":"Visualize thin walls and larger scale tiles","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:04:06.644927986-08:00","updated_at":"2026-01-03T19:08:39.657550324-08:00","closed_at":"2025-12-13T13:08:12.469647393-08:00","dependencies":[{"issue_id":"voidlock-ja2","depends_on_id":"voidlock-m1z","type":"parent-child","created_at":"2025-12-13T13:04:06.6454825-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-jcu","title":"Update AGENTS.md with 'only use jj, never git' rule","description":"Add an explicit instruction to AGENTS.md that the agent must only use jj commands for version control and never git commands.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:01:52.191745703-08:00","updated_at":"2026-01-03T19:08:39.866536855-08:00","closed_at":"2025-12-13T14:02:03.6811095-08:00"}
{"id":"voidlock-jfcp","title":"Add Void Cell Validation Tests","description":"Add specific unit tests to ensure: 1) All boundaries between Floor and Void cells are strictly Walls. 2) No entities (Spawns, Squad, Extraction, Objectives) are placed on Void cells. Add these to 'tests/engine/MapValidation.test.ts' (or similar).","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T21:29:17.287740716-08:00","created_by":"rkj","updated_at":"2026-01-06T19:47:32.747237854-08:00","closed_at":"2026-01-06T19:47:32.747237854-08:00","close_reason":"Added comprehensive validation tests for Void cells: boundary integrity and entity placement checks.","dependencies":[{"issue_id":"voidlock-jfcp","depends_on_id":"voidlock-lgqj","type":"blocks","created_at":"2026-01-04T21:29:47.657286542-08:00","created_by":"rkj"}]}
{"id":"voidlock-jiz","title":"Rebrand: Voidlock","description":"Rename the game from 'Xenopurge' to 'Voidlock'.\\n\\n**Context:**\\nVoidlock reflects the dual terrors: the Void outside and the Lock of combat inside.\\n\\n**Scope:** Docs, Config, UI, Code.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-01T19:33:11.951493773-08:00","updated_at":"2026-01-03T19:08:39.92518449-08:00","closed_at":"2026-01-02T21:55:19.475623899-08:00","close_reason":"All child tasks (Docs, Config, UI, Code) completed. Project successfully rebranded to Voidlock."}
{"id":"voidlock-jl5o","title":"Fix Ironman Campaign Game Over","description":"Update CampaignManager and UI to enforce Game Over on Ironman mission failure. See `spec/campaign.md#23-difficulty-levels`.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T19:23:37.486290935-08:00","created_by":"rkj","updated_at":"2026-01-06T18:39:00.095872198-08:00","closed_at":"2026-01-06T18:39:00.095872198-08:00","close_reason":"Implemented Ironman Game Over. Updated CampaignState, CampaignManager logic, and CampaignScreen UI. Verified with new regression tests and full suite pass."}
{"id":"voidlock-jl5o.1","title":"Update CampaignState Type","description":"See `spec/campaign.md`.\n\n**Goal**: Add status field to CampaignState.\n\n**Input**: `src/shared/campaign_types.ts`\n**Logic**: \n- Update `CampaignState` interface to include `status: \"Active\" | \"Victory\" | \"Defeat\"`.\n- Ensure backward compatibility if necessary (optional in Typescript, but consider data migration if needed later, though for now just type update).\n**Output**: Updated type definition.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:23:54.966699638-08:00","created_by":"rkj","updated_at":"2026-01-06T18:39:25.279914291-08:00","closed_at":"2026-01-06T18:39:25.279914291-08:00","close_reason":"Completed as part of Epic voidlock-jl5o","dependencies":[{"issue_id":"voidlock-jl5o.1","depends_on_id":"voidlock-jl5o","type":"parent-child","created_at":"2026-01-04T19:23:54.981236086-08:00","created_by":"rkj"}]}
{"id":"voidlock-jl5o.2","title":"Create Reproduction Test for Ironman Game Over","description":"See `spec/campaign.md`.\n\n**Goal**: Verify that Ironman campaigns fail correctly.\n\n**Input**: `tests/engine/managers/CampaignManager.test.ts`\n**Logic**:\n- Add `it(\"should mark campaign as Defeat when Ironman mission is lost\")`.\n- Setup: `startNewCampaign(..., \"Hard\")` (Ironman).\n- Action: `processMissionResult` with `result: \"Lost\"`.\n- Assert: `state.status` is \"Defeat\".\n**Output**: A failing test case.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:24:00.028960397-08:00","created_by":"rkj","updated_at":"2026-01-06T18:39:25.298329184-08:00","closed_at":"2026-01-06T18:39:25.298329184-08:00","close_reason":"Completed as part of Epic voidlock-jl5o","dependencies":[{"issue_id":"voidlock-jl5o.2","depends_on_id":"voidlock-jl5o","type":"parent-child","created_at":"2026-01-04T19:24:00.042193245-08:00","created_by":"rkj"},{"issue_id":"voidlock-jl5o.2","depends_on_id":"voidlock-jl5o.1","type":"blocks","created_at":"2026-01-04T19:24:23.358327025-08:00","created_by":"rkj"}]}
{"id":"voidlock-jl5o.3","title":"Implement Ironman Defeat Logic","description":"See `spec/campaign.md`.\n\n**Goal**: Enforce Game Over on Ironman loss.\n\n**Input**: `src/engine/managers/CampaignManager.ts`\n**Logic**:\n1. In `startNewCampaign`, initialize `state.status = \"Active\"`.\n2. In `processMissionResult`:\n   - If `state.rules.deathRule === \"Iron\"` AND `report.result === \"Lost\"`, set `state.status = \"Defeat\"`.\n3. Add `public deleteSave(): void` method to `CampaignManager` that calls `this.storage.remove(STORAGE_KEY)`.\n**Output**: Test from previous task passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:24:05.092452858-08:00","created_by":"rkj","updated_at":"2026-01-06T18:39:25.301662004-08:00","closed_at":"2026-01-06T18:39:25.301662004-08:00","close_reason":"Completed as part of Epic voidlock-jl5o","dependencies":[{"issue_id":"voidlock-jl5o.3","depends_on_id":"voidlock-jl5o","type":"parent-child","created_at":"2026-01-04T19:24:05.107636575-08:00","created_by":"rkj"},{"issue_id":"voidlock-jl5o.3","depends_on_id":"voidlock-jl5o.2","type":"blocks","created_at":"2026-01-04T19:24:28.409498278-08:00","created_by":"rkj"}]}
{"id":"voidlock-jl5o.4","title":"Update CampaignScreen for Game Over","description":"See `spec/campaign.md`.\n\n**Goal**: Display Game Over screen and handle save deletion.\n\n**Input**: `src/renderer/screens/CampaignScreen.ts`\n**Logic**:\n1. In `render()`, if `state.status === \"Defeat\"`, call `renderGameOver()`.\n2. Implement `renderGameOver()`:\n   - Show \"MISSION FAILED - CAMPAIGN OVER\".\n   - Show \"Return to Menu\" button.\n   - Button OnClick: Call `this.manager.deleteSave()` (add interface if needed) then `this.onBack()`.\n**Output**: UI showing Game Over state.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:24:10.157658648-08:00","created_by":"rkj","updated_at":"2026-01-06T18:39:39.891726851-08:00","closed_at":"2026-01-06T18:39:39.891726851-08:00","close_reason":"Completed as part of Epic voidlock-jl5o","dependencies":[{"issue_id":"voidlock-jl5o.4","depends_on_id":"voidlock-jl5o","type":"parent-child","created_at":"2026-01-04T19:24:10.168287511-08:00","created_by":"rkj"},{"issue_id":"voidlock-jl5o.4","depends_on_id":"voidlock-jl5o.3","type":"blocks","created_at":"2026-01-04T19:24:33.475336153-08:00","created_by":"rkj"}]}
{"id":"voidlock-jmwl","title":"chore","description":"Implements spec/campaign.md. Ref: docs/adr/0022-refactor-campaign-manager.md. Extract RosterManager, MissionReconciler, and EventManager.","status":"closed","priority":3,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:05:26.649963926-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T21:14:26.853655879-08:00","closed_at":"2026-01-18T21:14:26.853655879-08:00","close_reason":"Implemented via sub-agent and verified. Specialized logic extracted to src/engine/campaign/, tests and build pass."}
{"id":"voidlock-jo0","title":"Investigate Phantom Walls","description":"Investigate persistent issue where some cells appear to have missing walls but are impassable, or vice-versa. This might be a disconnect between the MapGenerator's wall logic and the GameGrid's movement logic, or a rendering artifact.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-20T12:23:31.910080683-08:00","updated_at":"2026-01-03T19:08:39.87130378-08:00","closed_at":"2025-12-21T07:31:05.013510027-08:00"}
{"id":"voidlock-jpt","title":"Update AGENTS.md with game access URL","description":"Add the game's access URL (http://192.168.20.8:5173/) to AGENTS.md for consistent reference.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T15:29:41.640852862-08:00","updated_at":"2026-01-03T19:08:39.660759039-08:00","closed_at":"2025-12-13T15:31:07.866220203-08:00"}
{"id":"voidlock-jrh5","title":"Integrate Generated Assets","description":"Update Renderer and ThemeManager to use the assets generated by `scripts/process_assets.ts` (png/webp) for Units and Enemies.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T19:43:33.661373261-08:00","created_by":"rkj","updated_at":"2026-01-04T21:01:15.926380692-08:00","closed_at":"2026-01-04T20:03:14.047109178-08:00"}
{"id":"voidlock-jrh5.1","title":"Fix Asset Processing: Crop Tokens","description":"Update `scripts/process_assets.ts` to crop the circular token from the source image.\n\n**Analysis**:\nThe source images (e.g. `Soldier Heavy.png`) contain a lot of empty padding around the central token.\nThe current script just resizes the whole image to 128x128, resulting in a tiny token with huge margins (letterboxing).\n\n**Goal**:\nDetect the content (token) and crop it tightly before resizing.\n\n**Logic**:\n1. Use `sharp().trim()`? No, `trim()` removes transparent pixels. If the background is black/colored (not transparent), `trim()` might not work or needs a threshold.\n2. If the background is solid black (looks like it in the preview), we can use `trim()` with a threshold.\n3. BETTER: Since these are circular tokens, we might need to extract the center circle.\n   - Or just rely on `trim()` if the background is uniform.\n   - Let us check the background. The preview shows a dark textured background. `trim()` might fail.\n   - **Alternative**: Define a crop region. All tokens seem centered.\n   - **Better Alternative**: Use `sharp` to detect edges or just brute force a center crop if they are uniform.\n   - **Observation**: The provided image shows a token in the center. It looks like a \"card\" style image.\n   - **Strategy**: Crop the center square.\n     - Source images are likely 1920x1080 or similar (generated art).\n     - We need to find the bounding box of the token.\n     - Since automation is key, `trim()` is best if we can make the background transparent first? No.\n     - **Constraint**: If the background is not transparent, we must crop.\n     - **Assumption**: The useful part is the circular token in the middle.\n     - **Action**: Update script to:\n       - Attempt `trim(threshold)`?\n       - OR: Use `extract` to crop the center. e.g. center 512x512?\n       - **Investigation needed**: I cannot see the pixel data. But I can guess from \"NanoBanana\" assets usually being uniform.\n       - Let us try a **Center Crop**.\n       - Read metadata of one image to see dimensions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:59:28.987159501-08:00","created_by":"rkj","updated_at":"2026-01-04T20:02:58.820857974-08:00","closed_at":"2026-01-04T20:02:58.820857974-08:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlock-jrh5.1","depends_on_id":"voidlock-jrh5","type":"parent-child","created_at":"2026-01-04T19:59:28.988306697-08:00","created_by":"rkj"}]}
{"id":"voidlock-jx1","title":"Feature: Configure Squad Size","description":"Add ability to add more soldiers (beyond default 2) to the mission in the Mission Setup screen.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-23T19:10:05.100535648-08:00","updated_at":"2026-01-03T19:08:39.406656958-08:00","closed_at":"2025-12-25T21:52:48.246308279-08:00"}
{"id":"voidlock-jx7s","title":"Implement Configurable Enemy Density","description":"Implements `spec/ai.md#4.3`\n\n**Goal:** Allow configuring the Base Wave Size and Growth Rate for enemy spawning.\n\n**Logic:**\n1. Modify `GameRules` or `MissionConfig` to include:\n   - `baseEnemyCount` (Default 3)\n   - `enemyGrowthPerMission` (Default 1)\n2. Modify `src/engine/Director.ts`:\n   - Update `spawnWave` logic.\n   - `WaveSize = baseEnemyCount + (missionDepth * enemyGrowthPerMission)`.\n   - Note: `missionDepth` might need to be passed in via `GameState` or derived from `threatLevel`. If using Threat Level: `WaveSize = Base + floor(Threat / 10)`.\n3. Campaign Integration:\n   - Mission 1 (Depth 0): 3 enemies.\n   - Mission 2 (Depth 1): 4 enemies.\n   - Etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:00:26.043953662-08:00","created_by":"rkj","updated_at":"2026-01-11T19:41:54.82892346-08:00","closed_at":"2026-01-11T19:41:54.82892346-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-k1z","title":"Implement Command Processing for ATTACK_TARGET","description":"Implement the engine-side processing for the ATTACK_TARGET command, allowing agents to force a unit to fire on a specific enemy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:29.358467758-08:00","updated_at":"2026-01-03T19:08:39.883804927-08:00","closed_at":"2025-12-14T13:08:15.509698285-08:00"}
{"id":"voidlock-k3x","title":"Implement LOS Visualization Overlay","description":"Add a toggle to visualize the field of view for all units (soldiers and enemies). Show the area visible from their current position, accounting for walls and closed doors. Update Renderer to support this overlay.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-23T18:54:45.409633623-08:00","updated_at":"2026-01-03T19:08:39.709952684-08:00","closed_at":"2025-12-23T19:03:10.163476579-08:00"}
{"id":"voidlock-k47","title":"Implement Coordinated Exploration","description":"Soldiers currently cluster together. Implement logic for them to coordinate exploration by selecting different target areas or dispersing to cover more ground efficiently.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T11:29:57.80655518-08:00","updated_at":"2026-01-03T19:08:39.678152862-08:00","closed_at":"2025-12-20T12:25:16.533712994-08:00"}
{"id":"voidlock-k4c","title":"Update AGENTS.md with 'commit after every Beads task' rule","description":"Add an explicit instruction to AGENTS.md that the agent must commit changes after the completion of every Beads task.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T15:29:41.618906995-08:00","updated_at":"2026-01-03T19:08:39.846064889-08:00","closed_at":"2025-12-13T15:31:07.851156174-08:00"}
{"id":"voidlock-k5q","title":"Modular Menu Redesign","description":"Redesign the command menu component for improved maintainability and scalability. \nPlan:\n1. Data-Driven Menu Configuration: Define the menu structure (states, available actions, transitions, and required data like targets or modes) in a TypeScript configuration object.\n2. Refactor MenuController: Primary role is to manage state and transitions based on configuration, not HTML generation.\n3. Dedicated Rendering Component: Introduce a function/component in main.ts to generate HTML from state/data, separating rendering from state.\n4. Event Delegation: Ensure listeners are attached to a stable parent element (like .command-menu).\n5. Sanitize Menu Text: Properly escape special characters (e.g., \u0026 to \u0026amp;) to prevent HTML normalization mismatches and re-render loops.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T11:22:41.017871922-08:00","updated_at":"2026-01-03T19:08:39.408990042-08:00","closed_at":"2025-12-25T21:59:23.261447321-08:00"}
{"id":"voidlock-k9j","title":"Bug: Show Room Labels on Map during Move Command","description":"When the user selects 'Move' and is presented with a list of Rooms (1, 2, 3...), they cannot identify which room is which on the map.\nRequirements:\n1. When the 'Move' submenu is active, the Renderer must draw an overlay showing the Room ID/Label over the center of each discovered room.\n2. Ensure the MenuController strictly filters the list of available rooms to only those that are 'Discovered' (in state.discoveredCells).","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-30T18:55:16.412637032-08:00","updated_at":"2026-01-03T19:08:39.855908868-08:00","closed_at":"2025-12-30T19:16:36.503799167-08:00"}
{"id":"voidlock-kck","title":"Implement MapGenerator.validate method","description":"Implement the validate(map) -\u003e issues[] method in MapGenerator to ensure generated or loaded maps meet defined criteria and identify potential issues.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:28:56.046670784-08:00","updated_at":"2026-01-03T19:08:39.660342073-08:00","closed_at":"2025-12-13T16:39:51.136902031-08:00"}
{"id":"voidlock-kj08","title":"Repro Abort Persistence","description":"Create integration test verifying mission state persists incorrectly after abort. Ref: spec/campaign.md#4.4","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T16:16:52.652899449-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T18:11:39.160824953-08:00","closed_at":"2026-01-19T18:11:39.160824953-08:00","close_reason":"Repro test created and verified failing."}
{"id":"voidlock-kj9","title":"Fix Malformed Rooms in TreeShipGenerator","description":"Ensure rooms (up to 2x2) are fully open internally (no U-shapes or dividing walls). This involves allowing local cycles within defined room areas while maintaining the macro-level acyclic structure. Also prevent rooms from overlapping in invalid ways.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T13:41:06.103897269-08:00","updated_at":"2026-01-03T19:08:39.878549819-08:00","closed_at":"2025-12-18T13:47:31.023583709-08:00"}
{"id":"voidlock-ko2","title":"Implement Multi-Screen UI Architecture","description":"Refactor the game UI into distinct screens (Main Menu, Campaign, Mission Setup, Mission) as per updated spec section 8.1. This involves creating a ScreenManager to handle state transitions and moving existing UI controls to their respective screens.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T18:22:18.559600327-08:00","updated_at":"2026-01-03T19:08:39.921287588-08:00","closed_at":"2025-12-15T18:34:01.306822822-08:00"}
{"id":"voidlock-ksx","title":"Update Map Generators to new Boundary structure","description":"Update DenseShipGenerator, SpaceshipGenerator, and TreeShipGenerator to output the new boundary-based representation instead of setting cell.walls.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T15:33:04.254047655-08:00","updated_at":"2026-01-03T19:08:39.425973853-08:00","closed_at":"2025-12-24T16:23:18.827224508-08:00","dependencies":[{"issue_id":"voidlock-ksx","depends_on_id":"voidlock-ht1","type":"parent-child","created_at":"2025-12-24T15:33:04.255227847-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-kwr","title":"UI: Add PICKUP, EXTRACT, and ESCORT to MenuConfig","description":"Update MenuConfig to include PICKUP, EXTRACT, and ESCORT commands.\\n\\n**Spec:** spec/ui.md#menu-hierarchy\\n**Spec:** spec/commands.md#51-menu-hierarchy\\n\\n**Requirements:**\\n- Add missing entries to MenuConfig.\\n- Ensure correct state transitions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:04:08.754010447-08:00","updated_at":"2026-01-03T19:08:39.926984387-08:00","closed_at":"2026-01-03T13:22:06.076607047-08:00","close_reason":"Added PICKUP, EXTRACT, and ESCORT to MenuConfig. Implemented EXTRACT command logic and expanded PICKUP support. Updated MenuController for new transitions and overlays. Verified with new tests and browser validation. Version bumped to 0.47.0."}
{"id":"voidlock-kzw","title":"Implement Space Hulk Map Validation Pipeline","description":"Develop functionality to validate assembled Space Hulk maps, ensuring connectivity, door placement legality, and reachability of spawn points and objectives.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:24.954691994-08:00","updated_at":"2026-01-03T19:08:39.636639399-08:00","closed_at":"2025-12-14T12:58:25.339667318-08:00","labels":["complexity:hard"]}
{"id":"voidlock-l0b","title":"Refactor Game Loop: Smooth 60fps with Time Scaling","description":"Decouple update rate from game speed. \\n1. Set Worker TICK_RATE to ~16ms (60Hz) for smooth updates.\\n2. Implement 'timeScale' in CoreEngine to control game speed (e.g., 0.3x for slow mo).\\n3. Update UI slider to control Time Scale instead of Tick Rate.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T18:29:14.294390071-08:00","updated_at":"2026-01-03T19:08:39.570523883-08:00","closed_at":"2025-12-22T21:02:01.654527241-08:00"}
{"id":"voidlock-l241","title":"Define \u0026 Enforce Screen Transition State Machine","description":"Define \u0026 Enforce Screen Transition State Machine.\n\n1.  **Define Schema**: Create `src/renderer/ScreenTransitions.ts` using the schema below:\n\n```typescript\nexport const VALID_TRANSITIONS: Record\u003cScreenId, ScreenId[]\u003e = {\n  \"main-menu\": [\"campaign\", \"mission-setup\"],\n  \"campaign\": [\"main-menu\", \"barracks\", \"equipment\", \"mission\"],\n  \"mission-setup\": [\"main-menu\", \"equipment\", \"mission\"],\n  \"equipment\": [\"campaign\", \"mission-setup\"],\n  \"barracks\": [\"campaign\"],\n  \"mission\": [\"main-menu\", \"campaign\", \"debrief\"],\n  \"debrief\": [\"main-menu\", \"campaign\"]\n};\n```\n\n2.  **Enforce in ScreenManager**:\n    - Import `VALID_TRANSITIONS`.\n    - In `show(id)`, validate `id` against `VALID_TRANSITIONS[currentScreen]`.\n    - Log error if invalid.\n3.  **Implement Campaign Restart**:\n    - Add \"New Campaign\" button in `CampaignScreen`.\n    - Trigger `CampaignManager.reset()`.\n    - Force transition: `campaign` -\u003e `main-menu` (allow this specific flow for reset).\n4.  **Verify**: Ensure navigation works and invalid jumps are caught.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:13:03.318610799-08:00","created_by":"rkj","updated_at":"2026-01-05T07:06:22.969449175-08:00","closed_at":"2026-01-05T07:06:22.969449175-08:00","close_reason":"Implemented via sub-agent and verified. Screen transition state machine enforced in ScreenManager. Campaign reset functionality added to CampaignManager and CampaignScreen. New tests added and verified. Pre-existing build/test errors identified as unrelated."}
{"id":"voidlock-l5qf","title":"FR: Add Reset Data button to Main Menu","description":"Implements `spec/ui.md#main-menu`\n\nAdds a 'Reset Data' button to the Main Menu screen.\n- **Action:** When clicked, show a confirmation dialog ('Are you sure? This will wipe all campaign progress and settings.').\n- **On Confirm:** Execute `localStorage.clear()` and `window.location.reload()`.\n- **UI:** Place this button below the main mode buttons, possibly with a warning color or separated by spacing.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T21:45:30.72226627-08:00","created_by":"rkj","updated_at":"2026-01-09T18:52:53.313516899-08:00","closed_at":"2026-01-09T18:52:53.313516899-08:00","close_reason":"Implemented Reset Data button on Main Menu. Verified with build, automated tests, and manual UI verification."}
{"id":"voidlock-l69","title":"Add Spawn Point Count Configuration","description":"Add input to Mission Setup to configure the number of initial spawn points (1-10). Ensure it is passed to the generator.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T17:23:33.382255458-08:00","updated_at":"2026-01-03T19:08:39.877136925-08:00","closed_at":"2025-12-23T17:40:44.799594575-08:00"}
{"id":"voidlock-l72","title":"UI: Implement Barracks and Roster Management","description":"Implement the squad management interface.\\n\\n**Spec:** spec/campaign.md#11-the-command-bridge-loop\\n**ADR:** docs/adr/0003-campaign-system-architecture.md\\n\\n**Requirements:**\\n- View Roster.\\n- Recruit new soldiers.\\n- Heal wounded soldiers.\\n- Assign equipment.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:15:19.465755622-08:00","updated_at":"2026-01-03T19:08:39.680997072-08:00","closed_at":"2026-01-03T14:09:47.285370109-08:00","close_reason":"Implemented Barracks and Roster Management UI. Fixed initial equipment bug and UI desync issue. Verified with new tests and browser validation. Version bumped to 0.51.1.","dependencies":[{"issue_id":"voidlock-l72","depends_on_id":"voidlock-q2s","type":"blocks","created_at":"2026-01-01T18:37:04.131976298-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-l7b8","title":"UI: Improve Squad Roster Sorting \u0026 Visuals","description":"Implements spec/ui.md#squad-configuration. Modify src/renderer/app/GameApp.ts (renderSquadBuilder): 1) Sort the rendered roster: Healthy \u003e Wounded \u003e Dead. 2) Visuals: Add a .deployed class to roster cards that are currently assigned to a slot. Style it (e.g., dimmed, blue border) to be distinct from .dead (red/gray) and normal cards.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T17:10:57.732041074-08:00","created_by":"rkj","updated_at":"2026-01-17T19:38:09.34603055-08:00","closed_at":"2026-01-17T19:38:09.34603055-08:00","close_reason":"Implemented roster sorting (Healthy \u003e Wounded \u003e Dead) and added .deployed class to distinguish assigned soldiers. Verified with tests and UI inspection.","dependencies":[{"issue_id":"voidlock-l7b8","depends_on_id":"voidlock-cbdu","type":"blocks","created_at":"2026-01-17T17:11:43.966519284-08:00","created_by":"rkj"},{"issue_id":"voidlock-l7b8","depends_on_id":"voidlock-hei5","type":"blocks","created_at":"2026-01-17T17:11:49.011154949-08:00","created_by":"rkj"}]}
{"id":"voidlock-l8tc","title":"Standardize string casing in specification files","description":"Scrutinize all spec files and convert ALL_CAPS strings to Title Case or lower case. Technical acronyms like ADR, DAG, XP, HP, HUD, LOS, VIP, and AI must remain capitalized. normative language like MUST/SHOULD should be converted to italicized emphasis.","status":"closed","priority":1,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:12:57.148734328-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-17T20:18:12.076352523-08:00","closed_at":"2026-01-17T20:18:12.076352523-08:00","close_reason":"Updated specification files to use Title Case for UI strings and appropriate emphasis."}
{"id":"voidlock-l9w","title":"Docs: Finalize Speed ADR","description":"Update docs/adr/0011-standardized-unit-speed.md status to 'Implemented' once the refactor is complete.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:22:10.875346699-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.864012327-08:00","closed_at":"2026-01-03T17:46:49.257146991-08:00","close_reason":"Marked ADR-0011 as Implemented following the successful refactor and verification. Version bumped to 0.52.2.","dependencies":[{"issue_id":"voidlock-l9w","depends_on_id":"voidlock-d2w","type":"blocks","created_at":"2026-01-03T17:22:32.286893898-08:00","created_by":"rkj"}]}
{"id":"voidlock-lcv","title":"Epic: Door Breach Mechanics","description":"Separate Line of Sight (LOS) from Line of Fire (LOF) for opening doors.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T18:00:27.377437494-08:00","updated_at":"2026-01-03T19:08:39.916866902-08:00","closed_at":"2025-12-30T19:24:45.748838451-08:00"}
{"id":"voidlock-leyp","title":"Feat: Implement Statistics Screen (Service Record)","description":"Implements spec/ui.md#8.11. 1) Create StatisticsScreen.ts to display cumulative stats from MetaManager: Campaigns Started/Won/Lost, Total Kills, Total Casualties, Missions Played/Won, and Total Scrap Earned. 2) Register the screen in ScreenManager. 3) Add a 'Statistics' button to the Main Menu in index.html. 4) Remove the legacy #global-stats-tally and its update logic from GameApp.ts.","status":"closed","priority":1,"issue_type":"feature","owner":"rkj@google.com","created_at":"2026-01-17T19:54:55.994970581-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-17T20:39:10.429528196-08:00","closed_at":"2026-01-17T20:39:10.429528196-08:00","close_reason":"Implemented Statistics Screen via sub-agent. Verified with build and full test suite (274 passes)."}
{"id":"voidlock-lgqj","title":"Refactor CellType.Wall to CellType.Void","description":"Rename 'CellType.Wall' to 'CellType.Void' in 'src/shared/types.ts' and update all references in the codebase (Graph.ts, MapGenerator.ts, tests, etc.). Ensure the string value is 'Void'. See 'spec/map.md'.","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-01-04T21:28:59.035515999-08:00","created_by":"rkj","updated_at":"2026-01-06T19:44:30.606839637-08:00","closed_at":"2026-01-06T19:44:30.606839637-08:00","close_reason":"Renamed CellType.Wall to Void. Updated engine, tests, and all JSON snapshots.","dependencies":[{"issue_id":"voidlock-lgqj","depends_on_id":"voidlock-807j","type":"blocks","created_at":"2026-01-04T21:29:28.820690754-08:00","created_by":"rkj"}]}
{"id":"voidlock-lgy","title":"Bug: Game Speed/Pause State Leaks Across Sessions","description":"When a new mission starts, the engine inherits the time scale and pause state from the previous session (e.g., if the user was in Active Pause or slow motion when they died/quit).\nExpected Behavior:\n1. INIT command must reset the engine's internal  and  flags.\n2. The initial speed should match the Mission Configuration (default 1.0), NOT the previous session's ending state.\n3. Any 'Active Pause' (0.05x) state must be cleared.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T20:36:56.57935686-08:00","updated_at":"2026-01-03T19:08:39.460684389-08:00","closed_at":"2025-12-30T18:54:21.684705813-08:00"}
{"id":"voidlock-li4","title":"Remove walls from CellDefinition","description":"Remove the 'walls' field from 'CellDefinition' in src/shared/types.ts. Update MapDefinition to use a boundary-based representation (e.g., a list of wall segments) to serve as the source for Graph hydration.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T15:33:04.229768103-08:00","updated_at":"2026-01-03T19:08:39.708730281-08:00","closed_at":"2025-12-24T16:22:39.883143962-08:00","dependencies":[{"issue_id":"voidlock-li4","depends_on_id":"voidlock-ht1","type":"parent-child","created_at":"2025-12-24T15:33:04.231335426-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-lsw","title":"Implement DenseShipGenerator","description":"Implement a new map generator as per spec.md. Features: \u003e90% fill rate, hierarchical room depth (Corridors -\u003e Depth 1 -\u003e Depth 2...), strict acyclic tree structure, configurable max depth based on difficulty.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:49:12.131227612-08:00","updated_at":"2026-01-03T19:08:39.674346864-08:00","closed_at":"2025-12-21T10:40:03.705599859-08:00"}
{"id":"voidlock-lu6x","title":"Setup Deployment Pipeline","description":"Configure the project for automated deployment to GitHub Pages via GitHub Actions.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-17T18:13:09.545699924-08:00","created_by":"rkj","updated_at":"2026-01-17T19:28:53.675563563-08:00","closed_at":"2026-01-17T19:28:53.675563563-08:00","close_reason":"GitHub Actions deployment setup and runtime asset pathing fixed for GitHub Pages."}
{"id":"voidlock-lv7j","title":"Fix Unit Movement on Refresh","description":"When refreshing the page during a mission, unit movement state is lost (they stand still) even though the game state is preserved. Investigate `UnitManager` or `GameClient` restoration logic to ensure active move commands are resumed or re-issued upon reconnection.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-07T07:10:27.758148398-08:00","created_by":"rkj","updated_at":"2026-01-07T07:56:36.743511777-08:00","closed_at":"2026-01-07T07:56:36.743511777-08:00","close_reason":"Implemented current tick persistence in GameClient and updated CoreEngine to catch up to the target tick during initialization. This ensures units are in the correct position and maintain their movement state after a page refresh. Added a new regression test and verified with the full suite. Build and lint pass."}
{"id":"voidlock-lvv","title":"Implement PlacementValidator","description":"Create 'src/engine/generators/PlacementValidator.ts' with logic to track occupied cells and reject invalid candidates.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:00:15.589269522-08:00","updated_at":"2026-01-03T19:08:39.829153059-08:00","closed_at":"2025-12-29T20:08:12.043646543-08:00","dependencies":[{"issue_id":"voidlock-lvv","depends_on_id":"voidlock-cwp","type":"parent-child","created_at":"2025-12-29T18:00:15.590808238-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ly2","title":"Create renderObjectivesList helper in HUDManager","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:28:46.869362704-08:00","updated_at":"2026-01-03T19:08:39.766764591-08:00","closed_at":"2025-12-30T19:07:23.875187152-08:00","dependencies":[{"issue_id":"voidlock-ly2","depends_on_id":"voidlock-6ky","type":"parent-child","created_at":"2025-12-29T20:28:46.870060842-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-m1z","title":"M7: Spaceship Map \u0026 Thin Walls","description":"Refactor to thin walls between cells and implement spaceship corridor generation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:04:00.921219346-08:00","updated_at":"2026-01-03T19:08:39.634722502-08:00","closed_at":"2025-12-13T13:08:12.483334182-08:00"}
{"id":"voidlock-m42","title":"Distinct enemy shapes and difficulty","description":"Render different shapes for different enemy types and display their difficulty number.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T09:27:02.147275876-08:00","updated_at":"2026-01-03T19:08:39.680513322-08:00","closed_at":"2025-12-26T10:21:12.267116405-08:00"}
{"id":"voidlock-m5l","title":"Campaign: Implement CampaignScreen UI","description":"Create 'src/renderer/screens/CampaignScreen.ts'. Visualizes the Sector Map (DAG) using Canvas or DOM. Allows node selection and launching missions. Register in 'ScreenManager'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T21:21:54.432619488-08:00","updated_at":"2026-01-03T19:08:39.422865927-08:00","closed_at":"2025-12-31T21:29:13.315414549-08:00","dependencies":[{"issue_id":"voidlock-m5l","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T21:21:54.434689387-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-m9b","title":"Re-add missing workflow rule to AGENTS.md","description":"Correct the accidental removal of the workflow rule 'When a new change is requested, first update spec.md with the extra clarification, then create Beads tasks for the implementation' from AGENTS.md.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T13:42:52.100643749-08:00","updated_at":"2026-01-03T19:08:39.89090213-08:00","closed_at":"2025-12-13T13:43:04.223840316-08:00"}
{"id":"voidlock-mdi","title":"Update Visual Scale","description":"Increase tile size to 128px for better visibility","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:11:34.279408175-08:00","updated_at":"2026-01-03T19:08:39.844130393-08:00","closed_at":"2025-12-13T13:13:36.114608471-08:00","dependencies":[{"issue_id":"voidlock-mdi","depends_on_id":"voidlock-4kk","type":"parent-child","created_at":"2025-12-13T13:11:34.280365249-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-mec","title":"Add comprehensive cycle detection utility tests","description":"Add comprehensive test cases to src/engine/tests/CycleDetection.test.ts for mapToAdjacencyList and hasCycleDFS, including complex cycle examples from GeeksforGeeks, to fully verify their correctness. This is a prerequisite for debugging the TreeShipGenerator.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T18:29:20.967803057-08:00","updated_at":"2026-01-03T19:08:39.626651073-08:00","closed_at":"2025-12-14T18:35:38.644766219-08:00","labels":["complexity:hard"]}
{"id":"voidlock-megr","title":"Fix Equipment Persistence \u0026 Economy","description":"Superseded by atomic tickets voidlock-p98x, voidlock-u12y, voidlock-l33t, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:15:19.488915078-08:00","created_by":"rkj","updated_at":"2026-01-07T20:18:47.670732752-08:00","closed_at":"2026-01-07T20:18:47.67073736-08:00"}
{"id":"voidlock-mfe","title":"Chore: Update MANAGER.md and AGENTS.md with TDD/Verification rules","description":"Update both files to be explicit that all changes must be confirmed by tests first. If browser verification finds a problem, a failing test MUST be written before fixing the code.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T13:28:53.650209248-08:00","updated_at":"2026-01-03T19:08:39.734298026-08:00","closed_at":"2025-12-26T13:41:01.915971881-08:00","labels":["documentation"]}
{"id":"voidlock-min","title":"Code Health: Test Reorganization","description":"Refactor project structure to separate tests from source code.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-01T18:20:54.993621158-08:00","updated_at":"2026-01-03T19:08:39.920350811-08:00","closed_at":"2026-01-03T14:14:46.129172976-08:00","close_reason":"Tests have been successfully moved to the top-level directory and reorganized as verified in previous turns.","dependencies":[{"issue_id":"voidlock-min","depends_on_id":"voidlock-ynn","type":"blocks","created_at":"2026-01-02T19:22:05.494991662-08:00","created_by":"rkj"}]}
{"id":"voidlock-mthu","title":"Implement Monotonic Sector Map Connections","description":"Implements `spec/campaign.md#3.1`\n\nRefine the connection logic in `SectorMapGenerator` (see voidlock-h1dk).\n\n**Algorithm (Monotonic Pathing):**\n1. Iterate through Rank `D` nodes from Top (Lane 0) to Bottom (Lane 3).\n2. Maintain `minTargetIndex` (starts at 0).\n3. For each Node `N` in Rank `D`:\n   - Determine a range of targets in Rank `D+1`.\n   - `startTarget` must be \u003e= `minTargetIndex`.\n   - `endTarget` is random (1-3 connections total), but typically \u003c= `startTarget + 2`.\n   - Connect `N` to all nodes in `[startTarget, endTarget]`.\n   - Update `minTargetIndex = endTarget`. (Wait, strictly updating min to end might leave gaps? Better: `minTargetIndex = startTarget`).\n   - *Correction for 'X' prevention:* If Node A connects to Target 2, and Node B (below A) connects to Target 1, that's an X.\n   - So: `minTargetIndex` for Node B MUST be \u003e= the *max* target index of Node A? No, they can share a target (V shape).\n   - **Correct Rule:** `Node[i].minTarget \u003e= Node[i-1].minTarget`.\n   - AND `Node[i].maxTarget \u003e= Node[i-1].maxTarget`? Not necessarily, but keeping them sorted helps.\n   - **Simpler:** Just ensure `TargetIndex` never decreases as we iterate down the source lanes.\n\n**Boss:**\n- The final node should be connected to ALL active nodes of the penultimate rank.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:11:06.695109089-08:00","created_by":"rkj","updated_at":"2026-01-11T20:38:31.150768205-08:00","closed_at":"2026-01-11T20:38:31.150768205-08:00","close_reason":"Implemented as part of voidlock-h1dk."}
{"id":"voidlock-mu7","title":"System: Implement LootManager and GameState.loot for dropped items","description":"Implement LootManager and GameState.loot for dropped items.\\n\\n**Spec:** spec/simulation.md#world-interaction-loot--drops\\n\\n**Requirements:**\\n- Add 'loot' array to GameState.\\n- Create LootManager to handle spawning/despawning.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:46:26.009984059-08:00","updated_at":"2026-01-03T19:08:39.442205112-08:00","closed_at":"2026-01-01T18:32:02.843636437-08:00"}
{"id":"voidlock-n0xw","title":"Refactor MenuController to State Machine","description":"Refactor `MenuController.ts` to implement the formal State Machine defined in `spec/ui.md#831-menu-state-machine`. Replace ad-hoc `if/else` logic with a structured transition table or explicit state handlers. Ensure `goBack()` respects the \"Previous State\" logic (e.g., returning to `ITEM_SELECT` from `TARGET_SELECT` if that was the path).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T07:12:17.296418591-08:00","created_by":"rkj","updated_at":"2026-01-07T08:01:46.982947455-08:00","closed_at":"2026-01-07T08:01:46.982947455-08:00","close_reason":"Refactored MenuController.ts to use a formal state machine with explicit handlers and a state stack for robust back-navigation. Added a new regression test suite and verified with all existing tests. Build and lint pass.","dependencies":[{"issue_id":"voidlock-n0xw","depends_on_id":"voidlock-7zx6","type":"blocks","created_at":"2026-01-07T07:12:25.397007259-08:00","created_by":"rkj"},{"issue_id":"voidlock-n0xw","depends_on_id":"voidlock-ilv8","type":"blocks","created_at":"2026-01-07T07:12:35.45095512-08:00","created_by":"rkj"},{"issue_id":"voidlock-n0xw","depends_on_id":"voidlock-gzlu","type":"blocks","created_at":"2026-01-07T07:12:43.348980808-08:00","created_by":"rkj"}]}
{"id":"voidlock-n4yn","title":"Implement Victory/Defeat Screens","description":"Implements `spec/campaign.md#5`\n\nModify `src/renderer/screens/CampaignScreen.ts`.\n\n**Task:**\n1. Update `render()`:\n   - If `state.status === 'Victory'`: Call `renderVictory()`.\n   - If `state.status === 'Defeat'`: Call `renderDefeat()` (Ensure this handles the 'Bankruptcy' message distinct from 'Ironman' if possible, or generic is fine).\n2. Implement `renderVictory()`:\n   - Full screen overlay.\n   - Gold/Green theme.\n   - Text: 'SECTOR SECURED'.\n   - Stats: Total Kills, Missions, etc.\n   - Button: 'Return to Main Menu' (Calls `manager.deleteSave()`, then `onBack`).\n3. Update `renderDefeat()` (Refactor existing `renderGameOver`):\n   - Ensure it works for the new Bankruptcy trigger.\n   - Button: 'Abandon Campaign' (Delete Save, Back).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:03:12.943009213-08:00","created_by":"rkj","updated_at":"2026-01-11T19:53:26.374151959-08:00","closed_at":"2026-01-11T19:53:26.374151959-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-n7o","title":"Increase test coverage for GameGrid.ts to 100%","description":"Ensure robust testing for core grid logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:23.78003092-08:00","updated_at":"2026-01-03T19:08:39.772197402-08:00","closed_at":"2025-12-21T10:11:10.02657629-08:00","dependencies":[{"issue_id":"voidlock-n7o","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:23.781295097-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-naa","title":"UI: Implement Squad Equipment Screen","description":"Create 'src/renderer/screens/EquipmentScreen.ts':\n1. Layout: Soldier List (Left), Paper Doll/Slots (Center), Armory/Global Inventory (Right).\n2. Logic:\n   - Allow assigning weapons/armor to soldier slots.\n   - Allow selecting count of Global Items (limited by 'Squad Supply Points' or just max count for now).\n   - Persist configuration to 'SquadConfig' passed to 'GameClient.init'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T08:37:25.005530946-08:00","updated_at":"2026-01-03T19:08:39.892055925-08:00","closed_at":"2025-12-31T19:50:19.044947333-08:00","dependencies":[{"issue_id":"voidlock-naa","depends_on_id":"voidlock-3th","type":"blocks","created_at":"2025-12-31T11:31:41.898769008-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-naa","depends_on_id":"voidlock-8e6","type":"blocks","created_at":"2025-12-31T11:31:41.914739478-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ne16","title":"UI: New Campaign Wizard","description":"Update 'New Campaign' UI to include Difficulty dropdown and Tactical Pause checkbox. Pass these values to 'CampaignManager.startNewCampaign()'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T10:31:10.143927945-08:00","created_by":"rkj","updated_at":"2026-01-04T16:52:05.659628624-08:00","closed_at":"2026-01-04T16:52:05.659628624-08:00","close_reason":"Implemented New Campaign Wizard UI and updated CampaignManager with tests."}
{"id":"voidlock-npn","title":"Docs: Write ADR-0010 Unit System Architecture","description":"Document the new architecture for the Unit system, splitting UnitManager into Movement, Combat, Stats, AI, and Command components. Define interfaces and responsibilities.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:54:02.980081171-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.44825312-08:00","closed_at":"2026-01-03T14:22:27.066870148-08:00","close_reason":"Documented Unit System Architecture in ADR-0010. Fixed MockStorage implementation in regression tests. Verified with successful build and passing test suite. Version bumped to 0.51.3."}
{"id":"voidlock-nty","title":"Engine: Implement Innate AI Profiles","description":"Implement the logic for the 3 innate behaviors described in spec/ai.md:\n1. STAND_GROUND: Maintain position and prioritize firing.\n2. RUSH: Minimize distance to highest-priority threat.\n3. RETREAT: Maximize distance from highest-priority threat while maintaining LOF.\nUpdate 'UnitManager.ts' to branch autonomous movement based on 'unit.aiProfile'.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T09:28:51.343446492-08:00","updated_at":"2026-01-03T19:08:39.420318042-08:00","closed_at":"2025-12-31T21:14:40.562773587-08:00"}
{"id":"voidlock-nw5y","title":"Implement Shop and Event Node Interactions","description":"Implements `spec/campaign.md#3.1`\n\n**Goal:** Prevent 'Shop' and 'Event' nodes from launching combat missions.\n\n**Logic:**\n1. Modify `src/renderer/screens/CampaignScreen.ts` in `onNodeSelect`.\n2. Check `node.type`.\n   - **Combat/Elite/Boss:** Proceed to Mission Setup (existing).\n   - **Shop:** Open a new `ShopScreen` (or reuse `BarracksScreen` in 'Shop Mode'?).\n     - *Simplification:* Show a simple alert 'Shop functionality coming soon. +100 Scrap granted.' and advance rank automatically for now to unblock the bug.\n     - *Better MVP:* Launch a non-combat UI where you can buy items.\n   - **Event:** Open a modal dialog.\n     - *MVP:* Simple text choice 'Search Wreckage'. 50% chance of Scrap, 50% chance of nothing. Advance rank.\n\n**Task Scope:**\n- Implement the *dispatch* logic in `CampaignScreen`.\n- Implement simple placeholder handlers for Shop/Event to prevent the 'Bait and Switch' combat bug.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:14:18.154531298-08:00","created_by":"rkj","updated_at":"2026-01-11T20:58:44.666019679-08:00","closed_at":"2026-01-11T20:58:44.666019679-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-nxy","title":"Engine: Refactor Speed Constant","description":"Create src/engine/Constants.ts with SPEED_NORMALIZATION_CONST = 30. Update UnitManager to use this instead of hardcoded '10'.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:16:57.098095247-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.497560748-08:00","closed_at":"2026-01-03T17:36:08.263513699-08:00","close_reason":"Refactored engine to use SPEED_NORMALIZATION_CONST = 30. Updated all managers and test suite. Verified with full test run, build, and visual inspection. Version bumped to 0.51.9.","dependencies":[{"issue_id":"voidlock-nxy","depends_on_id":"voidlock-z7i","type":"blocks","created_at":"2026-01-03T17:17:33.088717098-08:00","created_by":"rkj"}]}
{"id":"voidlock-o09","title":"UX: Redesign Threat Meter and Turn Counter","description":"Remove the separate 'Turn: X' display. The threat meter should have dividers every 10s to indicate spawn timing. The displayed percentage can exceed 100% (where Turn = percentage / 10), but the internal threat calculation cap remains at 100%.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T06:44:03.986170885-08:00","updated_at":"2026-01-03T19:08:39.413980538-08:00","closed_at":"2025-12-28T14:22:05.223076807-08:00"}
{"id":"voidlock-o3c","title":"Fix: Game Speed Reset on Unpause","description":"The game speed resets to 1x (or 0.3x) when unpausing, ignoring the user's previous selection (e.g. 5x). \\n\\nRequirement:\\n1. Create a regression test 'regression_mz3w_speed_reset.test.ts' that sets speed to 5x, pauses, unpauses, and asserts speed remains 5x.\\n2. Fix the logic in 'src/renderer/main.ts' or 'GameClient.ts' to preserve the speed setting.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T17:11:48.09330865-08:00","updated_at":"2026-01-03T19:08:39.726151008-08:00","closed_at":"2025-12-29T17:32:01.360990282-08:00"}
{"id":"voidlock-o4i","title":"UI: Update in-game text and branding","description":"Update Main Menu title, Credits, and any internal UI strings to 'Voidlock'. Link to voidlock-jiz.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T19:33:42.788087494-08:00","updated_at":"2026-01-03T19:08:39.504406783-08:00","closed_at":"2026-01-02T20:26:10.232326583-08:00","close_reason":"Updated Main Menu, Map Viewer, HUD, and package.json description to Voidlock. Version bumped to 0.43.18."}
{"id":"voidlock-o5k","title":"Define static map data structure and create JSON for screenshot map","description":"Design a JSON structure for static map definitions, including cells, walls, extraction, objectives, and spawns. Then, create a JSON file representing the map from the provided screenshot.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:24:18.457487062-08:00","updated_at":"2026-01-03T19:08:39.675990496-08:00","closed_at":"2025-12-13T13:24:35.06476909-08:00"}
{"id":"voidlock-oac","title":"Fix Threat Level Bar Alignment","description":"The dividers on the threat level bar are slightly misaligned. Ensure they are positioned correctly at 10%, 20%, 30%, etc.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T17:56:54.01458946-08:00","updated_at":"2026-01-03T19:08:39.621825521-08:00","closed_at":"2025-12-28T19:38:36.145176913-08:00"}
{"id":"voidlock-ocw","title":"Fix extraction command availability when extraction point is undiscovered","description":"The extraction command should only be available/executable when the extraction point has been discovered. Currently, units can be ordered to extract even if the point is unknown (and they go to it).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-31T19:39:34.493879672-08:00","updated_at":"2026-01-03T19:08:39.874045321-08:00","closed_at":"2025-12-31T19:45:28.936232427-08:00"}
{"id":"voidlock-oj3n","title":"Clarify Extraction Point visibility rules in spec","description":"Implements spec/map.md#extraction-point. Updates spec to explicitly state that the Extraction Point must respect Fog of War.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T21:44:48.5399029-08:00","created_by":"rkj","updated_at":"2026-01-17T15:49:54.469761133-08:00","closed_at":"2026-01-17T15:49:54.469761133-08:00","close_reason":"Implemented via sub-agent and verified. Updated spec/map.md to explicitly state Extraction Point visibility rules under Fog of War."}
{"id":"voidlock-osl","title":"Implement Keyboard Command Interface","description":"Interactive keyboard menu for issuing commands","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T12:43:59.816790345-08:00","updated_at":"2026-01-03T19:08:39.631321686-08:00","closed_at":"2025-12-13T12:47:04.60874382-08:00","dependencies":[{"issue_id":"voidlock-osl","depends_on_id":"voidlock-97y","type":"parent-child","created_at":"2025-12-13T12:43:59.817316737-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ots","title":"Update Combat Logic","description":"Update 'UnitManager.ts' to use 'hasLineOfFire' for attack execution (damage dealing) while maintaining 'hasLineOfSight' for target acquisition.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:00:35.198716728-08:00","updated_at":"2026-01-03T19:08:39.914732757-08:00","closed_at":"2025-12-30T19:04:10.954692989-08:00","dependencies":[{"issue_id":"voidlock-ots","depends_on_id":"voidlock-lcv","type":"parent-child","created_at":"2025-12-29T18:00:35.200293272-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-oue","title":"Enhance door rendering (thinner)","description":"Doors should render narrower (50% of cell width/height) and connect visually to adjacent walls to prevent gaps.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T19:00:20.917493126-08:00","updated_at":"2026-01-03T19:08:39.573219558-08:00","closed_at":"2025-12-22T18:18:36.615322366-08:00"}
{"id":"voidlock-p09","title":"AI/MapGen: VIP Rescue Mechanics","description":"Ensure VIPs do NOT count towards squad size. Implement rescue mechanics: VIPs spawn in separate quadrants, squad knows their position from start, and VIPs must be reached to be 'rescued'. Support multiple VIPs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T13:28:51.176253775-08:00","updated_at":"2026-01-03T19:08:39.543892982-08:00","closed_at":"2025-12-27T07:11:41.55529846-08:00","labels":["bug"]}
{"id":"voidlock-p1xl","title":"Update unitStyle tests for new default","description":"Implements spec/ui.md#8.6. Updates ConfigManager.unitStyle.test.ts and other renderer tests to expect TacticalIcons as the default style.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-17T20:44:57.871071056-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T17:46:28.568208383-08:00","closed_at":"2026-01-18T17:46:28.568208383-08:00","close_reason":"Already implemented as part of voidlock-fa00. ConfigManager.unitStyle.test.ts was updated to expect TacticalIcons as the default."}
{"id":"voidlock-p7yv","title":"chore","description":"Implements spec/ui.md. Ref: docs/adr/0021-refactor-menu-controller.md. Extract overlay generation into src/renderer/controllers/TargetOverlayGenerator.ts.","status":"closed","priority":3,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:05:21.591865631-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T21:10:01.706654414-08:00","closed_at":"2026-01-18T21:10:01.706654414-08:00","close_reason":"Implemented via sub-agent and verified. TargetOverlayGenerator extracted, MenuController refactored, tests and build pass."}
{"id":"voidlock-pai","title":"Docs: Write ADR-0006 Autonomous Agent Architecture","description":"Document the design of the AI system, including aiProfile and simulation tick synchronization. Link to spec/ai.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:23:18.600423544-08:00","updated_at":"2026-01-03T19:08:39.732366833-08:00","closed_at":"2026-01-02T09:06:25.822013188-08:00"}
{"id":"voidlock-pdex","title":"Refactor: Modular Map Generation (ADR 0016)","description":"Implements docs/adr/0016-modular-map-generation.md. Refactor MapGenerator.ts into MapFactory, MapSanitizer, and MapValidator.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-11T20:02:21.960505104-08:00","created_by":"rkj","updated_at":"2026-01-11T20:15:42.877381634-08:00","closed_at":"2026-01-11T20:15:42.877381634-08:00","close_reason":"Implemented via sub-agent and verified.","dependencies":[{"issue_id":"voidlock-pdex","depends_on_id":"voidlock-5lxb","type":"blocks","created_at":"2026-01-11T20:03:01.434174484-08:00","created_by":"rkj"}]}
{"id":"voidlock-pi6","title":"Remove Pending suffix in main.ts","description":"Update togglePause and slider event listener in src/renderer/main.ts to only show '0.05x' (or similar) instead of '0.05x (Pending: ...)'.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:30:37.701687656-08:00","updated_at":"2026-01-03T19:08:39.416608098-08:00","closed_at":"2025-12-30T19:10:34.33851009-08:00","dependencies":[{"issue_id":"voidlock-pi6","depends_on_id":"voidlock-6gb","type":"parent-child","created_at":"2025-12-29T20:30:37.703257857-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-pir","title":"Engine: Pacing \u0026 Game Speed Refactor","description":"Adjust game speed so current 1.0 is 2x slower (new 2.0). Decouple timed actions (collecting, extracting, threat increase) from game speed so they maintain their absolute durations in seconds.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T13:11:16.590950938-08:00","updated_at":"2026-01-03T19:08:39.94462146-08:00","closed_at":"2025-12-27T08:23:46.179689814-08:00","labels":["refactor"]}
{"id":"voidlock-pjs5","title":"Map Architecture Cleanup \u0026 Validation","description":"Epic to rename Wall cells to Void, optimize map serialization, and add strict validation tests.","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-04T21:28:32.721529442-08:00","created_by":"rkj","updated_at":"2026-01-06T19:57:29.401055995-08:00","closed_at":"2026-01-06T19:57:29.401055995-08:00","close_reason":"All sub-tasks completed: Spec updated, CellType refactored, validation tests added, and JSON serialization optimized."}
{"id":"voidlock-q2c7","title":"Fix: Pass campaignNodeId to Engine Worker","description":"Update GameClient.init to include campaignNodeId in the INIT message payload sent to the worker. Ensure CoreEngine preserves this ID in the MissionReport.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-14T21:07:57.687773791-08:00","created_by":"rkj","updated_at":"2026-01-14T21:12:22.649178875-08:00","closed_at":"2026-01-14T21:12:22.649178875-08:00","close_reason":"Fixed GameClient to propagate campaignNodeId to worker. Updated CoreEngine to store it.","dependencies":[{"issue_id":"voidlock-q2c7","depends_on_id":"voidlock-yl4e","type":"blocks","created_at":"2026-01-14T21:08:06.789309461-08:00","created_by":"rkj"}]}
{"id":"voidlock-q2s","title":"System: Implement CampaignManager and CampaignState with Persistence","description":"Implement the core state management for the campaign.\\n\\n**Spec:** spec/campaign.md#3-systems-overview\\n**ADR:** docs/adr/0003-campaign-system-architecture.md\\n\\n**Requirements:**\\n- Define CampaignState interface.\\n- Implement CampaignManager singleton.\\n- Implement LocalStorageProvider.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:15:19.130079788-08:00","updated_at":"2026-01-03T19:08:39.682940397-08:00","closed_at":"2026-01-01T18:45:11.233212843-08:00"}
{"id":"voidlock-q49","title":"Refactor: UnitManager Decomposition","description":"Break down the monolithic UnitManager (1200+ lines) into specialized sub-managers (Movement, Combat, AI, Stats, Commands) following SOLID principles.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T10:53:57.88625946-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.808924222-08:00","closed_at":"2026-01-03T18:01:30.671871615-08:00","close_reason":"The Epic is complete. UnitManager has been successfully decomposed into specialized components (MovementManager, CombatManager, UnitAI, StatsManager, CommandExecutor) as verified in previous turns.","dependencies":[{"issue_id":"voidlock-q49","depends_on_id":"voidlock-npn","type":"blocks","created_at":"2026-01-03T10:54:16.527147272-08:00","created_by":"rkj"},{"issue_id":"voidlock-q49","depends_on_id":"voidlock-7p2","type":"blocks","created_at":"2026-01-03T10:55:19.621916565-08:00","created_by":"rkj"},{"issue_id":"voidlock-q49","depends_on_id":"voidlock-uqq","type":"blocks","created_at":"2026-01-03T10:55:24.670331478-08:00","created_by":"rkj"},{"issue_id":"voidlock-q49","depends_on_id":"voidlock-b4m","type":"blocks","created_at":"2026-01-03T10:55:29.714334171-08:00","created_by":"rkj"},{"issue_id":"voidlock-q49","depends_on_id":"voidlock-bo0","type":"blocks","created_at":"2026-01-03T10:55:34.766106992-08:00","created_by":"rkj"}]}
{"id":"voidlock-qcm","title":"Implement Engine Worker","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.083312196-08:00","updated_at":"2026-01-03T19:08:39.523399277-08:00","closed_at":"2025-12-13T11:28:27.59112123-08:00","dependencies":[{"issue_id":"voidlock-qcm","depends_on_id":"voidlock-wrb","type":"parent-child","created_at":"2025-12-13T09:48:05.084642883-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-qe6","title":"Implement New Door Rendering Visuals","description":"Modify src/renderer/Renderer.ts to implement the new door color scheme (yellow for Closed, red for Locked) and a visual frame to indicate Open doors, as per spec.md.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:45:51.922128087-08:00","updated_at":"2026-01-03T19:08:39.662668515-08:00","closed_at":"2025-12-13T14:46:38.498887701-08:00"}
{"id":"voidlock-qfiw","title":"Implement Bonus Loot Spawning (Scrap Crates)","description":"Implements `spec/campaign.md#3.1`\n\n**Logic:**\n1. Modify `MapGenerator.ts` (and strategy-specific generators).\n2. Accept a `bonusLootCount` (0-3) in the config.\n3. Place X `Scrap Crate` loot items randomly in rooms (ensure they don't overlap with objectives or spawns).\n4. Update `LootManager.ts` to award a fixed amount of Scrap (approx 20% of base mission value) when picked up.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:12:51.057551672-08:00","created_by":"rkj","updated_at":"2026-01-11T20:52:24.000617137-08:00","closed_at":"2026-01-11T20:52:24.000617137-08:00","close_reason":"Implemented via sub-agent and verified."}
{"id":"voidlock-qgs","title":"Fix Shooting Through Walls (LOS)","description":"Soldiers and aliens are shooting through walls, ignoring Line of Sight. Investigate why existing LOS checks in CoreEngine/LineOfSight are failing or being bypassed during combat target selection.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-20T11:30:21.727894265-08:00","updated_at":"2026-01-03T19:08:39.619267465-08:00","closed_at":"2025-12-20T11:38:37.316371397-08:00"}
{"id":"voidlock-qhd","title":"Engine/UI: Increase Max Speed to 5x","description":"Allow the game speed multiplier to go up to 5x. Update the UI slider max value and the engine's time scale logic if necessary.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T10:01:31.421573718-08:00","updated_at":"2026-01-03T19:08:39.521603906-08:00","closed_at":"2025-12-27T10:38:13.875166521-08:00","labels":["engine","enhancement","ui"]}
{"id":"voidlock-qk2","title":"Refactor: Move index.html to src/","description":"Move index.html from root to src/index.html to follow Vite best practices. Update vite.config.ts if necessary.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-03T12:22:11.072710266-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.872625641-08:00","closed_at":"2026-01-03T18:06:23.748615277-08:00","close_reason":"Moved index.html to src/ and configured vite.config.ts as per Vite best practices. Verified with successful build and passing test suite. Version bumped to 0.52.4."}
{"id":"voidlock-qkj","title":"Fix all broken tests after Data Structure change","description":"Run the full test suite and update all tests and mock maps to match the new MapDefinition structure without cell.walls.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T15:33:04.281071655-08:00","updated_at":"2026-01-03T19:08:39.42518996-08:00","closed_at":"2025-12-24T16:23:28.424876177-08:00","dependencies":[{"issue_id":"voidlock-qkj","depends_on_id":"voidlock-ht1","type":"parent-child","created_at":"2025-12-24T15:33:04.282085982-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-qnkr","title":"Adjust Map Scaling for Non-Combat Nodes","description":"Superseded by voidlock-g77z (Global Growth Rate) per user feedback.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:17:57.273286587-08:00","created_by":"rkj","updated_at":"2026-01-07T21:23:39.29113898-08:00","closed_at":"2026-01-07T21:23:39.29114243-08:00"}
{"id":"voidlock-qvk","title":"Review code and simplify/align with spec","description":"Review the current codebase against spec.md to ensure alignment. Simplify implementation where possible and refactor to match the specified architecture and requirements.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T09:21:11.028842797-08:00","updated_at":"2026-01-03T19:08:39.794255581-08:00","closed_at":"2025-12-14T10:13:23.9868821-08:00"}
{"id":"voidlock-qx8","title":"Implement Canvas Renderer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.100715088-08:00","updated_at":"2026-01-03T19:08:39.539023706-08:00","closed_at":"2025-12-13T10:36:26.060516061-08:00","dependencies":[{"issue_id":"voidlock-qx8","depends_on_id":"voidlock-wrb","type":"parent-child","created_at":"2025-12-13T09:48:05.101259245-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-r12","title":"UI: Fix Unit Speed Display","description":"Display the raw 'speed' stat (e.g., 25) instead of the derived tiles-per-second (e.g., 2.5) in the UI.\\n\\nFiles to check:\\n- src/renderer/components/SoldierCard.ts (or similar)\\n- src/renderer/menus/SquadConfig.ts (or similar)\\n\\nRequirement:\\n- Use 'soldier.stats.speed' directly.\\n- Remove any division by 10 for display purposes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T13:28:05.44517175-08:00","updated_at":"2026-01-03T19:08:39.512079742-08:00","closed_at":"2026-01-01T16:55:26.213530541-08:00"}
{"id":"voidlock-r49","title":"Refactor Command System for Keyboard Navigation","description":"Refactor the command system to accept keyboard inputs for issuing commands hierarchically, enabling full keyboard control over unit actions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T20:01:16.397334341-08:00","updated_at":"2026-01-03T19:08:39.792090315-08:00","closed_at":"2025-12-22T20:57:03.197397452-08:00"}
{"id":"voidlock-r5v","title":"Update AGENTS.md with NEVER REMOVE TESTS mandate","description":"Add the ultra-critical instruction to AGENTS.md and memory regarding test preservation.","status":"closed","priority":0,"issue_type":"chore","created_at":"2025-12-25T09:12:45.156273447-08:00","updated_at":"2026-01-03T19:08:39.83942643-08:00","closed_at":"2025-12-25T09:12:48.350698111-08:00"}
{"id":"voidlock-r6y","title":"Improve Hive icon","description":"Replace the current square icon for the Hive objective with a more appropriate visual representation.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-26T09:27:02.166448016-08:00","updated_at":"2026-01-03T19:08:39.508039887-08:00","closed_at":"2025-12-26T10:21:12.289068982-08:00"}
{"id":"voidlock-rbp","title":"UI Cleanup \u0026 Assessment","description":"Assess the UI state via screenshot. Fix the excessive height of the soldier bar after button removal. Ensure the unit actions panel (including Stop) is clearly visible and functional in the right panel.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T19:39:31.611708422-08:00","updated_at":"2026-01-03T19:08:39.538327825-08:00","closed_at":"2025-12-23T19:59:02.437549314-08:00"}
{"id":"voidlock-rdq","title":"Improve LOS Visualization","description":"Update LOS visualization to be an overlay radiating from individual characters/enemies. It should be easy to tell which specific unit has LOS to a given area, instead of just painting the grid squares with a generic visible state.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T09:24:39.365147721-08:00","updated_at":"2026-01-03T19:08:39.550374514-08:00","closed_at":"2025-12-25T15:11:27.323133094-08:00"}
{"id":"voidlock-rec","title":"Implement BotHarness","description":"Create harness to run bots against GameClient","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:23:05.791503363-08:00","updated_at":"2026-01-03T19:08:39.929711014-08:00","closed_at":"2025-12-13T11:26:25.943746777-08:00","dependencies":[{"issue_id":"voidlock-rec","depends_on_id":"voidlock-2pv","type":"parent-child","created_at":"2025-12-13T11:23:05.792760275-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-rfw4","title":"Enforce Mission Cap on Consumables","description":"Implements `spec/campaign.md#3.4`\n\nModify `src/renderer/screens/EquipmentScreen.ts` in the Global Supplies section.\n\n**Task:**\n1. Limit the '+' button for consumable items (Grenades, Medkits, Scanners, Mines).\n2. The squad cannot take more than **2** of any single item type per mission.\n3. Disable the '+' button when the count reaches 2 and add a tooltip: 'Maximum 2 per mission reached'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:19:21.98333983-08:00","created_by":"rkj","updated_at":"2026-01-08T20:27:07.909798069-08:00","closed_at":"2026-01-08T20:27:07.909798069-08:00","close_reason":"Implemented a mission cap of 2 for consumables in EquipmentScreen.ts. Verified visually and with a new regression test."}
{"id":"voidlock-rg0","title":"Implement Replay System","description":"Serialize game config and command stream for deterministic replay","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:18:23.608278633-08:00","updated_at":"2026-01-03T19:08:39.756950979-08:00","closed_at":"2025-12-13T11:20:45.799508311-08:00","dependencies":[{"issue_id":"voidlock-rg0","depends_on_id":"voidlock-s0e","type":"parent-child","created_at":"2025-12-13T11:18:23.608904155-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-rgt7","title":"bug","description":"Implements spec/ui.md#8.8. Ensure UnitLayer is rendered AFTER static map entities (spawn points, loot crates) in GameRenderer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:20:38.378377423-08:00","created_by":"rkj","updated_at":"2026-01-13T21:50:41.626089997-08:00","closed_at":"2026-01-13T21:50:41.626089997-08:00","close_reason":"Implemented MapEntityLayer to fix rendering order. Verified with regression test.","dependencies":[{"issue_id":"voidlock-rgt7","depends_on_id":"voidlock-ynym","type":"blocks","created_at":"2026-01-13T21:45:02.420152275-08:00","created_by":"rkj"}]}
{"id":"voidlock-rke","title":"Generate global test coverage report","description":"Run  and analyze gaps.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:16.926095718-08:00","updated_at":"2026-01-03T19:08:39.617115017-08:00","closed_at":"2025-12-21T09:50:37.066700485-08:00","dependencies":[{"issue_id":"voidlock-rke","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:16.92702576-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-rlr","title":"Refine Spaceship Generator","description":"Update SpaceshipGenerator to produce dense layouts with max 2x2 rooms, doors connecting rooms to corridors, and high space utilization. Lower default size to 24x24.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T16:00:17.871442713-08:00","updated_at":"2026-01-03T19:08:39.788261344-08:00","closed_at":"2025-12-14T16:04:04.984525913-08:00","labels":["complexity:hard"]}
{"id":"voidlock-rmf","title":"Bug: Collection action interrupted by exploration","description":"When a unit is ordered to collect an item, it reaches the destination but immediately reverts to autonomous exploration instead of completing the channeling/collection process.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T10:26:11.123016756-08:00","updated_at":"2026-01-03T19:08:39.763247485-08:00","closed_at":"2025-12-26T12:05:17.707755521-08:00"}
{"id":"voidlock-rnu","title":"Implement active pause (0.05x speed) with Spacebar and UI button","description":"Pressing Spacebar or a UI button should toggle an 'active pause' state where game speed is 0.05x. The UI button should toggle between Pause and Play icons. Toggling off should restore the previous speed.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-23T21:12:56.682318197-08:00","updated_at":"2026-01-03T19:08:39.544557579-08:00","closed_at":"2025-12-24T09:12:33.153444318-08:00"}
{"id":"voidlock-rol","title":"UI Refactor: Stabilize Unit Card layout","description":"Refactor the soldier card UI to prevent 'jiggling' when states change:\\n- Move HP display to the end of the line.\\n- Replace IGNORE/ENGAGE text with icons next to the unit name.\\n- Make Dead status more prominent: set energy bar to zero and turn the entire card background red.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-24T15:45:08.926208603-08:00","updated_at":"2026-01-03T19:08:39.407799815-08:00","closed_at":"2025-12-24T15:45:17.710477068-08:00"}
{"id":"voidlock-rsa3","title":"Epic: Enhanced Campaign Settings","description":"Implementation of 4-tier difficulty and tactical settings.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T10:24:03.87211627-08:00","created_by":"rkj","updated_at":"2026-01-04T16:52:27.339258118-08:00","closed_at":"2026-01-04T16:52:27.339258118-08:00","close_reason":"All dependent tasks (voidlock-8hwf, voidlock-baq7, voidlock-go1q, voidlock-ne16) completed and verified.","dependencies":[{"issue_id":"voidlock-rsa3","depends_on_id":"voidlock-baq7","type":"blocks","created_at":"2026-01-04T10:31:30.602066568-08:00","created_by":"rkj"},{"issue_id":"voidlock-rsa3","depends_on_id":"voidlock-8hwf","type":"blocks","created_at":"2026-01-04T10:31:35.647365467-08:00","created_by":"rkj"},{"issue_id":"voidlock-rsa3","depends_on_id":"voidlock-go1q","type":"blocks","created_at":"2026-01-04T10:31:40.691214399-08:00","created_by":"rkj"},{"issue_id":"voidlock-rsa3","depends_on_id":"voidlock-ne16","type":"blocks","created_at":"2026-01-04T10:31:45.743263567-08:00","created_by":"rkj"}]}
{"id":"voidlock-rvz","title":"AI: Set Default Command to EXPLORE on Mission Start","description":"Set default command to EXPLORE for all units at mission start.\\n\\n**Spec:** spec/commands.md#32-default-behavior\\n\\n**Requirements:**\\n- In CoreEngine initialization, issue EXPLORE command to all squad units.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:02:51.315347859-08:00","updated_at":"2026-01-03T19:08:39.702210079-08:00","closed_at":"2026-01-01T18:36:17.00645805-08:00","dependencies":[{"issue_id":"voidlock-rvz","depends_on_id":"voidlock-6js","type":"blocks","created_at":"2026-01-01T18:39:13.828159739-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-s0e","title":"M3: Director + replay/export","description":"Enhance Director with ramping difficulty, and implement command stream record/replay","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:18:18.444072406-08:00","updated_at":"2026-01-03T19:08:39.762152696-08:00","closed_at":"2025-12-13T11:22:49.059058957-08:00"}
{"id":"voidlock-s78u","title":"Scale Starting Scrap by Difficulty","description":"The implementation is correct, but 'npm run build' failed with TypeScript errors in test files. Please fix the missing 'startingScrap' property in the following files:\n1. tests/engine/generators/SectorMapGenerator.test.ts\n2. tests/engine/generators/regression_g77z_scaling.test.ts\n3. tests/shared/campaign_types.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:19:30.392571262-08:00","created_by":"rkj","updated_at":"2026-01-08T21:18:36.47814061-08:00","closed_at":"2026-01-08T21:18:36.47814061-08:00","close_reason":"Implemented starting scrap scaling based on campaign difficulty. Verified with regression tests and full build check."}
{"id":"voidlock-s7z","title":"Refactor VisibilityPolygon to use Graph","description":"Update VisibilityPolygon to use Graph boundaries instead of the old cell.walls and map.doors structures. This ensures the visualization matches the engine's LOS logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T15:33:04.148003093-08:00","updated_at":"2026-01-03T19:08:39.705746517-08:00","closed_at":"2025-12-24T15:35:26.170749612-08:00","dependencies":[{"issue_id":"voidlock-s7z","depends_on_id":"voidlock-ht1","type":"parent-child","created_at":"2025-12-24T15:33:04.153290154-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-sf7","title":"Bug: Extraction All only works for one unit","description":"When selecting 'EXTRACT' -\u003e 'ALL UNITS', only one unit correctly proceeds to extraction. Other units may stop or roam around. Likely cause: Manual extraction command being overridden by autonomous exploration AI if objectives are pending, or issues with pathfinding/state transitions when multiple units target the same cell.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-24T15:39:04.205184094-08:00","updated_at":"2026-01-03T19:08:39.730365744-08:00","closed_at":"2025-12-25T21:11:02.972203961-08:00"}
{"id":"voidlock-spn","title":"AI: Implement ESCORT_UNIT command and Formation Behavior","description":"Implement ESCORT_UNIT command and formation behavior.\\n\\n**Spec:** spec/commands.md#21-escort-command\\n**ADR:** docs/adr/0006-autonomous-agent-architecture.md\\n\\n**Requirements:**\\n- Add ESCORT_UNIT to CommandType.\\n- Implement formation logic (Vanguard, Rearguard, Bodyguard).\\n- Sync movement speed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:46:26.042729566-08:00","updated_at":"2026-01-03T19:08:39.445355047-08:00","closed_at":"2026-01-03T12:56:17.7342684-08:00","close_reason":"Implemented ESCORT_UNIT command with formation logic and speed synchronization. Verified with new unit tests and existing test suite. Documentation updated and version bumped to 0.44.0.","dependencies":[{"issue_id":"voidlock-spn","depends_on_id":"voidlock-6js","type":"blocks","created_at":"2026-01-01T18:37:17.341588571-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-sstg","title":"Change Active Pause Speed to 0.05x","description":"Update Active Pause speed from 0.1x to 0.05x per user feedback. Ensure UI and Logic reflect this slower speed.\n\n**Constraints**:\n1. **Slider Range**: 0.1x - 10.0x (freely modifiable).\n2. **Active Pause**: 0.05x (Triggered by Button/Spacebar).\n3. **Campaign Rules**: If `allowTacticalPause` is FALSE, then Active Pause (0.05x) and Slowdown (\u003c1.0x) are disabled. Slider min is 1.0x. Button (Active Pause) is disabled.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T19:31:30.851621056-08:00","created_by":"rkj","updated_at":"2026-01-06T19:02:25.241759523-08:00","closed_at":"2026-01-06T19:02:25.241759523-08:00","close_reason":"Active Pause updated to 0.05x in Logic and UI. All regression tests fixed."}
{"id":"voidlock-sstg.1","title":"Update Specs for 0.05x Pause","description":"Update `spec/simulation.md` and `spec/ui.md` to reference 0.05x for Active Pause.\n\n**Spec**:\n- `spec/ui.md`: \n  - Slider Range: 0.1x - 10.0x (freely modifiable).\n  - Active Pause: 0.05x (Not on slider).\n  - Campaign \"No Tactical Pause\" mode: Slider 1.0x - 10.0x. Active Pause disabled.\n- `spec/simulation.md`:\n  - Active Pause = 0.05x.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:31:42.379472986-08:00","created_by":"rkj","updated_at":"2026-01-04T19:38:15.594490086-08:00","closed_at":"2026-01-04T19:38:15.594493866-08:00","dependencies":[{"issue_id":"voidlock-sstg.1","depends_on_id":"voidlock-sstg","type":"parent-child","created_at":"2026-01-04T19:31:42.393005675-08:00","created_by":"rkj"}]}
{"id":"voidlock-sstg.2","title":"Update GameClient Pause Logic","description":"See `src/engine/GameClient.ts`.\n\n**Goal**: Implement Active Pause (0.05x) logic while keeping Slider Range (0.1x-10x).\n\n**Logic**:\n- `setTimeScale(scale)`: \n  - Ensure slider inputs (0.1x - 10x) are respected.\n  - If `allowTacticalPause` is FALSE, clamp min to 1.0 (only speed up).\n- `togglePause()` (Button/Space):\n  - If `isPaused`: Resume to `lastNonPausedScale`.\n  - If `!isPaused`: \n    - If `allowTacticalPause` is TRUE: Set `isPaused=true`, send `0.05`.\n    - If `allowTacticalPause` is FALSE: Do nothing (Button disabled).\n- `getTimeScale()`: Return 0.05 if paused \u0026 tactical allowed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:31:47.447985357-08:00","created_by":"rkj","updated_at":"2026-01-06T18:57:43.23992744-08:00","closed_at":"2026-01-06T18:57:43.23992744-08:00","close_reason":"Implemented 0.05x Active Pause, time scale clamping, and Campaign 'No Tactical Pause' logic. Updated existing regression tests and added new ones. Bumped version to 0.66.0.","dependencies":[{"issue_id":"voidlock-sstg.2","depends_on_id":"voidlock-sstg","type":"parent-child","created_at":"2026-01-04T19:31:47.463611491-08:00","created_by":"rkj"},{"issue_id":"voidlock-sstg.2","depends_on_id":"voidlock-sstg.1","type":"blocks","created_at":"2026-01-04T19:32:06.481259389-08:00","created_by":"rkj"}]}
{"id":"voidlock-sstg.3","title":"Update TimeUtility and UI Labels","description":"See `src/renderer/TimeUtility.ts`.\n\n**Goal**: Correctly format 0.05x.\n\n**Logic**:\n- Update `TimeUtility.formatSpeed` to check for `0.05` (or range) and return \"0.05x (Active Pause)\".\n- Update `src/renderer/main.ts` and `src/renderer/screens/CampaignScreen.ts` labels to say \"Allow Tactical Pause (0.05x)\".","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:31:52.518345185-08:00","created_by":"rkj","updated_at":"2026-01-06T19:02:25.225685895-08:00","closed_at":"2026-01-06T19:02:25.225685895-08:00","close_reason":"Active Pause updated to 0.05x in Logic and UI. All regression tests fixed.","dependencies":[{"issue_id":"voidlock-sstg.3","depends_on_id":"voidlock-sstg","type":"parent-child","created_at":"2026-01-04T19:31:52.534291358-08:00","created_by":"rkj"},{"issue_id":"voidlock-sstg.3","depends_on_id":"voidlock-sstg.2","type":"blocks","created_at":"2026-01-04T19:32:11.549308773-08:00","created_by":"rkj"}]}
{"id":"voidlock-sstg.4","title":"Fix Regression Tests for Pause Speed","description":"Run `grep -r \"0.1\" tests/` to find tests asserting 0.1 pause speed and update them to 0.05.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:31:57.579743581-08:00","created_by":"rkj","updated_at":"2026-01-06T19:02:25.238533496-08:00","closed_at":"2026-01-06T19:02:25.238533496-08:00","close_reason":"Active Pause updated to 0.05x in Logic and UI. All regression tests fixed.","dependencies":[{"issue_id":"voidlock-sstg.4","depends_on_id":"voidlock-sstg","type":"parent-child","created_at":"2026-01-04T19:31:57.590041692-08:00","created_by":"rkj"},{"issue_id":"voidlock-sstg.4","depends_on_id":"voidlock-sstg.3","type":"blocks","created_at":"2026-01-04T19:32:16.605468514-08:00","created_by":"rkj"}]}
{"id":"voidlock-stpc","title":"Add Regression Test for Seed 139801","description":"Implements `docs/adr/0014-map-generation-correctness.md`\n\n**Context:** Seed 139801 is known to produce a broken map (see `broken_map.png`).\n\n**Task:**\n1. Create a regression test in `tests/engine/generators/SpaceshipGenerator.test.ts`.\n2. Force the generator to use seed `139801`.\n3. Assert that the resulting map is fully connected (using BFS/FloodFill).\n4. Assert that a path exists from Squad Spawn to Extraction.\n\n**Note:** This test is expected to FAIL until `voidlock-ws22` is implemented.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:30:41.674970832-08:00","created_by":"rkj","updated_at":"2026-01-09T19:01:51.863690714-08:00","closed_at":"2026-01-09T19:01:51.863690714-08:00","close_reason":"Already implemented as part of voidlock-ws22. Verified with passing tests.","dependencies":[{"issue_id":"voidlock-stpc","depends_on_id":"voidlock-ws22","type":"blocks","created_at":"2026-01-07T20:30:52.930847571-08:00","created_by":"rkj"}]}
{"id":"voidlock-sxo","title":"Update renderGameOver to use renderObjectivesList","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T20:28:54.345781237-08:00","updated_at":"2026-01-03T19:08:39.765995334-08:00","closed_at":"2025-12-30T19:07:31.318656082-08:00","dependencies":[{"issue_id":"voidlock-sxo","depends_on_id":"voidlock-6ky","type":"parent-child","created_at":"2025-12-29T20:28:54.346881915-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-szth","title":"Bug: TreeShipGenerator Wall Geometry Mismatch","description":"The TreeShipGenerator incorrectly converts adjacency keys (e.g. '0,0--1,0') directly into wall segments using the keys as point coordinates. This results in geometric walls being placed on the wrong edges (e.g., an East adjacency connection '0,0--1,0' creates a Top wall segment '(0,0)-(1,0)' instead of the correct vertical boundary). This causes a mismatch between logical connectivity (Graph) and physical walls (Physics/Renderer). Fix the 'generate' method in 'src/engine/generators/TreeShipGenerator.ts' to correctly transform adjacency keys into visual wall segments. Verify using 'tests/engine/generators/TreeShip/regression_golden.test.ts' (note: fixing this will require updating the golden file 'tests/data/goldens/broken_map_golden.txt' as the current golden captures the broken state).","status":"closed","priority":4,"issue_type":"bug","created_at":"2026-01-04T21:08:58.262132416-08:00","created_by":"rkj","updated_at":"2026-01-06T20:24:50.059774256-08:00","closed_at":"2026-01-06T20:24:50.059774256-08:00","close_reason":"Fixed TreeShipGenerator wall geometry by converting cell-to-cell adjacency to corner-to-corner wall segments. Standardized Graph, MapGenerator, and tests to use corner points. Updated golden files and version."}
{"id":"voidlock-t2s","title":"Improve Door Rendering Visibility","description":"Modify src/renderer/Renderer.ts to make doors more visible and distinct, using contrasting colors, thicker lines, or different rendering techniques based on their state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:03:43.37637518-08:00","updated_at":"2026-01-03T19:08:39.666253378-08:00","closed_at":"2025-12-13T14:04:29.487742798-08:00"}
{"id":"voidlock-taz","title":"Docs: Update GEMINI.md context files with ADR references","description":"Update src/**/GEMINI.md files to explicitly list relevant ADRs (0006, 0007, 0008) for better agent context awareness.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-01T18:23:53.680160462-08:00","updated_at":"2026-01-03T19:08:39.93911247-08:00","closed_at":"2026-01-02T09:22:09.98596401-08:00","close_reason":"Updated GEMINI.md files across src/ with relevant ADR references (0006, 0007, 0008). package.json version bumped to 0.43.6.","dependencies":[{"issue_id":"voidlock-taz","depends_on_id":"voidlock-pai","type":"blocks","created_at":"2026-01-01T18:39:13.510971153-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-taz","depends_on_id":"voidlock-6js","type":"blocks","created_at":"2026-01-01T18:39:13.577385139-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-taz","depends_on_id":"voidlock-es7","type":"blocks","created_at":"2026-01-01T18:39:13.669652908-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-tbuh","title":"Repro: Campaign launch blank screen (Visual)","description":"Create a Puppeteer-based E2E test `tests/e2e/CampaignLaunch.test.ts` that snapshots the screen after launching a mission to definitively prove the blank screen bug (Z-Index obscuration).","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T11:34:37.839342386-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T12:48:00.660127223-08:00","closed_at":"2026-01-19T12:48:00.660127223-08:00","close_reason":"Implemented via sub-agent and verified. Created JSDOM integration test 'tests/renderer/integration/regression_voidlock_tbuh_shell_visibility.test.ts' which successfully reproduces the bug (fails as expected). Created 'tests/e2e/CampaignLaunch.test.ts' for future E2E testing (currently disabled due to missing puppeteer).","dependencies":[{"issue_id":"voidlock-tbuh","depends_on_id":"voidlock-vb9c","type":"blocks","created_at":"2026-01-19T11:35:26.275899197-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-tfm","title":"Optimize Exploration Logic","description":"Soldiers move to the end of dead ends for no reason. Refine findClosestUndiscoveredCell to consider LOS coverage instead of just cell centers, and avoid deep exploration of dead ends if already seen.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T19:10:05.073017546-08:00","updated_at":"2026-01-03T19:08:39.712760049-08:00","closed_at":"2025-12-25T18:16:14.800636775-08:00"}
{"id":"voidlock-tnb6","title":"JSDOM Integration Test Suite","description":"Implement a comprehensive JSDOM-based integration test suite to cover major user journeys and screen transitions.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-07T07:05:55.181951013-08:00","created_by":"rkj","updated_at":"2026-01-07T19:57:36.835924685-08:00","closed_at":"2026-01-07T19:57:36.835924685-08:00","close_reason":"Implemented comprehensive JSDOM integration test suite covering major user journeys. Fixed a navigation bug where returning from the Campaign screen didn't always lead to the Main Menu. Verified with all tests passing and a successful build."}
{"id":"voidlock-tnp9","title":"chore","description":"Implements spec/ai.md. Ref: docs/adr/0023-refactor-unit-ai.md. Decompose UnitAI into behavior classes.","status":"closed","priority":3,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:05:31.702914569-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T21:20:54.142094747-08:00","closed_at":"2026-01-18T21:20:54.142094747-08:00","close_reason":"Implemented via sub-agent and verified. UnitAI decomposed into modular behaviors in src/engine/ai/behaviors/, tests and build pass."}
{"id":"voidlock-tqxn","title":"Implement LLM-Assisted Asset Cropping","description":"Process raw assets using an LLM to determine optimal crop coordinates for each image, then apply crops once.\n\n**Rationale**: \n- Automated scripts (trim/center crop) fail because the assets have inconsistent padding/backgrounds.\n- This is a \"do it once\" task.\n\n**Workflow**:\n1. **Analyze**: Use an LLM agent (Investigator/Code) to inspect each raw image in \"NanoBanana Assets\".\n2. **Determine Crop**: For each image, the agent must output the bounding box `[x, y, width, height]` of the \"interesting part\" (the token).\n3. **Execute**: Create a script (or modify `process_assets.ts`) to read this manual config and generate the final WebP assets.\n4. **Integrate**: Ensure `Renderer` uses these assets.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T20:13:39.929227576-08:00","created_by":"rkj","updated_at":"2026-01-04T20:39:25.242206168-08:00","closed_at":"2026-01-04T20:39:25.242206168-08:00","close_reason":"Closed"}
{"id":"voidlock-tqxn.1","title":"Generate Crop Configuration","description":"See `scripts/process_assets.ts`.\n\n**Goal**: Create `assets_config.json` defining crop regions.\n\n**Logic**:\n1. Create a hardcoded config file `scripts/asset_config.json`.\n2. I (the agent) will inspect the file list.\n3. For each file, I will attempt to determine the crop. Since I cannot see, I will write a script `scripts/detect_bounds.ts` using `sharp` that outputs the bounding box of non-transparent/non-black pixels.\n4. I will run this script.\n5. I will save the output as `assets_config.json`.\n6. This \"One Time\" script replaces the dynamic logic in `process_assets.ts`.\n7. `process_assets.ts` will then just read this JSON and execute the crops.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:13:52.39018931-08:00","created_by":"rkj","updated_at":"2026-01-04T20:39:10.015475075-08:00","closed_at":"2026-01-04T20:39:10.015475075-08:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlock-tqxn.1","depends_on_id":"voidlock-tqxn","type":"parent-child","created_at":"2026-01-04T20:13:52.391224304-08:00","created_by":"rkj"}]}
{"id":"voidlock-tqxn.2","title":"Update Process Assets Script","description":"Update `process_assets.ts` to read `assets_config.json` and apply the specific crops defined there before resizing to 128x128.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:13:57.443787144-08:00","created_by":"rkj","updated_at":"2026-01-04T20:39:15.096601125-08:00","closed_at":"2026-01-04T20:39:15.096601125-08:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlock-tqxn.2","depends_on_id":"voidlock-tqxn","type":"parent-child","created_at":"2026-01-04T20:13:57.445514748-08:00","created_by":"rkj"},{"issue_id":"voidlock-tqxn.2","depends_on_id":"voidlock-tqxn.1","type":"blocks","created_at":"2026-01-04T20:14:11.890805716-08:00","created_by":"rkj"}]}
{"id":"voidlock-tqxn.3","title":"Integrate Assets in Renderer","description":"Same as previous: Update ThemeManager and Renderer to use the generated assets.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T20:14:02.495585758-08:00","created_by":"rkj","updated_at":"2026-01-04T20:39:20.170104199-08:00","closed_at":"2026-01-04T20:39:20.170104199-08:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlock-tqxn.3","depends_on_id":"voidlock-tqxn","type":"parent-child","created_at":"2026-01-04T20:14:02.511356446-08:00","created_by":"rkj"},{"issue_id":"voidlock-tqxn.3","depends_on_id":"voidlock-tqxn.2","type":"blocks","created_at":"2026-01-04T20:14:16.951547698-08:00","created_by":"rkj"}]}
{"id":"voidlock-u2l","title":"Implement Squad Builder in Config screen","description":"Develop UI elements in the Config screen to allow players to select and configure their squad composition (e.g., picking archetypes).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T16:29:02.471810846-08:00","updated_at":"2026-01-03T19:08:39.924404384-08:00","closed_at":"2025-12-14T19:01:38.199042697-08:00","labels":["complexity:medium"]}
{"id":"voidlock-u3v","title":"Implement Sample Bot","description":"Create a basic bot that moves towards objectives","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:23:05.816141031-08:00","updated_at":"2026-01-03T19:08:39.928878828-08:00","closed_at":"2025-12-13T11:26:25.957799254-08:00","dependencies":[{"issue_id":"voidlock-u3v","depends_on_id":"voidlock-2pv","type":"parent-child","created_at":"2025-12-13T11:23:05.816666659-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ub0","title":"Fix Compilation and Build Errors","description":"Fix all TypeScript errors preventing the build. \\n1. Fix production code first: 'src/renderer/main.ts' (SquadConfig), 'src/engine/GameClient.ts', and 'src/shared/types.ts'. \\n2. Fix test files: Update mock objects to match new 'GameState' and 'Unit' interfaces. Use a helper function or factory for mocks if possible to avoid repetition.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-31T17:42:28.936923273-08:00","updated_at":"2026-01-03T19:08:39.616658097-08:00","closed_at":"2025-12-31T18:09:04.404475617-08:00"}
{"id":"voidlock-uem","title":"Implement MapGenerator selection mechanism","description":"Introduce an enum or similar mechanism to allow selecting between different map generation strategies (procedural, static loaded). Modify GameClient or main.ts to utilize this selection.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:24:25.143732451-08:00","updated_at":"2026-01-03T19:08:39.673702668-08:00","closed_at":"2025-12-13T13:37:52.360296382-08:00","dependencies":[{"issue_id":"voidlock-uem","depends_on_id":"voidlock-14a","type":"blocks","created_at":"2025-12-13T13:24:25.144460222-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-uem","depends_on_id":"voidlock-2er","type":"blocks","created_at":"2025-12-13T13:24:25.145263289-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ul4","title":"Fix regression in EnemyLOSVisibility.test.ts","description":"The mock context in EnemyLOSVisibility.test.ts is missing the createRadialGradient function, which was added to Renderer.ts. Update the test to include this mock.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-25T17:50:55.99094567-08:00","updated_at":"2026-01-03T19:08:39.713887079-08:00","closed_at":"2025-12-25T18:16:03.429805418-08:00"}
{"id":"voidlock-ul4n","title":"Fix: Audit Campaign Victory Logic","description":"Investigate why Campaign Victory is not triggering. 1) Verify SectorMapGenerator assigns \"Boss\" type correctly. 2) Verify CampaignManager.processMissionResult logic matches the generated node. 3) Add robust logging or fallback to ensure last node is treated as Boss.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-14T21:26:24.302723664-08:00","created_by":"rkj","updated_at":"2026-01-17T16:16:02.1188815-08:00","closed_at":"2026-01-17T16:16:02.1188815-08:00","close_reason":"Implemented via sub-agent and verified. Added robust fallback to CampaignManager to trigger Victory on last map rank regardless of node type.","dependencies":[{"issue_id":"voidlock-ul4n","depends_on_id":"voidlock-9f6s","type":"blocks","created_at":"2026-01-14T22:07:49.660063292-08:00","created_by":"rkj"}],"comments":[{"id":4,"issue_id":"voidlock-ul4n","author":"rkj","text":"Context: User reports Campaign Victory screen does not appear. Image no_finish.png shows the final node reached but no victory state. Previous fix ensured ID propagation. Action: Audit SectorMapGenerator and CampaignManager logic.","created_at":"2026-01-15T05:27:32Z"},{"id":5,"issue_id":"voidlock-ul4n","author":"rkj","text":"Context: User reports Campaign Victory screen does not appear. Image no_finish.png shows the final node reached (Boss icon present) and Sector updated to 8 (implies mission processed), but no Victory state. Previous fix ensured ID propagation. Action: Audit SectorMapGenerator and CampaignManager logic. Verify node.type is exactly 'Boss'.","created_at":"2026-01-15T05:29:27Z"},{"id":6,"issue_id":"voidlock-ul4n","author":"rkj","text":"Context: User reports Campaign Victory screen does not appear. Image no_finish.png shows the final node reached (Boss icon present) and Sector updated to 8 (implies mission processed), but no Victory state. Previous fix ensured ID propagation. Action: Audit SectorMapGenerator and CampaignManager logic. Verify node.type is exactly 'Boss'.","created_at":"2026-01-15T05:35:17Z"}]}
{"id":"voidlock-uqq","title":"Refactor: Extract Combat Logic","description":"Extract CombatManager (updateActiveWeapon, attack logic) from UnitManager.\\n\\n**ADR:** docs/adr/0010-unit-system-architecture.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T10:54:33.547794311-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.76510922-08:00","closed_at":"2026-01-03T17:05:49.866013022-08:00","close_reason":"Extracted CombatManager from UnitManager as per ADR-0010. Verified with successful build and passing test suite. Version bumped to 0.51.5.","dependencies":[{"issue_id":"voidlock-uqq","depends_on_id":"voidlock-npn","type":"blocks","created_at":"2026-01-03T10:55:04.455784451-08:00","created_by":"rkj"}]}
{"id":"voidlock-uv8","title":"Gameplay: Implement Global Item Usage","description":"Enable the use of global items (Medkits, Grenades, Scanners) during missions.\\n\\n1. Engine: Add 'USE_ITEM' command handler in Director.ts.\\n   - Medkit: Heal target unit.\\n   - Grenade: Deal damage in radius at target.\\n   - Scanner: Reveal FOW at target.\\n2. UI: Add '4: Use Item' to the command menu.\\n3. UI: Select item -\u003e Select target workflow.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T14:57:41.699405053-08:00","updated_at":"2026-01-03T19:08:39.509824556-08:00","closed_at":"2026-01-01T17:09:03.887028718-08:00"}
{"id":"voidlock-uva4","title":"Write ADR for ModalService architecture","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:31:05.020977857-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-17T21:00:44.596873334-08:00","closed_at":"2026-01-17T21:00:44.596873334-08:00","close_reason":"Established ModalService architecture in ADR 0025, updated spec/ui.md with resilience requirements, and created follow-up tasks."}
{"id":"voidlock-uw0","title":"Engine: VIP Mission Mechanics","description":"If VIP is present, add an objective to extract them. If VIP dies, the mission is automatically a failure immediately, even if there are still soldiers alive. Update spec.md.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T13:36:43.332194658-08:00","updated_at":"2026-01-03T19:08:39.541984158-08:00","closed_at":"2025-12-27T08:08:21.748863605-08:00","labels":["feature"]}
{"id":"voidlock-uwl","title":"Fix NW Room Walls for Seed 1766029929040","description":"Investigate and fix the persistent wall/door issue in the NW 2x2 room for seed 1766029929040. Ensure the room is fully open internally as required. Verify with explicit test case.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T20:29:10.858078142-08:00","updated_at":"2026-01-03T19:08:39.487371662-08:00","closed_at":"2025-12-20T10:07:47.2101215-08:00"}
{"id":"voidlock-uxq","title":"Fix Threat Level Bar Alignment (Precision)","description":"The threat bar dividers are still slightly misaligned (off by ~1%). \\n\\n1. Set up a test case or script to set threat to exact 10/20/30% increments.\\n2. Pause and inspect visually.\\n3. Ensure the 'fill' bar width exactly matches the divider positions.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T19:42:55.917264325-08:00","updated_at":"2026-01-03T19:08:39.415283503-08:00","closed_at":"2025-12-28T19:57:11.355122399-08:00"}
{"id":"voidlock-uxqz","title":"Epic: Persistent Session \u0026 Crash Recovery","description":"Implement robust state persistence to handle page refreshes and crashes.\n\n**Core Concept:** Use the Deterministic Engine to \"Replay\" the mission up to the current point upon reload, rather than saving full snapshots.\n\n- **Task 1: Session State Manager**\n  - Persist `currentScreen` and `history` to `localStorage`.\n  - Restore screen on boot.\n  - Handle \"Safe Boot\" (clear state if crash loop detected).\n\n- **Task 2: Mission Auto-Save (Append-Only Log)**\n  - Save `initial_config` (Seed, Map, Squad) to `localStorage` on Mission Start.\n  - Append every `Command` sent to the worker to `localStorage` (as an array or log).\n  - Clear storage on Mission End/Abort.\n\n- **Task 3: Mission Resume (Fast-Forward)**\n  - On page load, if \"In Mission\":\n  - Load `initial_config`.\n  - Initialize Engine.\n  - Replay all commands from the log at max speed (no render) to sync state.\n  - Enable Renderer and resume Simulation.","status":"closed","priority":4,"issue_type":"epic","created_at":"2026-01-04T19:14:50.364899649-08:00","created_by":"rkj","updated_at":"2026-01-06T20:50:01.190793054-08:00","closed_at":"2026-01-06T20:50:01.190793054-08:00","close_reason":"Completed by task voidlock-3dz9: Session State, Auto-Save, and Resume logic are implemented and verified."}
{"id":"voidlock-v34","title":"UI: Stabilize and Widen Soldier Cards","description":"Refactor the soldier card UI to prevent 'jiggling' when states change:\\n- Increase soldier card width to prevent text wrapping and use fixed-size layouts.\\n- Move HP display to the end of the line.\\n- Replace IGNORE/ENGAGE text with icons next to the unit name.\\n- Make Dead status more prominent: set energy bar to zero and turn the entire card background red.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T19:10:05.138037255-08:00","updated_at":"2026-01-03T19:08:39.407176003-08:00","closed_at":"2025-12-26T07:15:20.213695287-08:00"}
{"id":"voidlock-v4h","title":"Feature: Implement Campaign Theme Selector","description":"Add theme selection to Campaign State and initialization logic. Link dependencies to voidlock-yiw.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-01T18:30:34.937367993-08:00","updated_at":"2026-01-04T18:18:53.701644071-08:00","closed_at":"2026-01-04T18:18:53.701644071-08:00","close_reason":"Implemented Campaign Theme Selector and integrated with ThemeManager.","dependencies":[{"issue_id":"voidlock-v4h","depends_on_id":"voidlock-att","type":"blocks","created_at":"2026-01-01T18:36:13.438633506-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-v5n8","title":"Implement Autonomous Opportunistic Loot Pickup","description":"Implements `spec/ai.md#4.1`\n\n**Logic Changes:**\n1. Modify `src/engine/managers/UnitAI.ts`.\n2. In the `processAutonomousActions` loop:\n   - Add a high-priority check **before** Exploration logic.\n   - Scan for `visibleLoot` or `visibleObjectives` within a reasonable pathing distance (e.g., entire visible area).\n   - If found:\n     - Check if another unit is already targeting this item (Task Coordination).\n     - If available, issue an internal `PICKUP` or `USE_ITEM` command.\n     - **Crucially:** Ensure this internal command does **NOT** disable `aiEnabled`. This allows the unit to naturally fall back to Exploration/Escort once the action completes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:56:45.218355578-08:00","created_by":"rkj","updated_at":"2026-01-09T19:45:09.507412129-08:00","closed_at":"2026-01-09T19:45:09.507412129-08:00","close_reason":"Implemented autonomous opportunistic pickup for visible loot and objectives. Added task coordination and pre-population of claimed objectives. Verified with new regression tests and full test suite."}
{"id":"voidlock-v78","title":"Engine: Expose Seed \u0026 Mission Type","description":"Update 'GameState' in 'src/shared/types.ts' to include 'seed' (number) and 'missionType' (MissionType). Update 'CoreEngine.ts' to populate these fields in the state update. See 'spec/simulation.md'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:05:07.431889566-08:00","created_by":"rkj","updated_at":"2026-01-04T15:42:15.458480102-08:00","closed_at":"2026-01-04T15:42:15.458480102-08:00","close_reason":"Exposed seed and missionType in GameState and updated all tests."}
{"id":"voidlock-vb9c","title":"Setup Visual Regression Infrastructure","description":"Install Puppeteer and configure a dedicated Vitest E2E profile (`vitest.config.e2e.ts`) that manages the Vite dev server lifecycle. Ref: `docs/adr/0027-integration-testing-strategy.md`.","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T11:34:27.746853094-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:16:07.741536665-08:00","closed_at":"2026-01-19T13:16:07.741536665-08:00","close_reason":"Actually installed puppeteer and verified E2E infrastructure with 'tests/e2e/PuppeteerCheck.test.ts'. All E2E tests are now passing."}
{"id":"voidlock-vf3","title":"MapGen: VIP Spawn Logic","description":"Modify MapGenerator to ensure VIPs spawn in a separate quadrant/room from the squad spawn point. This adds tactical depth requiring the squad to traverse the map to reach them.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-27T07:11:46.938129924-08:00","updated_at":"2026-01-03T19:08:39.539898399-08:00","closed_at":"2025-12-27T08:08:36.441174117-08:00"}
{"id":"voidlock-vle","title":"Tests: Create MissionWinConditions.test.ts verifying win/loss scenarios for all mission types","description":"Create MissionWinConditions.test.ts verifying win/loss scenarios.\\n\\n**Spec:** spec/simulation.md#winloss-conditions-summary\\n\\n**Requirements:**\\n- Verify 'Expendable Crew' win (Intel/Hive).\\n- Verify 'Must Survive' win (Artifact/VIP).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T17:40:12.309432661-08:00","updated_at":"2026-01-03T19:08:39.426636835-08:00","closed_at":"2026-01-01T18:39:19.373548481-08:00"}
{"id":"voidlock-vp8y","title":"Refactor GameClient \u0026 Renderer","description":"Update the GameClient to support the new MapGenerator API.\nInput: `src/engine/GameClient.ts`, `src/renderer/main.ts`\nRequirements:\n1. In `GameClient.init`, construct the `MapGenerationConfig` object from the init arguments.\n2. Pass this config to the `MapGenerator` constructor.\nSee `docs/adr/0013-unified-map-generation-config.md` for the interface definition.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-04T21:11:08.01565764-08:00","created_by":"rkj","updated_at":"2026-01-06T20:44:23.173918701-08:00","closed_at":"2026-01-06T20:44:23.173918701-08:00","close_reason":"Verified GameClient refactor. Fixed regression tests for identity check and wall visibility logic.","dependencies":[{"issue_id":"voidlock-vp8y","depends_on_id":"voidlock-hkio","type":"blocks","created_at":"2026-01-04T21:11:29.876861546-08:00","created_by":"rkj"}]}
{"id":"voidlock-vp9","title":"Engine: Refactor Accuracy to Percentage Model","description":"Refactor 'accuracy' stat to represent 'Percentage Hit Chance at 5 tiles'.\\n\\n1. Update Formula: HitChance = (Accuracy / 100) * (5 / Distance).\\n2. Update Types: Update ArchetypeLibrary defaults (e.g. Assault 5deg -\u003e 95%).\\n3. Update Tests: Replace 'accuracy: 0' (old perfect) with 'accuracy: 100' (new perfect).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T11:14:43.017462178-08:00","updated_at":"2026-01-03T19:08:39.41881773-08:00","closed_at":"2025-12-27T11:21:21.192493099-08:00","labels":["combat","engine","refactor"]}
{"id":"voidlock-vpje","title":"Implement Unit Style Selection","description":"Implements `spec/ui.md#8.6`\n\nAdd a 'Unit Style' selector to the Campaign Setup Wizard and Mission Setup Screen.\n\n**UI Changes:**\n1. Add a dropdown/selector for 'Unit Style' with options: 'Sprites' (Default) and 'Tactical Icons'.\n2. Persist this setting in `GameConfig`.\n\n**Renderer Changes:**\n1. Modify `src/renderer/Renderer.ts` (specifically `renderUnits` or equivalent).\n2. If 'Tactical Icons' is selected:\n   - Render units as colored circles (Green for friendly, Red for enemy).\n   - Draw the unit number/index in the center.\n3. If 'Sprites' is selected (Default):\n   - Render the existing WebP sprite.\n   - **Crucially:** Draw the unit number/index as a text overlay ON TOP of the sprite. Use a high-contrast font (e.g., white text with black outline) to ensure visibility against the sprite.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:07:46.767716039-08:00","created_by":"rkj","updated_at":"2026-01-08T20:01:16.853999643-08:00","closed_at":"2026-01-08T20:01:16.853999643-08:00","close_reason":"Implemented unit style selection, refactored imports to @src style, and verified with automated tests and visual inspection."}
{"id":"voidlock-vpw","title":"Protocol: Add Debug Messages","description":"Update src/shared/types.ts with TOGGLE_DEBUG_OVERLAY, GET_FULL_STATE, and FULL_STATE_DATA. See spec/commands.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T09:02:59.833451409-08:00","updated_at":"2026-01-03T19:08:39.897819157-08:00","closed_at":"2026-01-02T18:07:42.172290602-08:00","close_reason":"Already implemented. QUERY_STATE and STATE_UPDATE are in types.ts and worker.ts. TOGGLE_DEBUG_OVERLAY is in types.ts and handled by CommandHandler."}
{"id":"voidlock-vrx","title":"UI: Post-Mission Debrief Screen","description":"Create post-mission debrief screen.\\n\\n**Spec:** spec/campaign.md#41-debrief-screen\\n**ADR:** docs/adr/0003-campaign-system-architecture.md\\n\\n**Requirements:**\\n- Overlay with stats.\\n- Background replay.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T09:29:12.783648717-08:00","updated_at":"2026-01-04T17:10:30.83072377-08:00","closed_at":"2026-01-04T17:10:30.83072377-08:00","close_reason":"Implemented enhanced DebriefScreen with replay, XP bars, and input blocking.","dependencies":[{"issue_id":"voidlock-vrx","depends_on_id":"voidlock-bnj","type":"blocks","created_at":"2025-12-31T11:31:42.011778223-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-vrx","depends_on_id":"voidlock-q2s","type":"blocks","created_at":"2026-01-01T18:37:17.326429393-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-vtb","title":"Fix Line of Sight to respect walls and doors","description":"Modify src/engine/LineOfSight.ts and related components to ensure LOS calculations correctly account for walls and the state of doors (closed/locked doors block LOS).","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T14:03:51.200978186-08:00","updated_at":"2026-01-03T19:08:39.476381232-08:00","closed_at":"2025-12-13T14:05:53.040279848-08:00","dependencies":[{"issue_id":"voidlock-vtb","depends_on_id":"voidlock-0g8","type":"blocks","created_at":"2025-12-13T14:03:51.201738229-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-vtb","depends_on_id":"voidlock-71g","type":"related","created_at":"2025-12-13T14:04:36.824970737-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-vvc","title":"Campaign: Implement Scrap Economy","description":"1. Add 'scrap' property to CampaignState.\n2. Update MissionManager to calculate scrap rewards based on objectives/elites.\n3. Add scrap rewards to the post-mission summary.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T09:29:02.662709875-08:00","updated_at":"2026-01-03T19:08:39.421021516-08:00","closed_at":"2026-01-01T18:02:26.071305602-08:00","dependencies":[{"issue_id":"voidlock-vvc","depends_on_id":"voidlock-ivx","type":"parent-child","created_at":"2025-12-31T09:29:02.668205173-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlock-vvc","depends_on_id":"voidlock-5go","type":"blocks","created_at":"2025-12-31T11:31:41.942027412-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-vwhe","title":"Fix: Custom Mission scrollbar clipping","description":"Update `src/styles/main.css` to ensure the Mission Setup container has `overflow-y: auto` and proper flex constraints. Verified by `tests/e2e/ScrollbarClipping.test.ts`.","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-19T11:35:08.182699842-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T13:03:31.45643377-08:00","closed_at":"2026-01-19T13:03:31.45643377-08:00","close_reason":"Implemented via sub-agent and verified. Moved action buttons outside the scrollable 'setup-content' div in index.html to create a sticky footer. Updated CSS to allow 'setup-content' to flex and scroll independently. Verified DOM structure with 'regression_voidlock_vwhe_sticky_footer.test.ts'. E2E test remains disabled due to missing puppeteer.","dependencies":[{"issue_id":"voidlock-vwhe","depends_on_id":"voidlock-1ix1","type":"blocks","created_at":"2026-01-19T11:35:41.430393961-08:00","created_by":"Roman Kamyk"}],"comments":[{"id":18,"issue_id":"voidlock-vwhe","author":"Roman Kamyk","text":"## Verification Note\\nThe E2E test tests/e2e/ScrollbarClipping.test.ts is currently disabled due to environment limitations. Please proceed with the CSS fix based on the issue description.","created_at":"2026-01-19T20:54:55Z"}]}
{"id":"voidlock-w0l","title":"FR: Early visibility through opening doors","description":"Visibility through a door should update as soon as the door starts opening, rather than waiting for the animation/state to fully complete.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T06:43:59.308336137-08:00","updated_at":"2026-01-03T19:08:39.545186824-08:00","closed_at":"2025-12-27T08:34:47.907494355-08:00"}
{"id":"voidlock-w3e","title":"Implement Multiple Soldier Spawning","description":"Modify CoreEngine to support spawning multiple soldier units (starting with 2) at random accessible locations on the map.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T15:19:13.628219383-08:00","updated_at":"2026-01-03T19:08:39.73348036-08:00","closed_at":"2025-12-15T18:50:27.054352235-08:00"}
{"id":"voidlock-w4uj","title":"Implement Inline Resilience Script in index.html","description":"Implements spec/ui.md#8.12. Adds an inline script to the head of index.html that handles global errors and provides an independent Reset Data listener.","status":"closed","priority":2,"issue_type":"feature","owner":"rkj@google.com","created_at":"2026-01-17T20:57:22.018324239-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T19:45:04.131949204-08:00","closed_at":"2026-01-18T19:45:04.131949204-08:00","close_reason":"Implemented inline resilience script in index.html for global error handling and emergency data reset. Improved robustness of integration tests by ensuring combat-capable nodes are selected for mission steps. Verified with full test pass and build.","comments":[{"id":16,"issue_id":"voidlock-w4uj","author":"Roman Kamyk","text":"Build failed with TypeScript error in tests/renderer/regression_voidlock-w4uj_resilience.test.ts:\n'Could not find a declaration file for module jsdom'.\nPlease fix this by either:\n1. Adding '// @ts-ignore' before the import (if you must use JSDOM directly).\n2. Or better, use the existing vitest jsdom environment if possible.\nEnsure 'npm run build' passes before finishing.","created_at":"2026-01-19T03:40:21Z"}]}
{"id":"voidlock-wea2","title":"Restore test script in package.json","description":"Add \"test\": \"vitest run\" to package.json to enable standard test execution.","status":"closed","priority":2,"issue_type":"chore","owner":"rkj@google.com","created_at":"2026-01-19T11:34:22.689011364-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T11:42:07.38601456-08:00","closed_at":"2026-01-19T11:42:07.38601456-08:00","close_reason":"Implemented via sub-agent and verified. Restored 'test' script in package.json, verified 259 tests pass. Also committed pending ADR 0027."}
{"id":"voidlock-weyd","title":"Investigate Campaign Map Rendering Desync","description":"Implements `spec/map.md` (Consistency)\n\nUsers report 'missing walls' and 'soldiers walking through rendered walls' specifically in Campaign mode. Custom missions with the same seed work fine.\nThis implies a divergence between the `Graph` logic and the rendered `map.walls`, likely caused by persistence or hydration in `CampaignManager`.\n\n**Investigation Steps:**\n1. Analyze `src/engine/managers/CampaignManager.ts` to see how maps are saved/loaded.\n2. Check if `MapGenerator.sanitize` is called on loaded maps.\n3. Compare `MapDefinition` state in `GameClient` vs `Worker` for Campaign vs Custom.\n4. Verify if `Graph` constructor treats `map.walls` correctly when combined with `map.doors`.\n5. Check if `localstorage` state includes a stale or corrupted `MapDefinition` structure.\n\n**Artifacts:**\n- See `tests/data/goldens/2026-01-08_6x6-dense-bad.json` for a reproduction state.\n- Reproduction test `tests/engine/repro/broken_walls.test.ts` (created but currently failing on import/assertions) can be used to verify Graph state.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T21:45:42.778794048-08:00","created_by":"rkj","updated_at":"2026-01-09T19:01:33.504269133-08:00","closed_at":"2026-01-09T19:01:33.504269133-08:00","close_reason":"Investigated and fixed Campaign map rendering desync. Included seed in Renderer graph cache key and improved MapGenerator sanitization logic. Verified with new regression test.","dependencies":[{"issue_id":"voidlock-weyd","depends_on_id":"voidlock-l5qf","type":"blocks","created_at":"2026-01-08T21:45:51.215146126-08:00","created_by":"rkj"}]}
{"id":"voidlock-wrb","title":"M1: Deterministic Engine Skeleton","description":"Implement the core engine loop, web worker, and basic movement","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:47:59.287509456-08:00","updated_at":"2026-01-03T19:08:39.520077354-08:00","closed_at":"2025-12-13T10:41:00.540153728-08:00"}
{"id":"voidlock-ws22","title":"Refactor SpaceshipGenerator for Constructive Correctness","description":"Implements `docs/adr/0014-map-generation-correctness.md`\n\nThe current `SpaceshipGenerator` creates disconnected maps (see `tests/data/goldens/broken_map.png`). The 'generate and validate' approach is failing.\n\n**Task:**\nRefactor `src/engine/generators/SpaceshipGenerator.ts` to use a constructive algorithm that guarantees connectivity.\n\n**Suggested Strategy (Spanning Tree):**\n1. Initialize a Grid of potential rooms/nodes.\n2. Generate a random Spanning Tree (or minimum spanning tree with random weights) to connect all required nodes (Start, End, Objectives).\n3. 'Flesh out' the tree by adding corridors along the edges.\n4. Ensure every added room/corridor is explicitly connected to the existing graph at the moment of creation.\n\n**Verification:**\n- Add a new test in `tests/engine/generators/SpaceshipGenerator.test.ts` that runs 100 times with random seeds.\n- For each run, perform a BFS from Spawn.\n- Assert that `visitedCells.count === totalFloorCells`.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-07T20:30:31.303596365-08:00","created_by":"rkj","updated_at":"2026-01-09T18:48:48.313812855-08:00","closed_at":"2026-01-09T18:48:48.313812855-08:00","close_reason":"Refactored SpaceshipGenerator to use constructive spanning-tree algorithm ensuring connectivity. Verified with 100-seed strict check and fixed DualEntrances regression."}
{"id":"voidlock-wtad","title":"Test: E2E Campaign Flow \u0026 Roster Validation","description":"Create `tests/renderer/integration/FullCampaignFlow.test.ts` using JSDOM. 1) Start Standard Campaign. 2) Force Lose a mission with casualties. 3) Verify Dead soldiers are NOT in the next Mission Setup squad. 4) Verify Boss Win triggers Victory screen. 5) Verify Bankruptcy triggers Defeat screen. Use REAL CampaignManager (no manual mocks of logic).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T22:01:44.972015469-08:00","created_by":"rkj","updated_at":"2026-01-15T21:42:55.929056295-08:00","closed_at":"2026-01-15T21:42:55.929056295-08:00","close_reason":"Implemented via sub-agent and verified. Added FullCampaignFlow.test.ts and fixed GameApp roster validation.","comments":[{"id":7,"issue_id":"voidlock-wtad","author":"rkj","text":"## Build Failure Log\nnpm run build failed with the following errors:\n- tests/renderer/integration/FullCampaignFlow.test.ts:144:3 - error TS2304: Cannot find name 'afterEach'. (Likely missing from imports)\n- tests/engine/mapgen/PlacementValidator_Loot.test.ts:31:5 - error TS18048: 'map.objectives' is possibly 'undefined'.\n- tests/renderer/visuals/LayerOrder.test.ts:45:7 - error TS1117: An object literal cannot have multiple properties with the same name.\n- tests/renderer/visuals/LayerOrder.test.ts:71:23 - error TS2741: Property 'radius' is missing.\n\nPlease fix the import in FullCampaignFlow.test.ts and address any other regressions in the project to ensure a clean build.","created_at":"2026-01-16T05:35:28Z"}]}
{"id":"voidlock-wur","title":"Bug: Doors open into non-corridor/empty spaces","description":"Investigate and fix the issue where doors open into non-corridor/empty spaces, as observed with the south door next to a soldier in the provided image. This indicates a problem with map generation or door placement logic. This was reported by the user as BD task.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T20:15:54.637531914-08:00","updated_at":"2026-01-03T19:08:39.626162965-08:00","closed_at":"2025-12-15T18:36:05.788136259-08:00"}
{"id":"voidlock-wwtf","title":"bug","description":"Implements spec/ai.md#4.1. Update UnitAI.ts to check distance to item before claiming. If multiple units see it, the closest one should lock it. Resolve race conditions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:17.768815398-08:00","created_by":"rkj","updated_at":"2026-01-13T21:58:21.158403346-08:00","closed_at":"2026-01-13T21:58:21.158403346-08:00","close_reason":"Implemented item assignment pre-pass in UnitManager to resolve competition by distance. Verified with regression test.","dependencies":[{"issue_id":"voidlock-wwtf","depends_on_id":"voidlock-f5wl","type":"blocks","created_at":"2026-01-13T19:21:25.502078331-08:00","created_by":"rkj"}]}
{"id":"voidlock-wzr","title":"Generator: Implement Sector Map (DAG) Generator","description":"Implement the procedural generation of the campaign sector map.\\n\\n**Spec:** spec/campaign.md#31-the-sector-map\\n**ADR:** docs/adr/0003-campaign-system-architecture.md\\n\\n**Requirements:**\\n- Generate acyclic graph of nodes.\\n- Assign node types (Combat, Elite, Shop, Event, Boss).\\n- Ensure connectivity.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:15:19.22461291-08:00","updated_at":"2026-01-03T19:08:39.860934312-08:00","closed_at":"2026-01-01T18:48:06.741342507-08:00","dependencies":[{"issue_id":"voidlock-wzr","depends_on_id":"voidlock-q2s","type":"blocks","created_at":"2026-01-01T18:37:04.097878345-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-x2z","title":"Enhance Director (Ramping Difficulty)","description":"Implement difficulty ramping logic in Director","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:18:23.624850607-08:00","updated_at":"2026-01-03T19:08:39.740766392-08:00","closed_at":"2025-12-13T11:21:25.644464184-08:00","dependencies":[{"issue_id":"voidlock-x2z","depends_on_id":"voidlock-s0e","type":"parent-child","created_at":"2025-12-13T11:18:23.625374398-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-x4d","title":"Fix Compilation and Build Errors (P0)","description":"Fix all TypeScript errors reported by 'npm run build'. Includes mismatched types in SectorMapGenerator, missing properties in MissionWinConditions.test.ts, missing LootManager arguments in combat tests, and renderer type issues.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-01T18:57:13.563605702-08:00","updated_at":"2026-01-03T19:08:39.731256769-08:00","closed_at":"2026-01-01T19:13:30.681640916-08:00"}
{"id":"voidlock-x4p","title":"UI: Speed Slider Wiring","description":"Connect the Speed Slider 'input' events to the new Logic functions and call GameClient.setTimeScale(). Handle the 'Active Pause' state display.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:33:13.878261843-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.400253697-08:00","closed_at":"2026-01-03T17:56:08.146240435-08:00","close_reason":"Connected speed slider events and updated Active Pause scale to 0.1x. Verified with tests, build, and browser validation. Version restored to 0.52.2.","dependencies":[{"issue_id":"voidlock-x4p","depends_on_id":"voidlock-d2w","type":"blocks","created_at":"2026-01-03T17:33:34.466186412-08:00","created_by":"rkj"}]}
{"id":"voidlock-x6fy","title":"chore","description":"Implements spec/ui.md. Ref: docs/adr/0020-refactor-campaign-screen.md. Extract the wizard logic into src/renderer/screens/campaign/NewCampaignWizard.ts.","status":"closed","priority":3,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-17T20:05:16.535555172-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T21:07:01.065238255-08:00","closed_at":"2026-01-18T21:07:01.065238255-08:00","close_reason":"Implemented via sub-agent and verified. Wizard logic extracted to NewCampaignWizard.ts, verified with tests and build."}
{"id":"voidlock-x8f","title":"Implement Threat-based Turn System","description":"Refactor Director to spawn enemies every X seconds (default 45). This increments a 'Turn' counter. Difficulty increases per turn. Turn progress is integrated with Threat Level (10% per turn). Cap difficulty growth at turn 10.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-26T09:27:02.124309222-08:00","updated_at":"2026-01-03T19:08:39.545785454-08:00","closed_at":"2025-12-26T09:58:59.790391436-08:00"}
{"id":"voidlock-x8j","title":"Docs: Write ADR-0009 Theming System","description":"Define the architecture for the theming system (CSS Vars, Asset Pipeline). Link dependencies to voidlock-yiw.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-01T18:30:07.028437706-08:00","updated_at":"2026-01-03T19:08:39.472681621-08:00","closed_at":"2026-01-03T18:14:17.621303071-08:00","close_reason":"Defined the architecture for the theming system and asset pipeline in ADR 0012. Updated ARCHITECTURE.md and GEMINI.md. Verified with tests and build. Version bumped to 0.53.1."}
{"id":"voidlock-xix","title":"Fix UI Layout: Top-aligned Soldier Bar and centered Canvas","description":"Reorganize the UI to remove empty space. Top Bar -\u003e Full-width Soldier Bar -\u003e Main Area (Centered Canvas + Right Command Panel).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T17:23:33.366682621-08:00","updated_at":"2026-01-03T19:08:39.51445271-08:00","closed_at":"2025-12-23T17:33:49.930752014-08:00"}
{"id":"voidlock-xkzt","title":"Implement Door Strut Collision in LOS","description":"Implements spec/ui.md#8.13. Updates LineOfSight.ts to block rays that hit the outer 1/3 segments (struts) of a door boundary.","status":"closed","priority":2,"issue_type":"bug","owner":"rkj@google.com","created_at":"2026-01-17T21:04:39.953979083-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-18T20:19:56.347101908-08:00","closed_at":"2026-01-18T20:19:56.347101908-08:00","close_reason":"Implemented geometric ray-segment intersection for LOS/LOF, accounting for door struts (outer 1/3 of boundary). Unified UNIT_RADIUS to 0.3. Verified with LineOfSight_Precision.test.ts and full test pass. Build successful.","dependencies":[{"issue_id":"voidlock-xkzt","depends_on_id":"voidlock-d7hx","type":"blocks","created_at":"2026-01-17T21:06:34.253143711-08:00","created_by":"Roman Kamyk"},{"issue_id":"voidlock-xkzt","depends_on_id":"voidlock-885i","type":"blocks","created_at":"2026-01-18T20:05:06.771828792-08:00","created_by":"Roman Kamyk"}]}
{"id":"voidlock-xlp","title":"Implement Canvas Scaling","description":"Modify Renderer/CSS to fit canvas within available space while maintaining aspect ratio, ensuring sidebar remains visible.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:15:56.996438733-08:00","updated_at":"2026-01-03T19:08:39.851874348-08:00","closed_at":"2025-12-13T13:17:45.085848782-08:00","dependencies":[{"issue_id":"voidlock-xlp","depends_on_id":"voidlock-hnx","type":"parent-child","created_at":"2025-12-13T13:15:56.997685828-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-xy6f","title":"Implement Explicit Unit Targeting for Items","description":"Implement Explicit Unit Targeting for Items (Backend + Frontend).\nThe current `USE_ITEM` logic relies on `target: Vector2` which is ambiguous for healing (heals all units in cell). We must support explicit unit targeting.\n\n1.  **Shared Types**: Update `UseItemCommand` in `src/shared/types.ts` to include `targetUnitId?: string`.\n2.  **Engine**: Update `Director.ts` (`handleUseItem`) to check `targetUnitId` first.\n    - If `targetUnitId` is present, heal ONLY that unit (if found and valid).\n    - Fallback to `target` (Vector2) only if ID is missing (legacy support).\n3.  **Renderer**: Update `MenuController.ts` (`executePendingCommand`):\n    - When `pendingAction === USE_ITEM` and `pendingTargetId` is set (from `FRIENDLY_UNIT` overlay), pass it as `targetUnitId`.\n4.  **Tests**: Add a test case in `tests/engine/commands/ItemUse.test.ts` (or create it) verifying that using a Medkit with `targetUnitId` heals only the specific unit, even if others are in the same cell.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:06:09.260691085-08:00","created_by":"rkj","updated_at":"2026-01-05T06:52:06.819368347-08:00","closed_at":"2026-01-05T06:52:06.819368347-08:00","close_reason":"Completed as part of voidlock-awkp. Verified targetUnitId implementation in Shared Types, Engine (Director/Executor), and Renderer (MenuController)."}
{"id":"voidlock-y58","title":"Bug: Fix undefined squad soldiers on load","description":"The game fails to load with 'Cannot read properties of undefined (reading 'filter')' in 'src/renderer/main.ts'. likely 'currentSquad.soldiers' is undefined if loading from an old config format. Need to migrate or default 'currentSquad' correctly.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-31T19:11:25.196780755-08:00","updated_at":"2026-01-03T19:08:39.811079952-08:00","closed_at":"2025-12-31T19:19:29.046542921-08:00"}
{"id":"voidlock-y8m","title":"Verify Phase 2: Coverage Gap Filling","description":"Manual verification step for Phase 2 completion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T09:29:23.887761472-08:00","updated_at":"2026-01-03T19:08:39.606673917-08:00","closed_at":"2025-12-21T10:20:18.856148634-08:00","dependencies":[{"issue_id":"voidlock-y8m","depends_on_id":"voidlock-8e2","type":"parent-child","created_at":"2025-12-21T09:29:23.889159044-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ybw","title":"Implement GameClient","description":"Wrapper for Worker communication","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:16:39.934332599-08:00","updated_at":"2026-01-03T19:08:39.549809279-08:00","closed_at":"2025-12-13T10:17:05.487394356-08:00","dependencies":[{"issue_id":"voidlock-ybw","depends_on_id":"voidlock-wrb","type":"parent-child","created_at":"2025-12-13T10:16:39.934992572-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ydu","title":"Enforce Map Constraints","description":"Enforce max map size 16x16 and ensure no open space larger than 2x2 in TreeShipGenerator. Fix 'Where are all the walls?' feedback.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-18T20:14:22.970582656-08:00","updated_at":"2026-01-03T19:08:39.888039036-08:00","closed_at":"2025-12-19T18:22:36.733823708-08:00"}
{"id":"voidlock-yiv1","title":"bug","description":"Implements spec/campaign.md#5. Create CampaignSummaryScreen.ts. Display Mission/Campaign stats (Kills, Scrap, Survivors). Handle Victory and Defeat states.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T19:21:40.945589468-08:00","created_by":"rkj","updated_at":"2026-01-14T20:58:59.781895997-08:00","closed_at":"2026-01-14T20:58:59.781895997-08:00","close_reason":"Implemented CampaignSummaryScreen, refactored victory/defeat logic from CampaignScreen, and updated tests.","dependencies":[{"issue_id":"voidlock-yiv1","depends_on_id":"voidlock-9s6u","type":"blocks","created_at":"2026-01-13T19:21:48.813899026-08:00","created_by":"rkj"}]}
{"id":"voidlock-yiw","title":"Visual Polish \u0026 Theming","description":"Implement a robust asset management and theming system to support visual variety.","status":"closed","priority":4,"issue_type":"epic","created_at":"2026-01-01T18:29:57.357414508-08:00","updated_at":"2026-01-04T18:14:49.394921541-08:00","closed_at":"2026-01-04T18:14:49.394921541-08:00","close_reason":"All foundational child tasks for asset processing and theme support have been implemented and verified."}
{"id":"voidlock-yl4e","title":"Test: Verify campaignNodeId propagation in GameClient","description":"Create a regression test in tests/engine/GameClient.test.ts. Initialize GameClient with a campaignNodeId and spy on the worker postMessage to ensure the INIT message contains the correct nodeType and campaignNodeId.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T21:07:45.984736414-08:00","created_by":"rkj","updated_at":"2026-01-14T21:12:12.708507559-08:00","closed_at":"2026-01-14T21:12:12.708507559-08:00","close_reason":"Created regression test verifying campaignNodeId propagation."}
{"id":"voidlock-ylo","title":"Fix XP/Leveling Build Errors (P0)","description":"Fix TypeScript errors caused by missing 'kills' in Unit mocks and 'soldierAim' in CampaignSoldier mocks across multiple test files.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-01T19:24:26.70554705-08:00","updated_at":"2026-01-03T19:08:39.724596178-08:00","closed_at":"2026-01-02T09:04:18.042619088-08:00"}
{"id":"voidlock-ylvi","title":"Fix Medkit/Stimpack Targeting Overlay","description":"Fix Medkit/Stimpack Targeting Overlay.\nImplement specific targeting behavior for Medkits and Stimpacks as defined in `spec/ui.md`. Currently, they use the generic \"Cell/Room\" targeting.\n1. In `src/renderer/MenuController.ts`, modify the `ITEM_SELECT` handling logic.\n2. Check `ItemLibrary[itemId].action`.\n3. If `action === \"Heal\"`, call `generateTargetOverlay(\"FRIENDLY_UNIT\", gameState)`.\n4. Ensure `handleCanvasClick` and `handleMenuInput` correctly map the selection to a Unit ID or Unit Position when in `FRIENDLY_UNIT` mode (Medkit targeting).\n   - *Note:* `USE_ITEM` command in engine accepts `target: Vector2`. Ensure the selected unit's position is sent.\n5. Verify that `generateTargetOverlay(\"FRIENDLY_UNIT\")` works as expected.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:01:29.148822851-08:00","created_by":"rkj","updated_at":"2026-01-04T19:06:18.321155826-08:00","closed_at":"2026-01-04T19:06:18.321155826-08:00","close_reason":"Superseded by voidlock-xy6f which includes necessary backend changes."}
{"id":"voidlock-ynn","title":"CI: Verify tests pass","description":"Run full test suite to confirm refactor success.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T18:21:06.086828213-08:00","updated_at":"2026-01-03T19:08:39.735857646-08:00","closed_at":"2026-01-03T14:10:42.254773024-08:00","close_reason":"Verified all tests pass. Roster management and autonomous targeting logic confirmed stable.","dependencies":[{"issue_id":"voidlock-ynn","depends_on_id":"voidlock-2t2","type":"blocks","created_at":"2026-01-01T18:37:04.074902619-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ynym","title":"task","description":"Create a test to verify that UnitLayer is rendered after MapLayer (or wherever static entities are). This is a regression test for voidlock-rgt7.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T21:44:53.387649706-08:00","created_by":"rkj","updated_at":"2026-01-13T21:50:32.402421974-08:00","closed_at":"2026-01-13T21:50:32.402421974-08:00","close_reason":"Test created and confirms rendering order fix."}
{"id":"voidlock-yq4","title":"Implement Space Hulk Tile Assembly and Rasterization to CellGrid","description":"Develop functionality to assemble Space Hulk tiles and rasterize them into the game's native CellGrid format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T16:29:22.678882133-08:00","updated_at":"2026-01-03T19:08:39.885036856-08:00","closed_at":"2025-12-14T11:33:55.901896403-08:00","labels":["complexity:hard"]}
{"id":"voidlock-yru","title":"Refactor MapGenerator.validate","description":"Update 'MapGenerator.validate()' to use 'PlacementValidator' logic or explicit coordinate checks to return errors for overlapping entities.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T18:00:19.575263889-08:00","updated_at":"2026-01-03T19:08:39.83298916-08:00","closed_at":"2025-12-29T20:08:12.059355149-08:00","dependencies":[{"issue_id":"voidlock-yru","depends_on_id":"voidlock-cwp","type":"parent-child","created_at":"2025-12-29T18:00:19.57583694-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ysdo","title":"Implement Advanced Campaign Setup UI","description":"Implements `spec/ui.md#8.6`\n\nModify `src/renderer/screens/CampaignScreen.ts` in the `renderNoCampaign` method.\n\n**Visuals:**\n1. Add a 'Show Advanced Options' link/button below the Theme selector.\n2. When clicked, reveal a container with:\n   - **Seed Input:** Number field + 'Randomize' button.\n   - **Generator:** Select (Procedural, TreeShip, DenseShip).\n   - **Custom Rules:**\n     - Scaling Slider (0.5 - 3.0)\n     - Scarcity Slider (0.5 - 2.0)\n     - Death Rule Select (Same as difficulty, but independent).\n\n**Logic:**\n1. When clicking 'Start Campaign', gather values from these fields (if visible/set).\n2. Pass them to `CampaignManager.startNewCampaign` via the new `overrides` parameter.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:37:26.465585674-08:00","created_by":"rkj","updated_at":"2026-01-09T19:11:51.470733313-08:00","closed_at":"2026-01-09T19:11:51.470733313-08:00","close_reason":"Already implemented as part of voidlock-a6i8. Verified with manual UI inspection."}
{"id":"voidlock-yup","title":"Refactor: Hierarchical Keyboard-First Command System","description":"Implement the strict hierarchy: Action (Move/Stop/Engage/Collect/Extract) -\u003e Sub-choice (Target/Mode) -\u003e Unit(s). Ensure 100% keyboard accessibility (1-9, ESC). Restore Engage/Ignore toggle. Restore UI constraints (no scroll, no wrap, no jitter). Clear Game Over state on mission restart.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T20:18:56.094448281-08:00","updated_at":"2026-01-03T19:08:39.456990412-08:00","closed_at":"2025-12-23T20:26:20.247011894-08:00"}
{"id":"voidlock-yvc","title":"Reorganize UI Panels (Time/Status, Soldiers, Commands)","description":"Adjust UI layout: \\n- Move Time/Status to top.\\n- Move Soldiers panel to top or bottom (RPG style).\\n- Dedicate right panel for Commands/Objectives.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T20:01:16.441545451-08:00","updated_at":"2026-01-03T19:08:39.68003648-08:00","closed_at":"2025-12-23T17:10:29.72014705-08:00"}
{"id":"voidlock-yvin","title":"Implement Elite Missions and Bonus Loot","description":"Superseded by atomic tickets voidlock-p98x, voidlock-u12y, voidlock-l33t, etc. following PM2 mandate.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T21:09:10.208846795-08:00","created_by":"rkj","updated_at":"2026-01-07T21:12:19.473480097-08:00","closed_at":"2026-01-07T21:12:19.473483898-08:00"}
{"id":"voidlock-yxg","title":"Implement MapGenerator to load static map data","description":"Add a method to MapGenerator (e.g., loadStaticMap) that accepts a MapDefinition object and returns it, allowing the game to use predefined map layouts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:24:18.477824002-08:00","updated_at":"2026-01-03T19:08:39.81516977-08:00","closed_at":"2025-12-13T13:35:54.867648388-08:00"}
{"id":"voidlock-yy8","title":"System: Space Hulk Map Importer","description":"Implement the pipeline in spec/backlog.md:\n1. 'TileLibrary': Static definitions of SH tiles (occupied cells + door sockets).\n2. 'Rasterizer': Assemble SH tiles into native 'CellGrid' format.\n3. 'Validator': Verify connectivity and reachability of objectives.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-31T09:29:18.829049416-08:00","updated_at":"2026-01-04T17:13:44.30810111-08:00","closed_at":"2026-01-04T17:13:44.30810111-08:00","close_reason":"Implemented full Space Hulk Map Importer pipeline with tests."}
{"id":"voidlock-yyu","title":"AI: VIP Behavior","description":"Implement VIP-specific AI: unarmed, prioritizes avoiding enemies, ignores objectives, and prioritizes moving to extraction. Update spec.md.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T13:36:43.366451758-08:00","updated_at":"2026-01-03T19:08:39.456323619-08:00","closed_at":"2025-12-27T07:07:20.86951428-08:00","labels":["ai","feature"]}
{"id":"voidlock-z1zk","title":"Enable State Restoration after Manual Actions","description":"Implements `spec/ai.md#4.1`\n\n**User Issue:** 'after they finished picking up (with manual order) they should go back to what they were doing previously'.\n\n**Logic Changes:**\n1. Modify `src/engine/managers/UnitManager.ts` or `CommandExecutor.ts`.\n2. When a Manual Command (e.g. `PICKUP`) completes:\n   - Check if the unit's previous state (before the command) was `aiEnabled = true`.\n   - OR, simply: If the queue is empty, set `aiEnabled = true` by default?\n   - **Better Approach:** Add a `restoreAI: boolean` flag to the `Command` interface or metadata.\n   - For simple manual actions like `PICKUP` or `OPEN_DOOR`, if the user issued it while the unit was autonomous, we should implicitly re-enable AI upon completion.\n   - **Implementation:**\n     - If a unit has `aiEnabled=false` (Manual Control) and finishes its queue, it stays Idle.\n     - We need a way to say 'Do this one thing, then go back to being smart'.\n     - **Solution:** Add a 'Resume AI' behavior. If `PICKUP` finishes, and no other commands are queued, default to `aiEnabled = true`? No, that's dangerous.\n     - **Compromise:** If the `PICKUP` was generated autonomously (see `voidlock-v5n8`), `aiEnabled` stays true, so it works. For *Manual* orders, the user should queue a `RESUME_AI` command or we just accept standard RTS behavior (Stop).\n     - **Refinement:** The User explicitly asked for this. So:\n       - When a `PICKUP` command is issued manually, check if the unit was `aiEnabled`. If so, append a `RESUME_AI` command to the queue automatically.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:56:59.606616027-08:00","created_by":"rkj","updated_at":"2026-01-11T18:30:09.239640932-08:00","closed_at":"2026-01-11T18:30:09.239640932-08:00","close_reason":"Implemented state restoration for units after manual PICKUP and USE_ITEM commands. Verified with new regression test."}
{"id":"voidlock-z34","title":"Bug: Unit engagement policy auto-resets to ENGAGE unexpectedly","description":"User reports that unit engagement policy changes to ENGAGE on its own without command. Suspect autonomous behavior logic or retreat/regroup reset conditions are too aggressive.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-24T21:21:58.643228185-08:00","updated_at":"2026-01-03T19:08:39.711479455-08:00","closed_at":"2025-12-24T21:31:01.565034831-08:00"}
{"id":"voidlock-z3e","title":"Pipeline: Create Asset Processor Script","description":"Script to crop and scale raw assets from NanoBanana Assets to public/assets. Link dependencies to voidlock-yiw.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-01T18:30:11.693828477-08:00","updated_at":"2026-01-03T19:08:39.80493337-08:00","closed_at":"2026-01-03T18:21:00.583685759-08:00","close_reason":"Implemented automated asset pipeline with scripts/process_assets.ts and manifest generation. Verified with tests and build. Version bumped to 0.54.1.","dependencies":[{"issue_id":"voidlock-z3e","depends_on_id":"voidlock-x8j","type":"blocks","created_at":"2026-01-01T18:36:13.267880616-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-z49","title":"Initialize Vite Project","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T09:48:05.032126088-08:00","updated_at":"2026-01-03T19:08:39.947074457-08:00","closed_at":"2025-12-13T09:53:43.88112525-08:00","dependencies":[{"issue_id":"voidlock-z49","depends_on_id":"voidlock-7yp","type":"parent-child","created_at":"2025-12-13T09:48:05.033428553-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-z7i","title":"Docs: Update Speed Spec","description":"Update spec/simulation.md:\\n1. Define 'Speed 30' as 1 tile/sec.\\n2. Slider Range: 0.1x to 10.0x (Logarithmic scale).\\n3. Active Pause (0.05x) separated from slider interaction.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T17:16:52.052852615-08:00","created_by":"rkj","updated_at":"2026-01-03T19:08:39.465644973-08:00","closed_at":"2026-01-03T17:21:56.997941554-08:00","close_reason":"Updated speed specifications in simulation, combat_units, and ui docs. Verified consistency across documentation and project stability with tests and build. Version bumped to 0.51.8."}
{"id":"voidlock-zcl","title":"Update types for new Door entity","description":"Update src/shared/types.ts to include the new Door entity definition (with segment and orientation properties) and integrate it into MapDefinition.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T13:35:09.217269995-08:00","updated_at":"2026-01-03T19:08:39.673165661-08:00","closed_at":"2025-12-13T13:35:21.442800565-08:00","dependencies":[{"issue_id":"voidlock-zcl","depends_on_id":"voidlock-14a","type":"blocks","created_at":"2025-12-13T13:35:09.218014943-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-zeo","title":"Implement Fixed Spaceship Layout","description":"Replace random maze with a structured 16x16 spaceship interior","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T13:11:34.262544098-08:00","updated_at":"2026-01-03T19:08:39.8408709-08:00","closed_at":"2025-12-13T13:13:36.099111366-08:00","dependencies":[{"issue_id":"voidlock-zeo","depends_on_id":"voidlock-4kk","type":"parent-child","created_at":"2025-12-13T13:11:34.263543522-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-ziv","title":"Refine Autonomous Exploration","description":"Ensure soldiers stop exploring once all Floor cells are in 'discoveredCells' (have been seen via LOS). Verify if existing logic already handles this correctly or needs optimization to avoid unnecessary movement near edges.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T18:54:45.395952309-08:00","updated_at":"2026-01-03T19:08:39.70665079-08:00","closed_at":"2025-12-23T18:59:02.943128804-08:00"}
{"id":"voidlock-zkhz","title":"Repro Invincible Combat","description":"Create a reproduction test case using tests/data/weird_fight.json to confirm invincible combat bug. Ref: spec/combat_units.md#3.3.5","status":"closed","priority":2,"issue_type":"task","owner":"rkj@google.com","created_at":"2026-01-19T16:16:42.568923885-08:00","created_by":"Roman Kamyk","updated_at":"2026-01-19T16:47:45.436396136-08:00","closed_at":"2026-01-19T16:47:45.436396136-08:00","close_reason":"Implemented via sub-agent and verified with regression test."}
{"id":"voidlock-zlp","title":"Implement Combat Visuals (Tracers)","description":"Render bullet lines based on attack state","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T12:43:59.832665091-08:00","updated_at":"2026-01-03T19:08:39.632410303-08:00","closed_at":"2025-12-13T12:46:11.175301238-08:00","dependencies":[{"issue_id":"voidlock-zlp","depends_on_id":"voidlock-97y","type":"parent-child","created_at":"2025-12-13T12:43:59.833286509-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlock-zlw","title":"Fix VIP Death Mission Success","description":"The mission is reported as successful even if the VIP dies. Ensure VIP death triggers a mission failure.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T17:56:54.030721405-08:00","updated_at":"2026-01-03T19:08:39.45963415-08:00","closed_at":"2025-12-28T19:33:22.149865557-08:00"}
{"id":"voidlock-znc","title":"Epic: Campaign Infrastructure","description":"Implementation of the core Campaign logic, state management, and map generation.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T08:03:56.448687972-08:00","updated_at":"2026-01-03T19:08:39.72139402-08:00","closed_at":"2025-12-31T18:43:02.562003104-08:00"}
{"id":"voidlock-zoy","title":"Bug: DenseShipGenerator ignores width/height config","description":"User reports that Dense Ship generator always produces 16x16 maps regardless of UI settings. Need to verify parameter passing from UI -\u003e Generator.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T18:40:14.822545598-08:00","updated_at":"2026-01-03T19:08:39.57588135-08:00","closed_at":"2025-12-21T18:42:24.799299725-08:00"}
{"id":"voidlock-zsn4","title":"Script: Asset Processor","description":"Create/Update 'scripts/process_assets.ts' to:\\n1. Read PNGs from 'NanoBanana Assets/'.\\n2. Trim transparency/Crop to content.\\n3. Resize to standard dimensions (e.g., 128x128 for Units).\\n4. Convert to WebP (confirming intent vs WebM).\\n5. Output to 'public/assets/'.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-04T11:42:35.403078683-08:00","created_by":"rkj","updated_at":"2026-01-06T20:46:48.089741985-08:00","closed_at":"2026-01-06T20:46:48.089741985-08:00","close_reason":"Script already implemented and functioning. Used by Asset Pipeline tests and verified as working."}
{"id":"voidlock-zsn4.1","title":"Load Asset Manifest in ThemeManager","description":"See `src/renderer/ThemeManager.ts`.\n\n**Goal**: Load `assets.json` and provide lookup.\n\n**Logic**:\n1. Add `assets: Record\u003cstring, string\u003e = {}` to `ThemeManager`.\n2. In `constructor` or `init`, fetch `/assets/assets.json` and store it.\n3. Add `getAssetUrl(logicalName: string): string | null`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:43:38.711779596-08:00","created_by":"rkj","updated_at":"2026-01-04T21:01:15.929314178-08:00","closed_at":"2026-01-04T20:03:03.890777625-08:00","dependencies":[{"issue_id":"voidlock-zsn4.1","depends_on_id":"voidlock-zsn4","type":"parent-child","created_at":"2026-01-04T19:43:38.721851965-08:00","created_by":"rkj"},{"issue_id":"voidlock-zsn4.1","depends_on_id":"voidlock-jrh5.1","type":"blocks","created_at":"2026-01-04T20:00:34.623556877-08:00","created_by":"rkj"}]}
{"id":"voidlock-zsn4.2","title":"Update Renderer to Draw Sprites","description":"See `src/renderer/Renderer.ts`.\n\n**Goal**: Render units/enemies using loaded assets.\n\n**Logic**:\n1. In `Renderer`, load all assets defined in `ThemeManager` (or lazy load).\n2. Create a mapping in `Renderer` (or `ThemeManager`) from `ArchetypeId` / `EnemyType` to asset logical names:\n   - `assault` -\u003e `soldier_demolition` (closest visual match)\n   - `heavy` -\u003e `soldier_heavy`\n   - `medic` -\u003e `soldier_medic`\n   - `scout` -\u003e `soldier_scout`\n   - `vip` -\u003e `soldier_scout` (or fallback)\n   - `Xeno-Mite` -\u003e `xeno_swarmer_1`\n   - `Warrior-Drone` -\u003e `xeno_drone_2`\n   - `Praetorian-Guard` -\u003e `xeno_guard_3`\n   - `Spitter-Acid` -\u003e `xeno_spitter`\n   - `Hive` -\u003e `void` (or keep custom draw?)\n3. In `renderUnits` and `renderEnemies`, use `ctx.drawImage` if asset exists, otherwise fallback to existing shape/color logic.\n4. Ensure rotation/facing is handled if possible. `Unit` has `targetPos` but not explicit facing. Infer facing from `targetPos - pos` or `lastAttackTarget - pos`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:43:43.780439272-08:00","created_by":"rkj","updated_at":"2026-01-04T21:01:15.9306767-08:00","closed_at":"2026-01-04T20:03:08.96555649-08:00","dependencies":[{"issue_id":"voidlock-zsn4.2","depends_on_id":"voidlock-zsn4","type":"parent-child","created_at":"2026-01-04T19:43:43.792719125-08:00","created_by":"rkj"},{"issue_id":"voidlock-zsn4.2","depends_on_id":"voidlock-zsn4.1","type":"blocks","created_at":"2026-01-04T19:44:06.580036336-08:00","created_by":"rkj"}]}
